<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>Programming Language Foundations in Agda – Denotational</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">Programming Language Foundations in Agda</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">The Book</a> <a class="page-link" href="../Announcements/">Announcements</a> <a class="page-link" href="../GettingStarted/">Getting Started</a> <a class="page-link" href="../Citing/">Citing</a> <a class="page-link" href="https://agda-zh.github.io/PLFA-zh/">中文</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">Prev</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part3/Denotational.lagda.md">Source</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">Next</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Denotational: Denotational semantics of untyped lambda calculus</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part3-Denotational-123" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-130" href="../Denotational/#" class="Module">plfa.part3.Denotational</a> <a id="plfa_plfa-part3-Denotational-154" class="Keyword">where</a>
</pre><p>The lambda calculus is a language about <em>functions</em>, that is, mappings from input to output. In computing we often think of such mappings as being carried out by a sequence of operations that transform an input into an output. But functions can also be represented as data. For example, one can tabulate a function, that is, create a table where each row has two entries, an input and the corresponding output for the function. Function application is then the process of looking up the row for a given input and reading off the output.</p><p>We shall create a semantics for the untyped lambda calculus based on this idea of functions-as-tables. However, there are two difficulties that arise. First, functions often have an infinite domain, so it would seem that we would need infinitely long tables to represent functions. Second, in the lambda calculus, functions can be applied to functions. They can even be applied to themselves! So it would seem that the tables would contain cycles. One might start to worry that advanced techniques are necessary to address these issues, but fortunately this is not the case!</p><p>The first problem, of functions with infinite domains, is solved by observing that in the execution of a terminating program, each lambda abstraction will only be applied to a finite number of distinct arguments. (We come back later to discuss diverging programs.) This observation is another way of looking at Dana Scott’s insight that only continuous functions are needed to model the lambda calculus.</p><p>The second problem, that of self-application, is solved by relaxing the way in which we lookup an argument in a function’s table. Naively, one would look in the table for a row in which the input entry exactly matches the argument. In the case of self-application, this would require the table to contain a copy of itself. Impossible! (At least, it is impossible if we want to build tables using inductive data type definitions, which indeed we do.) Instead it is sufficient to find an input such that every row of the input appears as a row of the argument (that is, the input is a subset of the argument). In the case of self-application, the table only needs to contain a smaller copy of itself, which is fine.</p><p>With these two observations in hand, it is straightforward to write down a denotational semantics of the lambda calculus.</p><h2 id="imports">Imports</h2><pre class="Agda"><a id="plfa_plfa-part3-Denotational-2545" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2550" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2557" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="plfa_plfa-part3-Denotational-2571" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2577" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2578" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-2579" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2581" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="plfa_plfa-part3-Denotational-2585" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2587" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="plfa_plfa-part3-Denotational-2590" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2592" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2597" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2604" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="plfa_plfa-part3-Denotational-2622" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2628" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2629" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="plfa_plfa-part3-Denotational-2632" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2634" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Sigma.html#165" class="Record">Σ</a><a id="plfa_plfa-part3-Denotational-2635" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2637" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">Σ-syntax</a><a id="plfa_plfa-part3-Denotational-2645" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2647" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#852" class="Function">∃</a><a id="plfa_plfa-part3-Denotational-2648" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2650" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1371" class="Function">∃-syntax</a><a id="plfa_plfa-part3-Denotational-2658" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2660" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#636" class="Field">proj₁</a><a id="plfa_plfa-part3-Denotational-2665" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2667" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#650" class="Field">proj₂</a><a id="plfa_plfa-part3-Denotational-2672" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-2676" class="Keyword">renaming</a> <a id="plfa_plfa-part3-Denotational-2685" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2686" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part3-Denotational-2690" class="Symbol">to</a> <a id="plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part3-Denotational-2698" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2700" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2705" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2712" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="plfa_plfa-part3-Denotational-2726" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2732" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2733" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#625" class="Datatype Operator">_⊎_</a><a id="plfa_plfa-part3-Denotational-2736" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2738" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a><a id="plfa_plfa-part3-Denotational-2742" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2744" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a><a id="plfa_plfa-part3-Denotational-2748" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2750" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2755" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2762" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html" class="Module">Data.Vec.Base</a> <a id="plfa_plfa-part3-Denotational-2776" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2782" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2783" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1119" class="Datatype">Vec</a><a id="plfa_plfa-part3-Denotational-2786" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2788" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-2790" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2792" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">_∷_</a><a id="plfa_plfa-part3-Denotational-2795" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2797" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2802" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2809" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
  <a id="plfa_plfa-part3-Denotational-2849" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2855" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2856" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part3-Denotational-2859" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2861" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-2865" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2867" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2872" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2879" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="plfa_plfa-part3-Denotational-2905" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2911" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2912" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="plfa_plfa-part3-Denotational-2914" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-2916" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a><a id="plfa_plfa-part3-Denotational-2929" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2931" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2936" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2943" href="https://agda.github.io/agda-stdlib/v2.1/Function.Base.html" class="Module">Function.Base</a> <a id="plfa_plfa-part3-Denotational-2957" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-2963" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-2964" href="https://agda.github.io/agda-stdlib/v2.1/Function.Base.html#1115" class="Function Operator">_∘_</a><a id="plfa_plfa-part3-Denotational-2967" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-2969" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-2974" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-2981" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
  <a id="plfa_plfa-part3-Denotational-3002" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3008" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3009" href="../Untyped/#plfa_plfa-part2-Untyped-2750" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-3016" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3018" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-3019" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3021" href="../Untyped/#plfa_plfa-part2-Untyped-3126" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part3-Denotational-3024" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3026" href="../Untyped/#plfa_plfa-part2-Untyped-2772" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-Denotational-3027" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3029" href="../Untyped/#plfa_plfa-part2-Untyped-2788" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part3-Denotational-3032" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3034" href="../Untyped/#plfa_plfa-part2-Untyped-3162" class="InductiveConstructor">Z</a><a id="plfa_plfa-part3-Denotational-3035" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3037" href="../Untyped/#plfa_plfa-part2-Untyped-3207" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part3-Denotational-3039" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3041" href="../Untyped/#plfa_plfa-part2-Untyped-3903" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part3-Denotational-3044" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3046" href="../Untyped/#plfa_plfa-part2-Untyped-3939" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part3-Denotational-3048" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3050" href="../Untyped/#plfa_plfa-part2-Untyped-4051" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part3-Denotational-3053" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3055" href="../Untyped/#plfa_plfa-part2-Untyped-3991" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part3-Denotational-3057" class="Symbol">;</a>
         <a id="plfa_plfa-part3-Denotational-3068" href="../Untyped/#plfa_plfa-part2-Untyped-4782" class="Function Operator">#_</a><a id="plfa_plfa-part3-Denotational-3070" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3072" href="../Untyped/#plfa_plfa-part2-Untyped-5022" class="Function">twoᶜ</a><a id="plfa_plfa-part3-Denotational-3076" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3078" href="../Untyped/#plfa_plfa-part2-Untyped-5709" class="Function">ext</a><a id="plfa_plfa-part3-Denotational-3081" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3083" href="../Untyped/#plfa_plfa-part2-Untyped-6023" class="Function">rename</a><a id="plfa_plfa-part3-Denotational-3089" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3091" href="../Untyped/#plfa_plfa-part2-Untyped-6463" class="Function">exts</a><a id="plfa_plfa-part3-Denotational-3095" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3097" href="../Untyped/#plfa_plfa-part2-Untyped-6759" class="Function">subst</a><a id="plfa_plfa-part3-Denotational-3102" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3104" href="../Untyped/#plfa_plfa-part2-Untyped-7175" class="Function">subst-zero</a><a id="plfa_plfa-part3-Denotational-3114" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3116" href="../Untyped/#plfa_plfa-part2-Untyped-7291" class="Function Operator">_[_]</a><a id="plfa_plfa-part3-Denotational-3120" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3122" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3127" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3134" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part3-Denotational-3158" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3164" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3165" href="../Substitution/#plfa_plfa-part2-Substitution-2133" class="Function">Rename</a><a id="plfa_plfa-part3-Denotational-3171" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3173" href="../Substitution/#plfa_plfa-part2-Substitution-1864" class="Postulate">extensionality</a><a id="plfa_plfa-part3-Denotational-3187" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3189" href="../Substitution/#plfa_plfa-part2-Substitution-17227" class="Function">rename-id</a><a id="plfa_plfa-part3-Denotational-3198" class="Symbol">)</a>
</pre><h2 id="values">Values</h2><p>The <code>Value</code> data type represents a finite portion of a function. We think of a value as a finite set of pairs that represent input-output mappings. The <code>Value</code> data type represents the set as a binary tree whose internal nodes are the union operator and whose leaves represent either a single mapping or the empty set.</p><ul><li><p>The ⊥ value provides no information about the computation.</p></li><li><p>A value of the form <code>v ↦ w</code> is a single input-output mapping, from input <code>v</code> to output <code>w</code>.</p></li><li><p>A value of the form <code>v ⊔ w</code> is a function that maps inputs to outputs according to both <code>v</code> and <code>w</code>. Think of it as taking the union of the two sets.</p></li></ul><pre class="Agda"><a id="plfa_plfa-part3-Denotational-3875" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-3882" class="Number">7</a> <a id="plfa_plfa-part3-Denotational-3884" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">_↦_</a>
<a id="plfa_plfa-part3-Denotational-3888" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-3895" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-3897" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">_⊔_</a>

<a id="plfa_plfa-part3-Denotational-3902" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Value"></a><a id="plfa_plfa-part3-Denotational-3907" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-3913" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-3915" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-3919" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Value.⊥"></a><a id="plfa_plfa-part3-Denotational-3927" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-3929" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-3931" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._↦_"></a><a id="plfa_plfa-part3-Denotational-3939" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">_↦_</a> <a id="plfa_plfa-part3-Denotational-3943" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-3945" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-3951" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-3953" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-3959" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-3961" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._⊔_"></a><a id="plfa_plfa-part3-Denotational-3969" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">_⊔_</a> <a id="plfa_plfa-part3-Denotational-3973" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-3975" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-3981" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-3983" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-3989" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-3991" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a>
</pre><p>The <code>⊑</code> relation adapts the familiar notion of subset to the Value data type. This relation plays the key role in enabling self-application. There are two rules that are specific to functions, <code>⊑-fun</code> and <code>⊑-dist</code>, which we discuss below.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-4250" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-4256" class="Number">4</a> <a id="plfa_plfa-part3-Denotational-4258" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">_⊑_</a>

<a id="plfa_plfa-part3-Denotational-4263" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊑_"></a><a id="plfa_plfa-part3-Denotational-4268" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">_⊑_</a> <a id="plfa_plfa-part3-Denotational-4272" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4274" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4280" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4282" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4288" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4290" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-4294" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-bot"></a><a id="plfa_plfa-part3-Denotational-4303" href="../Denotational/#plfa_plfa-part3-Denotational-4303" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-4309" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4311" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4313" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4314" href="../Denotational/#plfa_plfa-part3-Denotational-4314" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-4315" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-4317" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4319" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-4321" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4323" href="../Denotational/#plfa_plfa-part3-Denotational-4314" class="Bound">v</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-L"></a><a id="plfa_plfa-part3-Denotational-4328" href="../Denotational/#plfa_plfa-part3-Denotational-4328" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-4337" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4339" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4341" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4342" href="../Denotational/#plfa_plfa-part3-Denotational-4342" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4344" href="../Denotational/#plfa_plfa-part3-Denotational-4344" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4346" href="../Denotational/#plfa_plfa-part3-Denotational-4346" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4347" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-4353" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4355" href="../Denotational/#plfa_plfa-part3-Denotational-4344" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4357" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4359" href="../Denotational/#plfa_plfa-part3-Denotational-4342" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-4365" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4367" href="../Denotational/#plfa_plfa-part3-Denotational-4346" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-4369" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4371" href="../Denotational/#plfa_plfa-part3-Denotational-4342" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-4379" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-4395" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4397" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4398" href="../Denotational/#plfa_plfa-part3-Denotational-4344" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4400" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-4402" href="../Denotational/#plfa_plfa-part3-Denotational-4346" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4403" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-4405" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4407" href="../Denotational/#plfa_plfa-part3-Denotational-4342" class="Bound">u</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R1"></a><a id="plfa_plfa-part3-Denotational-4412" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-4422" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4424" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4426" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4427" href="../Denotational/#plfa_plfa-part3-Denotational-4427" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4429" href="../Denotational/#plfa_plfa-part3-Denotational-4429" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4431" href="../Denotational/#plfa_plfa-part3-Denotational-4431" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4432" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-4438" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4440" href="../Denotational/#plfa_plfa-part3-Denotational-4427" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4442" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4444" href="../Denotational/#plfa_plfa-part3-Denotational-4429" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-4452" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-4468" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4470" href="../Denotational/#plfa_plfa-part3-Denotational-4427" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4472" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4474" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4475" href="../Denotational/#plfa_plfa-part3-Denotational-4429" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4477" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-4479" href="../Denotational/#plfa_plfa-part3-Denotational-4431" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4480" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R2"></a><a id="plfa_plfa-part3-Denotational-4485" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-4495" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4497" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4499" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4500" href="../Denotational/#plfa_plfa-part3-Denotational-4500" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4502" href="../Denotational/#plfa_plfa-part3-Denotational-4502" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4504" href="../Denotational/#plfa_plfa-part3-Denotational-4504" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4505" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-4511" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4513" href="../Denotational/#plfa_plfa-part3-Denotational-4500" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4515" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4517" href="../Denotational/#plfa_plfa-part3-Denotational-4504" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-4525" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-4541" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4543" href="../Denotational/#plfa_plfa-part3-Denotational-4500" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4545" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4547" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4548" href="../Denotational/#plfa_plfa-part3-Denotational-4502" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4550" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-4552" href="../Denotational/#plfa_plfa-part3-Denotational-4504" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4553" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-trans"></a><a id="plfa_plfa-part3-Denotational-4558" href="../Denotational/#plfa_plfa-part3-Denotational-4558" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-4566" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4568" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4570" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4571" href="../Denotational/#plfa_plfa-part3-Denotational-4571" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4573" href="../Denotational/#plfa_plfa-part3-Denotational-4573" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4575" href="../Denotational/#plfa_plfa-part3-Denotational-4575" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4576" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-4582" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4584" href="../Denotational/#plfa_plfa-part3-Denotational-4571" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4586" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4588" href="../Denotational/#plfa_plfa-part3-Denotational-4573" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-4594" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4596" href="../Denotational/#plfa_plfa-part3-Denotational-4573" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4598" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4600" href="../Denotational/#plfa_plfa-part3-Denotational-4575" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-4608" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-4618" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4620" href="../Denotational/#plfa_plfa-part3-Denotational-4571" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-4622" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4624" href="../Denotational/#plfa_plfa-part3-Denotational-4575" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-fun"></a><a id="plfa_plfa-part3-Denotational-4629" href="../Denotational/#plfa_plfa-part3-Denotational-4629" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-4635" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4637" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-4639" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-4640" href="../Denotational/#plfa_plfa-part3-Denotational-4640" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4642" href="../Denotational/#plfa_plfa-part3-Denotational-4642" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-4644" href="../Denotational/#plfa_plfa-part3-Denotational-4644" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-4647" href="../Denotational/#plfa_plfa-part3-Denotational-4647" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-4649" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-4655" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4657" href="../Denotational/#plfa_plfa-part3-Denotational-4644" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-4660" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4662" href="../Denotational/#plfa_plfa-part3-Denotational-4640" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-4668" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4670" href="../Denotational/#plfa_plfa-part3-Denotational-4642" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-4672" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4674" href="../Denotational/#plfa_plfa-part3-Denotational-4647" class="Bound">w′</a>
      <a id="plfa_plfa-part3-Denotational-4683" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-4707" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4709" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4710" href="../Denotational/#plfa_plfa-part3-Denotational-4640" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4712" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-4714" href="../Denotational/#plfa_plfa-part3-Denotational-4642" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4715" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-4717" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4719" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4720" href="../Denotational/#plfa_plfa-part3-Denotational-4644" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-4723" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-4725" href="../Denotational/#plfa_plfa-part3-Denotational-4647" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-4727" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-dist"></a><a id="plfa_plfa-part3-Denotational-4732" href="../Denotational/#plfa_plfa-part3-Denotational-4732" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-4739" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4741" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-4743" href="../Denotational/#plfa_plfa-part3-Denotational-4743" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4745" href="../Denotational/#plfa_plfa-part3-Denotational-4745" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-4747" href="../Denotational/#plfa_plfa-part3-Denotational-4747" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-4749" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-4757" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-4795" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4797" href="../Denotational/#plfa_plfa-part3-Denotational-4743" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4799" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-4801" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4802" href="../Denotational/#plfa_plfa-part3-Denotational-4745" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-4804" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-4806" href="../Denotational/#plfa_plfa-part3-Denotational-4747" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-4808" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-4810" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-4812" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4813" href="../Denotational/#plfa_plfa-part3-Denotational-4743" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4815" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-4817" href="../Denotational/#plfa_plfa-part3-Denotational-4745" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-4818" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-4820" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-4822" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-4823" href="../Denotational/#plfa_plfa-part3-Denotational-4743" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-4825" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-4827" href="../Denotational/#plfa_plfa-part3-Denotational-4747" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-4829" class="Symbol">)</a>
</pre><p>The first five rules are straightforward. The rule <code>⊑-fun</code> captures when it is OK to match a higher-order argument <code>v′ ↦ w′</code> to a table entry whose input is <code>v ↦ w</code>. Considering a call to the higher-order argument. It is OK to pass a larger argument than expected, so <code>v</code> can be larger than <code>v′</code>. Also, it is OK to disregard some of the output, so <code>w</code> can be smaller than <code>w′</code>. The rule <code>⊑-dist</code> says that if you have two entries for the same input, then you can combine them into a single entry and joins the two outputs.</p><p>The <code>⊑</code> relation is reflexive.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-refl"></a><a id="plfa_plfa-part3-Denotational-5402" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-5409" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5411" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5413" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5414" href="../Denotational/#plfa_plfa-part3-Denotational-5414" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-5415" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5417" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5419" href="../Denotational/#plfa_plfa-part3-Denotational-5414" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5421" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5423" href="../Denotational/#plfa_plfa-part3-Denotational-5414" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-5425" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-5432" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5433" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-5434" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5436" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-5438" href="../Denotational/#plfa_plfa-part3-Denotational-4303" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-5444" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-5451" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5452" href="../Denotational/#plfa_plfa-part3-Denotational-5452" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5454" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5456" href="../Denotational/#plfa_plfa-part3-Denotational-5456" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-5458" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5460" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-5462" href="../Denotational/#plfa_plfa-part3-Denotational-4629" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-5468" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-5475" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-5482" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-5489" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5490" href="../Denotational/#plfa_plfa-part3-Denotational-5490" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-5493" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5495" href="../Denotational/#plfa_plfa-part3-Denotational-5495" class="Bound">v₂</a><a id="plfa_plfa-part3-Denotational-5497" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5499" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-5501" href="../Denotational/#plfa_plfa-part3-Denotational-4328" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-5510" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5511" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-5521" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-5527" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5529" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5530" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-5540" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-5546" class="Symbol">)</a>
</pre><p>The <code>⊔</code> operation is monotonic with respect to <code>⊑</code>, that is, given two larger values it produces a larger value.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑⊔"></a><a id="plfa_plfa-part3-Denotational-5675" href="../Denotational/#plfa_plfa-part3-Denotational-5675" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-5679" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5681" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5683" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5684" href="../Denotational/#plfa_plfa-part3-Denotational-5684" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5686" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5688" href="../Denotational/#plfa_plfa-part3-Denotational-5688" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5691" href="../Denotational/#plfa_plfa-part3-Denotational-5691" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5693" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-5697" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5699" href="../Denotational/#plfa_plfa-part3-Denotational-5684" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5701" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5703" href="../Denotational/#plfa_plfa-part3-Denotational-5688" class="Bound">v′</a>  <a id="plfa_plfa-part3-Denotational-5707" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-5710" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5712" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5714" href="../Denotational/#plfa_plfa-part3-Denotational-5691" class="Bound">w′</a>
    <a id="plfa_plfa-part3-Denotational-5721" class="Comment">-----------------------</a>
  <a id="plfa_plfa-part3-Denotational-5747" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5749" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5750" href="../Denotational/#plfa_plfa-part3-Denotational-5684" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5752" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5754" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5755" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5757" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5759" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5760" href="../Denotational/#plfa_plfa-part3-Denotational-5688" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5763" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5765" href="../Denotational/#plfa_plfa-part3-Denotational-5691" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5767" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-5769" href="../Denotational/#plfa_plfa-part3-Denotational-5675" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-5773" href="../Denotational/#plfa_plfa-part3-Denotational-5773" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-5776" href="../Denotational/#plfa_plfa-part3-Denotational-5776" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-5779" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-5781" href="../Denotational/#plfa_plfa-part3-Denotational-4328" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-5790" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5791" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-5801" href="../Denotational/#plfa_plfa-part3-Denotational-5773" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-5803" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5805" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5806" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-5816" href="../Denotational/#plfa_plfa-part3-Denotational-5776" class="Bound">d₂</a><a id="plfa_plfa-part3-Denotational-5818" class="Symbol">)</a>
</pre><p>The <code>⊑-dist</code> rule can be used to combine two entries even when the input values are not identical. One can first combine the two inputs using ⊔ and then apply the <code>⊑-dist</code> rule to obtain the following property.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔↦⊔-dist"></a><a id="plfa_plfa-part3-Denotational-6045" href="../Denotational/#plfa_plfa-part3-Denotational-6045" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-6054" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6056" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-6058" href="../Denotational/#plfa_plfa-part3-Denotational-6058" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6060" href="../Denotational/#plfa_plfa-part3-Denotational-6060" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-6063" href="../Denotational/#plfa_plfa-part3-Denotational-6063" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-6065" href="../Denotational/#plfa_plfa-part3-Denotational-6065" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-6068" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6070" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-6075" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-6079" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6081" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6082" href="../Denotational/#plfa_plfa-part3-Denotational-6058" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6084" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6086" href="../Denotational/#plfa_plfa-part3-Denotational-6060" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-6088" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6090" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-6092" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6093" href="../Denotational/#plfa_plfa-part3-Denotational-6063" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-6095" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6097" href="../Denotational/#plfa_plfa-part3-Denotational-6065" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-6099" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6101" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6103" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6104" href="../Denotational/#plfa_plfa-part3-Denotational-6058" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6106" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-6108" href="../Denotational/#plfa_plfa-part3-Denotational-6063" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-6109" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6111" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6113" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6114" href="../Denotational/#plfa_plfa-part3-Denotational-6060" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-6117" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-6119" href="../Denotational/#plfa_plfa-part3-Denotational-6065" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-6121" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-6123" href="../Denotational/#plfa_plfa-part3-Denotational-6045" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-6132" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6134" href="../Denotational/#plfa_plfa-part3-Denotational-4558" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-6142" href="../Denotational/#plfa_plfa-part3-Denotational-4732" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-6149" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6150" href="../Denotational/#plfa_plfa-part3-Denotational-5675" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-6154" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6155" href="../Denotational/#plfa_plfa-part3-Denotational-4629" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-6161" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6162" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6172" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6178" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6180" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6186" class="Symbol">)</a>
                            <a id="plfa_plfa-part3-Denotational-6216" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6217" href="../Denotational/#plfa_plfa-part3-Denotational-4629" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-6223" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6224" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6234" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6240" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6242" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6248" class="Symbol">))</a>
</pre><p>If the join <code>u ⊔ v</code> is less than another value <code>w</code>, then both <code>u</code> and <code>v</code> are less than <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑-invL"></a><a id="plfa_plfa-part3-Denotational-6446" href="../Denotational/#plfa_plfa-part3-Denotational-6446" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6454" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6456" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-6458" href="../Denotational/#plfa_plfa-part3-Denotational-6458" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-6460" href="../Denotational/#plfa_plfa-part3-Denotational-6460" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6462" href="../Denotational/#plfa_plfa-part3-Denotational-6462" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-6464" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6466" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-6471" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-6475" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6477" href="../Denotational/#plfa_plfa-part3-Denotational-6458" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-6479" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6481" href="../Denotational/#plfa_plfa-part3-Denotational-6460" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6483" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6485" href="../Denotational/#plfa_plfa-part3-Denotational-6462" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-6491" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-6503" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6505" href="../Denotational/#plfa_plfa-part3-Denotational-6458" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-6507" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6509" href="../Denotational/#plfa_plfa-part3-Denotational-6462" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-6511" href="../Denotational/#plfa_plfa-part3-Denotational-6446" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6519" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6520" href="../Denotational/#plfa_plfa-part3-Denotational-4328" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-6529" href="../Denotational/#plfa_plfa-part3-Denotational-6529" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-6533" href="../Denotational/#plfa_plfa-part3-Denotational-6533" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-6536" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6538" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6540" href="../Denotational/#plfa_plfa-part3-Denotational-6529" class="Bound">lt1</a>
<a id="plfa_plfa-part3-Denotational-6544" href="../Denotational/#plfa_plfa-part3-Denotational-6446" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6552" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6553" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6563" href="../Denotational/#plfa_plfa-part3-Denotational-6563" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6565" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6567" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6569" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6579" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6580" href="../Denotational/#plfa_plfa-part3-Denotational-6446" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6588" href="../Denotational/#plfa_plfa-part3-Denotational-6563" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6590" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-6592" href="../Denotational/#plfa_plfa-part3-Denotational-6446" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6600" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6601" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6611" href="../Denotational/#plfa_plfa-part3-Denotational-6611" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6613" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6615" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6617" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6627" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6628" href="../Denotational/#plfa_plfa-part3-Denotational-6446" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6636" href="../Denotational/#plfa_plfa-part3-Denotational-6611" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6638" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-6640" href="../Denotational/#plfa_plfa-part3-Denotational-6446" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6648" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6649" href="../Denotational/#plfa_plfa-part3-Denotational-4558" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-6657" href="../Denotational/#plfa_plfa-part3-Denotational-6657" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-6661" href="../Denotational/#plfa_plfa-part3-Denotational-6661" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-6664" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6666" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6668" href="../Denotational/#plfa_plfa-part3-Denotational-4558" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-6676" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6677" href="../Denotational/#plfa_plfa-part3-Denotational-6446" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-6685" href="../Denotational/#plfa_plfa-part3-Denotational-6657" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-6688" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6690" href="../Denotational/#plfa_plfa-part3-Denotational-6661" class="Bound">lt2</a>

<a id="plfa_plfa-part3-Denotational-⊔⊑-invR"></a><a id="plfa_plfa-part3-Denotational-6695" href="../Denotational/#plfa_plfa-part3-Denotational-6695" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6703" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6705" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-6707" href="../Denotational/#plfa_plfa-part3-Denotational-6707" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-6709" href="../Denotational/#plfa_plfa-part3-Denotational-6709" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6711" href="../Denotational/#plfa_plfa-part3-Denotational-6711" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-6713" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6715" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-6720" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-6724" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6726" href="../Denotational/#plfa_plfa-part3-Denotational-6707" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-6728" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6730" href="../Denotational/#plfa_plfa-part3-Denotational-6709" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6732" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6734" href="../Denotational/#plfa_plfa-part3-Denotational-6711" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-6740" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-6752" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6754" href="../Denotational/#plfa_plfa-part3-Denotational-6709" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6756" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6758" href="../Denotational/#plfa_plfa-part3-Denotational-6711" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-6760" href="../Denotational/#plfa_plfa-part3-Denotational-6695" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6768" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6769" href="../Denotational/#plfa_plfa-part3-Denotational-4328" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-6778" href="../Denotational/#plfa_plfa-part3-Denotational-6778" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-6782" href="../Denotational/#plfa_plfa-part3-Denotational-6782" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-6785" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6787" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6789" href="../Denotational/#plfa_plfa-part3-Denotational-6782" class="Bound">lt2</a>
<a id="plfa_plfa-part3-Denotational-6793" href="../Denotational/#plfa_plfa-part3-Denotational-6695" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6801" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6802" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6812" href="../Denotational/#plfa_plfa-part3-Denotational-6812" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6814" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6816" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6818" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6828" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6829" href="../Denotational/#plfa_plfa-part3-Denotational-6695" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6837" href="../Denotational/#plfa_plfa-part3-Denotational-6812" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6839" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-6841" href="../Denotational/#plfa_plfa-part3-Denotational-6695" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6849" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6850" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6860" href="../Denotational/#plfa_plfa-part3-Denotational-6860" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6862" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6864" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6866" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6876" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6877" href="../Denotational/#plfa_plfa-part3-Denotational-6695" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6885" href="../Denotational/#plfa_plfa-part3-Denotational-6860" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-6887" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-6889" href="../Denotational/#plfa_plfa-part3-Denotational-6695" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6897" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6898" href="../Denotational/#plfa_plfa-part3-Denotational-4558" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-6906" href="../Denotational/#plfa_plfa-part3-Denotational-6906" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-6910" href="../Denotational/#plfa_plfa-part3-Denotational-6910" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-6913" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6915" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6917" href="../Denotational/#plfa_plfa-part3-Denotational-4558" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-6925" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6926" href="../Denotational/#plfa_plfa-part3-Denotational-6695" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-6934" href="../Denotational/#plfa_plfa-part3-Denotational-6906" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-6937" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6939" href="../Denotational/#plfa_plfa-part3-Denotational-6910" class="Bound">lt2</a>
</pre><h2 id="environments">Environments</h2><p>An environment gives meaning to the free variables in a term by mapping variables to values.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Env"></a><a id="plfa_plfa-part3-Denotational-7068" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7072" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7074" href="../Untyped/#plfa_plfa-part2-Untyped-2750" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-7082" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7084" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-7088" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7092" href="../Denotational/#plfa_plfa-part3-Denotational-7092" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7094" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7096" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7098" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7099" href="../Denotational/#plfa_plfa-part3-Denotational-7099" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-7101" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7103" href="../Denotational/#plfa_plfa-part3-Denotational-7092" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7105" href="../Untyped/#plfa_plfa-part2-Untyped-3126" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-7107" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7108" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7110" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7112" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a>
</pre>We have the empty environment, and we can extend an environment.<pre class="Agda"><a id="plfa_plfa-part3-Denotational-`∅"></a><a id="plfa_plfa-part3-Denotational-7196" href="../Denotational/#plfa_plfa-part3-Denotational-7196" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-7199" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7201" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7205" href="../Untyped/#plfa_plfa-part2-Untyped-2772" class="InductiveConstructor">∅</a>
<a id="plfa_plfa-part3-Denotational-7207" href="../Denotational/#plfa_plfa-part3-Denotational-7196" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-7210" class="Symbol">()</a>

<a id="plfa_plfa-part3-Denotational-7214" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-7221" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-7223" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">_`,_</a>

<a id="plfa_plfa-part3-Denotational-_`,_"></a><a id="plfa_plfa-part3-Denotational-7229" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">_`,_</a> <a id="plfa_plfa-part3-Denotational-7234" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7236" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7238" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7239" href="../Denotational/#plfa_plfa-part3-Denotational-7239" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7240" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7242" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7244" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7248" href="../Denotational/#plfa_plfa-part3-Denotational-7239" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7250" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7252" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-7258" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7260" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7264" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7265" href="../Denotational/#plfa_plfa-part3-Denotational-7239" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7267" href="../Untyped/#plfa_plfa-part2-Untyped-2788" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-7269" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7270" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7272" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7273" href="../Denotational/#plfa_plfa-part3-Denotational-7273" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7275" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-7278" href="../Denotational/#plfa_plfa-part3-Denotational-7278" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-7279" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7281" href="../Untyped/#plfa_plfa-part2-Untyped-3162" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-7283" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7285" href="../Denotational/#plfa_plfa-part3-Denotational-7278" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-7287" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7288" href="../Denotational/#plfa_plfa-part3-Denotational-7288" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7290" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-7293" href="../Denotational/#plfa_plfa-part3-Denotational-7293" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-7294" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7296" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7297" href="../Untyped/#plfa_plfa-part2-Untyped-3207" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-7299" href="../Denotational/#plfa_plfa-part3-Denotational-7299" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-7300" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7302" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7304" href="../Denotational/#plfa_plfa-part3-Denotational-7288" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7306" href="../Denotational/#plfa_plfa-part3-Denotational-7299" class="Bound">x</a>
</pre>We can recover the previous environment from an extended environment, and the last value. Putting them together again takes us back to where we started.<pre class="Agda"><a id="plfa_plfa-part3-Denotational-init"></a><a id="plfa_plfa-part3-Denotational-7474" href="../Denotational/#plfa_plfa-part3-Denotational-7474" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-7479" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7481" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7483" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7484" href="../Denotational/#plfa_plfa-part3-Denotational-7484" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7485" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7487" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7489" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7493" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7494" href="../Denotational/#plfa_plfa-part3-Denotational-7484" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7496" href="../Untyped/#plfa_plfa-part2-Untyped-2788" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-7498" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7499" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7501" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7503" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7507" href="../Denotational/#plfa_plfa-part3-Denotational-7484" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-7509" href="../Denotational/#plfa_plfa-part3-Denotational-7474" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-7514" href="../Denotational/#plfa_plfa-part3-Denotational-7514" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7516" href="../Denotational/#plfa_plfa-part3-Denotational-7516" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-7518" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7520" href="../Denotational/#plfa_plfa-part3-Denotational-7514" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7522" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7523" href="../Untyped/#plfa_plfa-part2-Untyped-3207" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-7525" href="../Denotational/#plfa_plfa-part3-Denotational-7516" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-7526" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-last"></a><a id="plfa_plfa-part3-Denotational-7529" href="../Denotational/#plfa_plfa-part3-Denotational-7529" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-7534" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7536" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7538" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7539" href="../Denotational/#plfa_plfa-part3-Denotational-7539" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7540" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7542" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7544" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7548" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7549" href="../Denotational/#plfa_plfa-part3-Denotational-7539" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7551" href="../Untyped/#plfa_plfa-part2-Untyped-2788" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-7553" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7554" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7556" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7558" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-7564" href="../Denotational/#plfa_plfa-part3-Denotational-7529" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-7569" href="../Denotational/#plfa_plfa-part3-Denotational-7569" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7571" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7573" href="../Denotational/#plfa_plfa-part3-Denotational-7569" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7575" href="../Untyped/#plfa_plfa-part2-Untyped-3162" class="InductiveConstructor">Z</a>

<a id="plfa_plfa-part3-Denotational-init-last"></a><a id="plfa_plfa-part3-Denotational-7578" href="../Denotational/#plfa_plfa-part3-Denotational-7578" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-7588" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7590" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7592" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7593" href="../Denotational/#plfa_plfa-part3-Denotational-7593" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7594" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7596" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7598" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7599" href="../Denotational/#plfa_plfa-part3-Denotational-7599" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7601" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7603" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7607" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7608" href="../Denotational/#plfa_plfa-part3-Denotational-7593" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7610" href="../Untyped/#plfa_plfa-part2-Untyped-2788" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-7612" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7613" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-7616" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7618" href="../Denotational/#plfa_plfa-part3-Denotational-7599" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7620" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-7622" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7623" href="../Denotational/#plfa_plfa-part3-Denotational-7474" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-7628" href="../Denotational/#plfa_plfa-part3-Denotational-7599" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7630" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-7633" href="../Denotational/#plfa_plfa-part3-Denotational-7529" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-7638" href="../Denotational/#plfa_plfa-part3-Denotational-7599" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-7639" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7641" href="../Denotational/#plfa_plfa-part3-Denotational-7578" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-7651" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7652" href="../Denotational/#plfa_plfa-part3-Denotational-7652" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7653" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7655" href="../Denotational/#plfa_plfa-part3-Denotational-7655" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7657" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7659" href="../Substitution/#plfa_plfa-part2-Substitution-1864" class="Postulate">extensionality</a> <a id="plfa_plfa-part3-Denotational-7674" href="../Denotational/#plfa_plfa-part3-Denotational-7688" class="Function">lemma</a>
  <a id="plfa_plfa-part3-Denotational-7682" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-7688" href="../Denotational/#plfa_plfa-part3-Denotational-7688" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-7694" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7696" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7698" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7699" href="../Denotational/#plfa_plfa-part3-Denotational-7699" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-7701" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7703" href="../Denotational/#plfa_plfa-part3-Denotational-7652" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7705" href="../Untyped/#plfa_plfa-part2-Untyped-2788" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-7707" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-7709" href="../Untyped/#plfa_plfa-part2-Untyped-3126" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-7711" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7712" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7714" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7716" href="../Denotational/#plfa_plfa-part3-Denotational-7655" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7718" href="../Denotational/#plfa_plfa-part3-Denotational-7699" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-7720" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-7722" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7723" href="../Denotational/#plfa_plfa-part3-Denotational-7474" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-7728" href="../Denotational/#plfa_plfa-part3-Denotational-7655" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7730" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-7733" href="../Denotational/#plfa_plfa-part3-Denotational-7529" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-7738" href="../Denotational/#plfa_plfa-part3-Denotational-7655" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-7739" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7741" href="../Denotational/#plfa_plfa-part3-Denotational-7699" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-7751" href="../Denotational/#plfa_plfa-part3-Denotational-7688" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-7757" href="../Untyped/#plfa_plfa-part2-Untyped-3162" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part3-Denotational-7764" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-7767" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part3-Denotational-7780" href="../Denotational/#plfa_plfa-part3-Denotational-7688" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-7786" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7787" href="../Untyped/#plfa_plfa-part2-Untyped-3207" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-7789" href="../Denotational/#plfa_plfa-part3-Denotational-7789" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-7790" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-7793" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-7796" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>We extend the <code>⊑</code> relation point-wise to environments with the following definition.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_`⊑_"></a><a id="plfa_plfa-part3-Denotational-7900" href="../Denotational/#plfa_plfa-part3-Denotational-7900" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-7905" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7907" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7909" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7910" href="../Denotational/#plfa_plfa-part3-Denotational-7910" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7911" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7913" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7915" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7919" href="../Denotational/#plfa_plfa-part3-Denotational-7910" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7921" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7923" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-7927" href="../Denotational/#plfa_plfa-part3-Denotational-7910" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7929" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7931" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-7935" href="../Denotational/#plfa_plfa-part3-Denotational-7900" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-7940" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7941" href="../Denotational/#plfa_plfa-part3-Denotational-7941" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-7942" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-7944" href="../Denotational/#plfa_plfa-part3-Denotational-7944" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7946" href="../Denotational/#plfa_plfa-part3-Denotational-7946" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-7948" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7950" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7952" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7953" href="../Denotational/#plfa_plfa-part3-Denotational-7953" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-7955" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7957" href="../Denotational/#plfa_plfa-part3-Denotational-7941" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-7959" href="../Untyped/#plfa_plfa-part2-Untyped-3126" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-7961" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-7962" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7964" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7966" href="../Denotational/#plfa_plfa-part3-Denotational-7944" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-7968" href="../Denotational/#plfa_plfa-part3-Denotational-7953" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-7970" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7972" href="../Denotational/#plfa_plfa-part3-Denotational-7946" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-7974" href="../Denotational/#plfa_plfa-part3-Denotational-7953" class="Bound">x</a>
</pre><p>We define a bottom environment and a join operator on environments, which takes the point-wise join of their values.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊥"></a><a id="plfa_plfa-part3-Denotational-8107" href="../Denotational/#plfa_plfa-part3-Denotational-8107" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-8110" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8112" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8114" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8115" href="../Denotational/#plfa_plfa-part3-Denotational-8115" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8116" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8118" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8120" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8124" href="../Denotational/#plfa_plfa-part3-Denotational-8115" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-8126" href="../Denotational/#plfa_plfa-part3-Denotational-8107" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-8129" href="../Denotational/#plfa_plfa-part3-Denotational-8129" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8131" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8133" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a>

<a id="plfa_plfa-part3-Denotational-_`⊔_"></a><a id="plfa_plfa-part3-Denotational-8136" href="../Denotational/#plfa_plfa-part3-Denotational-8136" class="Function Operator">_`⊔_</a> <a id="plfa_plfa-part3-Denotational-8141" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8143" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8145" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8146" href="../Denotational/#plfa_plfa-part3-Denotational-8146" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8147" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8149" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8151" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8155" href="../Denotational/#plfa_plfa-part3-Denotational-8146" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8157" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8159" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8163" href="../Denotational/#plfa_plfa-part3-Denotational-8146" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8165" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8167" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8171" href="../Denotational/#plfa_plfa-part3-Denotational-8146" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-8173" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8174" href="../Denotational/#plfa_plfa-part3-Denotational-8174" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8176" href="../Denotational/#plfa_plfa-part3-Denotational-8136" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-8179" href="../Denotational/#plfa_plfa-part3-Denotational-8179" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-8180" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8182" href="../Denotational/#plfa_plfa-part3-Denotational-8182" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8184" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8186" href="../Denotational/#plfa_plfa-part3-Denotational-8174" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8188" href="../Denotational/#plfa_plfa-part3-Denotational-8182" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8190" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8192" href="../Denotational/#plfa_plfa-part3-Denotational-8179" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8194" href="../Denotational/#plfa_plfa-part3-Denotational-8182" class="Bound">x</a>
</pre><p>The <code>⊑-refl</code>, <code>⊑-conj-R1</code>, and <code>⊑-conj-R2</code> rules lift to environments. So the join of two environments <code>γ</code> and <code>δ</code> is greater than the first environment <code>γ</code> or the second environment <code>δ</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊑-refl"></a><a id="plfa_plfa-part3-Denotational-8399" href="../Denotational/#plfa_plfa-part3-Denotational-8399" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-8407" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8409" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8411" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8412" href="../Denotational/#plfa_plfa-part3-Denotational-8412" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8413" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8415" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8416" href="../Denotational/#plfa_plfa-part3-Denotational-8416" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8418" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8420" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8424" href="../Denotational/#plfa_plfa-part3-Denotational-8412" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8425" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8427" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8429" href="../Denotational/#plfa_plfa-part3-Denotational-8416" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8431" href="../Denotational/#plfa_plfa-part3-Denotational-7900" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-8434" href="../Denotational/#plfa_plfa-part3-Denotational-8416" class="Bound">γ</a>
<a id="plfa_plfa-part3-Denotational-8436" href="../Denotational/#plfa_plfa-part3-Denotational-8399" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-8444" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8445" href="../Denotational/#plfa_plfa-part3-Denotational-8445" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8446" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8448" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8449" href="../Denotational/#plfa_plfa-part3-Denotational-8449" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-8450" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8452" href="../Denotational/#plfa_plfa-part3-Denotational-8452" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8454" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8456" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-8463" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8464" href="../Denotational/#plfa_plfa-part3-Denotational-8449" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8466" href="../Denotational/#plfa_plfa-part3-Denotational-8452" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-8467" class="Symbol">}</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R1"></a><a id="plfa_plfa-part3-Denotational-8470" href="../Denotational/#plfa_plfa-part3-Denotational-8470" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8484" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8486" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8488" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8489" href="../Denotational/#plfa_plfa-part3-Denotational-8489" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8490" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8492" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8494" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8495" href="../Denotational/#plfa_plfa-part3-Denotational-8495" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8497" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8499" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8503" href="../Denotational/#plfa_plfa-part3-Denotational-8489" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8504" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8506" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8508" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8509" href="../Denotational/#plfa_plfa-part3-Denotational-8509" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8511" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8513" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8517" href="../Denotational/#plfa_plfa-part3-Denotational-8489" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8518" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8520" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8522" href="../Denotational/#plfa_plfa-part3-Denotational-8495" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8524" href="../Denotational/#plfa_plfa-part3-Denotational-7900" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-8527" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8528" href="../Denotational/#plfa_plfa-part3-Denotational-8495" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8530" href="../Denotational/#plfa_plfa-part3-Denotational-8136" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-8533" href="../Denotational/#plfa_plfa-part3-Denotational-8509" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-8534" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8536" href="../Denotational/#plfa_plfa-part3-Denotational-8470" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8550" href="../Denotational/#plfa_plfa-part3-Denotational-8550" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8552" href="../Denotational/#plfa_plfa-part3-Denotational-8552" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8554" href="../Denotational/#plfa_plfa-part3-Denotational-8554" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8556" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8558" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8568" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R2"></a><a id="plfa_plfa-part3-Denotational-8576" href="../Denotational/#plfa_plfa-part3-Denotational-8576" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8590" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8592" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8594" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8595" href="../Denotational/#plfa_plfa-part3-Denotational-8595" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8596" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8598" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8600" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8601" href="../Denotational/#plfa_plfa-part3-Denotational-8601" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8603" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8605" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8609" href="../Denotational/#plfa_plfa-part3-Denotational-8595" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8610" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8612" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8614" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8615" href="../Denotational/#plfa_plfa-part3-Denotational-8615" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8617" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8619" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8623" href="../Denotational/#plfa_plfa-part3-Denotational-8595" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8624" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8626" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8628" href="../Denotational/#plfa_plfa-part3-Denotational-8615" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8630" href="../Denotational/#plfa_plfa-part3-Denotational-7900" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-8633" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8634" href="../Denotational/#plfa_plfa-part3-Denotational-8601" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8636" href="../Denotational/#plfa_plfa-part3-Denotational-8136" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-8639" href="../Denotational/#plfa_plfa-part3-Denotational-8615" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-8640" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8642" href="../Denotational/#plfa_plfa-part3-Denotational-8576" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8656" href="../Denotational/#plfa_plfa-part3-Denotational-8656" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8658" href="../Denotational/#plfa_plfa-part3-Denotational-8658" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-8660" href="../Denotational/#plfa_plfa-part3-Denotational-8660" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8662" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8664" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8674" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a>
</pre><h2 id="denotational-semantics">Denotational Semantics</h2><p>We define the semantics with a judgment of the form <code>ρ ⊢ M ↓ v</code>, where <code>ρ</code> is the environment, <code>M</code> the program, and <code>v</code> is a result value. For readers familiar with big-step semantics, this notation will feel quite natural, but don’t let the similarity fool you. There are subtle but important differences! So here is the definition of the semantics, which we discuss in detail in the following paragraphs.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-9130" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-9136" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-9138" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">_⊢_↓_</a>

<a id="plfa_plfa-part3-Denotational-9145" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊢_↓_"></a><a id="plfa_plfa-part3-Denotational-9150" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part3-Denotational-9156" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9158" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-9160" href="../Denotational/#plfa_plfa-part3-Denotational-9160" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9161" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9163" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9165" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9169" href="../Denotational/#plfa_plfa-part3-Denotational-9160" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9171" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9173" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9174" href="../Denotational/#plfa_plfa-part3-Denotational-9160" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9176" href="../Untyped/#plfa_plfa-part2-Untyped-3903" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9178" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9179" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9181" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9183" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-9189" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9191" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-9195" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.var"></a><a id="plfa_plfa-part3-Denotational-9204" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-9208" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9210" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9212" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9213" href="../Denotational/#plfa_plfa-part3-Denotational-9213" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9214" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9216" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9217" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9219" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9221" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9225" href="../Denotational/#plfa_plfa-part3-Denotational-9213" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9226" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9228" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9229" href="../Denotational/#plfa_plfa-part3-Denotational-9229" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9230" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-9238" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-9258" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9260" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9262" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9264" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9265" href="../Untyped/#plfa_plfa-part2-Untyped-3939" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part3-Denotational-9267" href="../Denotational/#plfa_plfa-part3-Denotational-9229" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9268" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9270" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9272" href="../Denotational/#plfa_plfa-part3-Denotational-9217" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9274" href="../Denotational/#plfa_plfa-part3-Denotational-9229" class="Bound">x</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-elim"></a><a id="plfa_plfa-part3-Denotational-9279" href="../Denotational/#plfa_plfa-part3-Denotational-9279" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-9286" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9288" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9290" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9291" href="../Denotational/#plfa_plfa-part3-Denotational-9291" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9292" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9294" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9295" href="../Denotational/#plfa_plfa-part3-Denotational-9295" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9297" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9299" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9303" href="../Denotational/#plfa_plfa-part3-Denotational-9291" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9304" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9306" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9307" href="../Denotational/#plfa_plfa-part3-Denotational-9307" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-9309" href="../Denotational/#plfa_plfa-part3-Denotational-9309" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9311" href="../Denotational/#plfa_plfa-part3-Denotational-9311" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9313" href="../Denotational/#plfa_plfa-part3-Denotational-9313" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9314" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-9320" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9322" href="../Denotational/#plfa_plfa-part3-Denotational-9295" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9324" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9326" href="../Denotational/#plfa_plfa-part3-Denotational-9307" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-9328" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9330" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9331" href="../Denotational/#plfa_plfa-part3-Denotational-9311" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9333" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-9335" href="../Denotational/#plfa_plfa-part3-Denotational-9313" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9336" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-9342" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9344" href="../Denotational/#plfa_plfa-part3-Denotational-9295" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9346" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9348" href="../Denotational/#plfa_plfa-part3-Denotational-9309" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9350" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9352" href="../Denotational/#plfa_plfa-part3-Denotational-9311" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-9360" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-9380" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9382" href="../Denotational/#plfa_plfa-part3-Denotational-9295" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9384" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9386" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9387" href="../Denotational/#plfa_plfa-part3-Denotational-9307" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-9389" href="../Untyped/#plfa_plfa-part2-Untyped-4051" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-9391" href="../Denotational/#plfa_plfa-part3-Denotational-9309" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-9392" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9394" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9396" href="../Denotational/#plfa_plfa-part3-Denotational-9313" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-intro"></a><a id="plfa_plfa-part3-Denotational-9401" href="../Denotational/#plfa_plfa-part3-Denotational-9401" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-9409" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9411" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9413" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9414" href="../Denotational/#plfa_plfa-part3-Denotational-9414" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9415" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9417" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9418" href="../Denotational/#plfa_plfa-part3-Denotational-9418" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9420" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9422" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9426" href="../Denotational/#plfa_plfa-part3-Denotational-9414" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9427" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9429" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9430" href="../Denotational/#plfa_plfa-part3-Denotational-9430" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-9432" href="../Denotational/#plfa_plfa-part3-Denotational-9432" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9434" href="../Denotational/#plfa_plfa-part3-Denotational-9434" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9435" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-9441" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9443" href="../Denotational/#plfa_plfa-part3-Denotational-9418" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9445" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9448" href="../Denotational/#plfa_plfa-part3-Denotational-9432" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9450" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9452" href="../Denotational/#plfa_plfa-part3-Denotational-9430" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-9454" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9456" href="../Denotational/#plfa_plfa-part3-Denotational-9434" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-9464" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-9488" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9490" href="../Denotational/#plfa_plfa-part3-Denotational-9418" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9492" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9494" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9495" href="../Untyped/#plfa_plfa-part2-Untyped-3991" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-9497" href="../Denotational/#plfa_plfa-part3-Denotational-9430" class="Bound">N</a><a id="plfa_plfa-part3-Denotational-9498" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9500" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9502" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9503" href="../Denotational/#plfa_plfa-part3-Denotational-9432" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9505" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-9507" href="../Denotational/#plfa_plfa-part3-Denotational-9434" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9508" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊥-intro"></a><a id="plfa_plfa-part3-Denotational-9513" href="../Denotational/#plfa_plfa-part3-Denotational-9513" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-9521" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9523" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9525" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9526" href="../Denotational/#plfa_plfa-part3-Denotational-9526" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9527" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9529" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9530" href="../Denotational/#plfa_plfa-part3-Denotational-9530" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9532" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9534" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9538" href="../Denotational/#plfa_plfa-part3-Denotational-9526" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9539" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9541" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9542" href="../Denotational/#plfa_plfa-part3-Denotational-9542" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-9543" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-9551" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-9565" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9567" href="../Denotational/#plfa_plfa-part3-Denotational-9530" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9569" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9571" href="../Denotational/#plfa_plfa-part3-Denotational-9542" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9573" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9575" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊔-intro"></a><a id="plfa_plfa-part3-Denotational-9580" href="../Denotational/#plfa_plfa-part3-Denotational-9580" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-9588" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9590" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9592" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9593" href="../Denotational/#plfa_plfa-part3-Denotational-9593" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9594" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9596" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9597" href="../Denotational/#plfa_plfa-part3-Denotational-9597" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9599" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9601" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9605" href="../Denotational/#plfa_plfa-part3-Denotational-9593" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9606" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9608" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9609" href="../Denotational/#plfa_plfa-part3-Denotational-9609" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9611" href="../Denotational/#plfa_plfa-part3-Denotational-9611" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9613" href="../Denotational/#plfa_plfa-part3-Denotational-9613" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9614" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-9620" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9622" href="../Denotational/#plfa_plfa-part3-Denotational-9597" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9624" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9626" href="../Denotational/#plfa_plfa-part3-Denotational-9609" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9628" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9630" href="../Denotational/#plfa_plfa-part3-Denotational-9611" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-9636" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9638" href="../Denotational/#plfa_plfa-part3-Denotational-9597" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9640" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9642" href="../Denotational/#plfa_plfa-part3-Denotational-9609" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9644" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9646" href="../Denotational/#plfa_plfa-part3-Denotational-9613" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-9654" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-9674" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9676" href="../Denotational/#plfa_plfa-part3-Denotational-9597" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9678" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9680" href="../Denotational/#plfa_plfa-part3-Denotational-9609" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9682" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9684" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9685" href="../Denotational/#plfa_plfa-part3-Denotational-9611" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9687" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-9689" href="../Denotational/#plfa_plfa-part3-Denotational-9613" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9690" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.sub"></a><a id="plfa_plfa-part3-Denotational-9695" href="../Denotational/#plfa_plfa-part3-Denotational-9695" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-9699" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9701" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9703" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9704" href="../Denotational/#plfa_plfa-part3-Denotational-9704" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9705" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9707" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9708" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9710" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9712" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9716" href="../Denotational/#plfa_plfa-part3-Denotational-9704" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9717" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9719" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9720" href="../Denotational/#plfa_plfa-part3-Denotational-9720" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9722" href="../Denotational/#plfa_plfa-part3-Denotational-9722" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-9724" href="../Denotational/#plfa_plfa-part3-Denotational-9724" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-9725" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-9731" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9733" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9735" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9737" href="../Denotational/#plfa_plfa-part3-Denotational-9720" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9739" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9741" href="../Denotational/#plfa_plfa-part3-Denotational-9722" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-9747" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9749" href="../Denotational/#plfa_plfa-part3-Denotational-9724" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-9751" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-9753" href="../Denotational/#plfa_plfa-part3-Denotational-9722" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-9761" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-9775" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9777" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9779" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-9781" href="../Denotational/#plfa_plfa-part3-Denotational-9720" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-9783" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-9785" href="../Denotational/#plfa_plfa-part3-Denotational-9724" class="Bound">w</a>
</pre><p>Consider the rule for lambda abstractions, <code>↦-intro</code>. It says that a lambda abstraction results in a single-entry table that maps the input <code>v</code> to the output <code>w</code>, provided that evaluating the body in an environment with <code>v</code> bound to its parameter produces the output <code>w</code>. As a simple example of this rule, we can see that the identity function maps <code>⊥</code> to <code>⊥</code> and also that it maps <code>⊥ ↦ ⊥</code> to <code>⊥ ↦ ⊥</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id"></a><a id="plfa_plfa-part3-Denotational-10204" href="../Denotational/#plfa_plfa-part3-Denotational-10204" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-10207" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10209" href="../Untyped/#plfa_plfa-part2-Untyped-2772" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-10211" href="../Untyped/#plfa_plfa-part2-Untyped-3903" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-10213" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-10215" href="../Denotational/#plfa_plfa-part3-Denotational-10204" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-10218" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10220" href="../Untyped/#plfa_plfa-part2-Untyped-3991" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-10222" href="../Untyped/#plfa_plfa-part2-Untyped-4782" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-10224" class="Number">0</a>
</pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id1"></a><a id="plfa_plfa-part3-Denotational-10239" href="../Denotational/#plfa_plfa-part3-Denotational-10239" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-10249" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10251" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10253" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10254" href="../Denotational/#plfa_plfa-part3-Denotational-10254" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-10255" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10257" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10259" href="../Denotational/#plfa_plfa-part3-Denotational-10254" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10261" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-10263" href="../Denotational/#plfa_plfa-part3-Denotational-10204" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-10266" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-10268" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-10270" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-10272" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-10274" href="../Denotational/#plfa_plfa-part3-Denotational-10239" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-10284" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10286" href="../Denotational/#plfa_plfa-part3-Denotational-9401" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-10294" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a>

<a id="plfa_plfa-part3-Denotational-denot-id2"></a><a id="plfa_plfa-part3-Denotational-10299" href="../Denotational/#plfa_plfa-part3-Denotational-10299" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-10309" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10311" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10313" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10314" href="../Denotational/#plfa_plfa-part3-Denotational-10314" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-10315" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10317" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10319" href="../Denotational/#plfa_plfa-part3-Denotational-10314" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10321" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-10323" href="../Denotational/#plfa_plfa-part3-Denotational-10204" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-10326" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-10328" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10329" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-10331" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-10333" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-10334" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10336" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-10338" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10339" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-10341" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-10343" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-10344" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10346" href="../Denotational/#plfa_plfa-part3-Denotational-10299" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-10356" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10358" href="../Denotational/#plfa_plfa-part3-Denotational-9401" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-10366" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a>
</pre><p>Of course, we will need tables with many rows to capture the meaning of lambda abstractions. These can be constructed using the <code>⊔-intro</code> rule. If term M (typically a lambda abstraction) can produce both tables <code>v</code> and <code>w</code>, then it produces the combined table <code>v ⊔ w</code>. One can take an operational view of the rules <code>↦-intro</code> and <code>⊔-intro</code> by imagining that when an interpreter first comes to a lambda abstraction, it pre-evaluates the function on a bunch of randomly chosen arguments, using many instances of the rule <code>↦-intro</code>, and then joins them into a big table using many instances of the rule <code>⊔-intro</code>. In the following we show that the identity function produces a table containing both of the previous results, <code>⊥ ↦ ⊥</code> and <code>(⊥ ↦ ⊥) ↦ (⊥ ↦ ⊥)</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id3"></a><a id="plfa_plfa-part3-Denotational-11138" href="../Denotational/#plfa_plfa-part3-Denotational-11138" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-11148" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11150" href="../Denotational/#plfa_plfa-part3-Denotational-7196" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-11153" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11155" href="../Denotational/#plfa_plfa-part3-Denotational-10204" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-11158" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11160" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11161" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-11163" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11165" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-11166" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11168" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-11170" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11171" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-11173" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11175" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-11176" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11178" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11180" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11181" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-11183" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11185" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-11186" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-11188" href="../Denotational/#plfa_plfa-part3-Denotational-11138" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-11198" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-11200" href="../Denotational/#plfa_plfa-part3-Denotational-9580" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-11208" href="../Denotational/#plfa_plfa-part3-Denotational-10239" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-11218" href="../Denotational/#plfa_plfa-part3-Denotational-10299" class="Function">denot-id2</a>
</pre><p>We most often think of the judgment <code>γ ⊢ M ↓ v</code> as taking the environment <code>γ</code> and term <code>M</code> as input, producing the result <code>v</code>. However, it is worth emphasizing that the semantics is a <em>relation</em>. The above results for the identity function show that the same environment and term can be mapped to different results. However, the results for a given <code>γ</code> and <code>M</code> are not <em>too</em> different, they are all finite approximations of the same function. Perhaps a better way of thinking about the judgment <code>γ ⊢ M ↓ v</code> is that the <code>γ</code>, <code>M</code>, and <code>v</code> are all inputs and the semantics either confirms or denies whether <code>v</code> is an accurate partial description of the result of <code>M</code> in environment <code>γ</code>.</p><p>Next we consider the meaning of function application as given by the <code>↦-elim</code> rule. In the premise of the rule we have that <code>L</code> maps <code>v</code> to <code>w</code>. So if <code>M</code> produces <code>v</code>, then the application of <code>L</code> to <code>M</code> produces <code>w</code>.</p><p>As an example of function application and the <code>↦-elim</code> rule, we apply the identity function to itself. Indeed, we have both that <code>∅ ⊢ id ↓ (u ↦ u) ↦ (u ↦ u)</code> and also <code>∅ ⊢ id ↓ (u ↦ u)</code>, so we can apply the rule <code>↦-elim</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id-app-id"></a><a id="plfa_plfa-part3-Denotational-12371" href="../Denotational/#plfa_plfa-part3-Denotational-12371" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-12381" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12383" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12385" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12386" href="../Denotational/#plfa_plfa-part3-Denotational-12386" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-12388" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12390" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-12395" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12397" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12399" href="../Denotational/#plfa_plfa-part3-Denotational-7196" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-12402" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12404" href="../Denotational/#plfa_plfa-part3-Denotational-10204" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12407" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-12409" href="../Denotational/#plfa_plfa-part3-Denotational-10204" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12412" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12414" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12415" href="../Denotational/#plfa_plfa-part3-Denotational-12386" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-12417" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12419" href="../Denotational/#plfa_plfa-part3-Denotational-12386" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-12420" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-12422" href="../Denotational/#plfa_plfa-part3-Denotational-12371" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-12432" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12433" href="../Denotational/#plfa_plfa-part3-Denotational-12433" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-12434" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12436" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12438" href="../Denotational/#plfa_plfa-part3-Denotational-9279" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-12445" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12446" href="../Denotational/#plfa_plfa-part3-Denotational-9401" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12454" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-12457" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-12459" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12460" href="../Denotational/#plfa_plfa-part3-Denotational-9401" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12468" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-12471" class="Symbol">)</a>
</pre><p>Next we revisit the Church numeral two: <code>λ f. λ u. (f (f u))</code>. This function has two parameters: a function <code>f</code> and an arbitrary value <code>u</code>, and it applies <code>f</code> twice. So <code>f</code> must map <code>u</code> to some value, which we’ll name <code>v</code>. Then for the second application, <code>f</code> must map <code>v</code> to some value. Let’s name it <code>w</code>. So the function’s table must include two entries, both <code>u ↦ v</code> and <code>v ↦ w</code>. For each application of the table, we extract the appropriate entry from it using the <code>sub</code> rule. In particular, we use the ⊑-conj-R1 and ⊑-conj-R2 to select <code>u ↦ v</code> and <code>v ↦ w</code>, respectively, from the table <code>u ↦ v ⊔ v ↦ w</code>. So the meaning of twoᶜ is that it takes this table and parameter <code>u</code>, and it returns <code>w</code>. Indeed we derive this as follows.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-twoᶜ"></a><a id="plfa_plfa-part3-Denotational-13221" href="../Denotational/#plfa_plfa-part3-Denotational-13221" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-13232" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13234" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-13236" href="../Denotational/#plfa_plfa-part3-Denotational-13236" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13238" href="../Denotational/#plfa_plfa-part3-Denotational-13238" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13240" href="../Denotational/#plfa_plfa-part3-Denotational-13240" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-13242" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13244" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-13249" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-13251" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-13253" href="../Denotational/#plfa_plfa-part3-Denotational-7196" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-13256" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-13258" href="../Untyped/#plfa_plfa-part2-Untyped-5022" class="Function">twoᶜ</a> <a id="plfa_plfa-part3-Denotational-13263" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-13265" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-13267" href="../Denotational/#plfa_plfa-part3-Denotational-13236" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13269" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13271" href="../Denotational/#plfa_plfa-part3-Denotational-13238" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13273" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-13275" href="../Denotational/#plfa_plfa-part3-Denotational-13238" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13277" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13279" href="../Denotational/#plfa_plfa-part3-Denotational-13240" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-13280" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13282" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13284" href="../Denotational/#plfa_plfa-part3-Denotational-13236" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13286" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13288" href="../Denotational/#plfa_plfa-part3-Denotational-13240" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-13289" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-13291" href="../Denotational/#plfa_plfa-part3-Denotational-13221" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-13302" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-13303" href="../Denotational/#plfa_plfa-part3-Denotational-13303" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-13304" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-13306" href="../Denotational/#plfa_plfa-part3-Denotational-13306" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-13307" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-13309" href="../Denotational/#plfa_plfa-part3-Denotational-13309" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-13310" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-13312" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-13316" href="../Denotational/#plfa_plfa-part3-Denotational-9401" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-13324" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13325" href="../Denotational/#plfa_plfa-part3-Denotational-9401" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-13333" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13334" href="../Denotational/#plfa_plfa-part3-Denotational-9279" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-13341" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13342" href="../Denotational/#plfa_plfa-part3-Denotational-9695" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-13346" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-13350" href="../Denotational/#plfa_plfa-part3-Denotational-13392" class="Function">lt1</a><a id="plfa_plfa-part3-Denotational-13353" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13355" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13356" href="../Denotational/#plfa_plfa-part3-Denotational-9279" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-13363" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13364" href="../Denotational/#plfa_plfa-part3-Denotational-9695" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-13368" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-13372" href="../Denotational/#plfa_plfa-part3-Denotational-13475" class="Function">lt2</a><a id="plfa_plfa-part3-Denotational-13375" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13377" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-13380" class="Symbol">)))</a>
  <a id="plfa_plfa-part3-Denotational-13386" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-13392" href="../Denotational/#plfa_plfa-part3-Denotational-13392" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-13396" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13398" href="../Denotational/#plfa_plfa-part3-Denotational-13306" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13400" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13402" href="../Denotational/#plfa_plfa-part3-Denotational-13309" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-13404" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-13406" href="../Denotational/#plfa_plfa-part3-Denotational-13303" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13408" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13410" href="../Denotational/#plfa_plfa-part3-Denotational-13306" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13412" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-13414" href="../Denotational/#plfa_plfa-part3-Denotational-13306" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13416" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13418" href="../Denotational/#plfa_plfa-part3-Denotational-13309" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-13428" href="../Denotational/#plfa_plfa-part3-Denotational-13392" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-13432" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-13434" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-13444" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13445" href="../Denotational/#plfa_plfa-part3-Denotational-4629" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-13451" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-13458" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-13464" class="Symbol">)</a>

        <a id="plfa_plfa-part3-Denotational-13475" href="../Denotational/#plfa_plfa-part3-Denotational-13475" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-13479" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13481" href="../Denotational/#plfa_plfa-part3-Denotational-13303" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13483" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13485" href="../Denotational/#plfa_plfa-part3-Denotational-13306" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13487" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-13489" href="../Denotational/#plfa_plfa-part3-Denotational-13303" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-13491" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13493" href="../Denotational/#plfa_plfa-part3-Denotational-13306" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13495" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-13497" href="../Denotational/#plfa_plfa-part3-Denotational-13306" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-13499" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13501" href="../Denotational/#plfa_plfa-part3-Denotational-13309" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-13511" href="../Denotational/#plfa_plfa-part3-Denotational-13475" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-13515" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-13517" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13518" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-13528" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13529" href="../Denotational/#plfa_plfa-part3-Denotational-4629" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-13535" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-13542" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-13548" class="Symbol">))</a>
</pre><p>Next we have a classic example of self application: <code>Δ = λx. (x x)</code>. The input value for <code>x</code> needs to be a table, and it needs to have an entry that maps a smaller version of itself, call it <code>v</code>, to some value <code>w</code>. So the input value looks like <code>v ↦ w ⊔ v</code>. Of course, then the output of <code>Δ</code> is <code>w</code>. The derivation is given below. The first occurrences of <code>x</code> evaluates to <code>v ↦ w</code>, the second occurrence of <code>x</code> evaluates to <code>v</code>, and then the result of the application is <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Δ"></a><a id="plfa_plfa-part3-Denotational-14043" href="../Denotational/#plfa_plfa-part3-Denotational-14043" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-14045" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-14047" href="../Untyped/#plfa_plfa-part2-Untyped-2772" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-14049" href="../Untyped/#plfa_plfa-part2-Untyped-3903" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-14051" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-14053" href="../Denotational/#plfa_plfa-part3-Denotational-14043" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-14055" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-14057" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14058" href="../Untyped/#plfa_plfa-part2-Untyped-3991" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-14060" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14061" href="../Untyped/#plfa_plfa-part2-Untyped-4782" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-14063" class="Number">0</a><a id="plfa_plfa-part3-Denotational-14064" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-14066" href="../Untyped/#plfa_plfa-part2-Untyped-4051" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-14068" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14069" href="../Untyped/#plfa_plfa-part2-Untyped-4782" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-14071" class="Number">0</a><a id="plfa_plfa-part3-Denotational-14072" class="Symbol">))</a>

<a id="plfa_plfa-part3-Denotational-denot-Δ"></a><a id="plfa_plfa-part3-Denotational-14076" href="../Denotational/#plfa_plfa-part3-Denotational-14076" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-14084" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-14086" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-14088" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-14089" href="../Denotational/#plfa_plfa-part3-Denotational-14089" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-14091" href="../Denotational/#plfa_plfa-part3-Denotational-14091" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-14092" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-14094" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-14096" href="../Denotational/#plfa_plfa-part3-Denotational-7196" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-14099" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-14101" href="../Denotational/#plfa_plfa-part3-Denotational-14043" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-14103" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-14105" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-14107" href="../Denotational/#plfa_plfa-part3-Denotational-14089" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-14109" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-14111" href="../Denotational/#plfa_plfa-part3-Denotational-14091" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-14113" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-14115" href="../Denotational/#plfa_plfa-part3-Denotational-14089" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-14116" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-14118" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-14120" href="../Denotational/#plfa_plfa-part3-Denotational-14091" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-14121" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-14123" href="../Denotational/#plfa_plfa-part3-Denotational-14076" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-14131" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-14133" href="../Denotational/#plfa_plfa-part3-Denotational-9401" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-14141" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14142" href="../Denotational/#plfa_plfa-part3-Denotational-9279" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-14149" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14150" href="../Denotational/#plfa_plfa-part3-Denotational-9695" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-14154" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-14158" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14159" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-14169" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-14175" class="Symbol">))</a>
                          <a id="plfa_plfa-part3-Denotational-14204" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14205" href="../Denotational/#plfa_plfa-part3-Denotational-9695" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-14209" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-14213" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-14214" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-14224" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-14230" class="Symbol">)))</a>
</pre><p>One might worry whether this semantics can deal with diverging programs. The <code>⊥</code> value and the <code>⊥-intro</code> rule provide a way to handle them. (The <code>⊥-intro</code> rule is also what enables β reduction on non-terminating arguments.) The classic <code>Ω</code> program is a particularly simple program that diverges. It applies <code>Δ</code> to itself. The semantics assigns to <code>Ω</code> the meaning <code>⊥</code>. There are several ways to derive this, we shall start with one that makes use of the <code>⊔-intro</code> rule. First, <code>denot-Δ</code> tells us that <code>Δ</code> evaluates to <code>((⊥ ↦ ⊥) ⊔ ⊥) ↦ ⊥</code> (choose <code>v₁ = v₂ = ⊥</code>). Next, <code>Δ</code> also evaluates to <code>⊥ ↦ ⊥</code> by use of <code>↦-intro</code> and <code>⊥-intro</code> and to <code>⊥</code> by <code>⊥-intro</code>. As we saw previously, whenever we can show that a program evaluates to two values, we can apply <code>⊔-intro</code> to join them together, so <code>Δ</code> evaluates to <code>(⊥ ↦ ⊥) ⊔ ⊥</code>. This matches the input of the first occurrence of <code>Δ</code>, so we can conclude that the result of the application is <code>⊥</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Ω"></a><a id="plfa_plfa-part3-Denotational-15189" href="../Denotational/#plfa_plfa-part3-Denotational-15189" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-15191" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15193" href="../Untyped/#plfa_plfa-part2-Untyped-2772" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-15195" href="../Untyped/#plfa_plfa-part2-Untyped-3903" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-15197" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-15199" href="../Denotational/#plfa_plfa-part3-Denotational-15189" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-15201" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-15203" href="../Denotational/#plfa_plfa-part3-Denotational-14043" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-15205" href="../Untyped/#plfa_plfa-part2-Untyped-4051" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-15207" href="../Denotational/#plfa_plfa-part3-Denotational-14043" class="Function">Δ</a>

<a id="plfa_plfa-part3-Denotational-denot-Ω"></a><a id="plfa_plfa-part3-Denotational-15210" href="../Denotational/#plfa_plfa-part3-Denotational-15210" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-15218" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15220" href="../Denotational/#plfa_plfa-part3-Denotational-7196" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-15223" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-15225" href="../Denotational/#plfa_plfa-part3-Denotational-15189" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-15227" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-15229" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-15231" href="../Denotational/#plfa_plfa-part3-Denotational-15210" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-15239" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-15241" href="../Denotational/#plfa_plfa-part3-Denotational-9279" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-15248" href="../Denotational/#plfa_plfa-part3-Denotational-14076" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-15256" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15257" href="../Denotational/#plfa_plfa-part3-Denotational-9580" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-15265" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15266" href="../Denotational/#plfa_plfa-part3-Denotational-9401" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15274" href="../Denotational/#plfa_plfa-part3-Denotational-9513" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-15281" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-15283" href="../Denotational/#plfa_plfa-part3-Denotational-9513" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-15290" class="Symbol">)</a>
</pre><p>A shorter derivation of the same result is by just one use of the <code>⊥-intro</code> rule.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-Ω&#39;"></a><a id="plfa_plfa-part3-Denotational-15388" href="../Denotational/#plfa_plfa-part3-Denotational-15388" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-15397" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15399" href="../Denotational/#plfa_plfa-part3-Denotational-7196" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-15402" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-15404" href="../Denotational/#plfa_plfa-part3-Denotational-15189" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-15406" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-15408" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-15410" href="../Denotational/#plfa_plfa-part3-Denotational-15388" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-15419" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-15421" href="../Denotational/#plfa_plfa-part3-Denotational-9513" class="InductiveConstructor">⊥-intro</a>
</pre><p>Just because one can derive <code>∅ ⊢ M ↓ ⊥</code> for some closed term <code>M</code> doesn’t mean that <code>M</code> necessarily diverges. There may be other derivations that conclude with <code>M</code> producing some more informative value. However, if the only thing that a term evaluates to is <code>⊥</code>, then it indeed diverges.</p><p>An attentive reader may have noticed a disconnect earlier in the way we planned to solve the self-application problem and the actual <code>↦-elim</code> rule for application. We said at the beginning that we would relax the notion of table lookup, allowing an argument to match an input entry if the argument is equal or greater than the input entry. Instead, the <code>↦-elim</code> rule seems to require an exact match. However, because of the <code>sub</code> rule, application really does allow larger arguments.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦-elim2"></a><a id="plfa_plfa-part3-Denotational-16217" href="../Denotational/#plfa_plfa-part3-Denotational-16217" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-16225" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16227" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-16229" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-16230" href="../Denotational/#plfa_plfa-part3-Denotational-16230" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-16231" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16233" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-16234" href="../Denotational/#plfa_plfa-part3-Denotational-16234" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-16236" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16238" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-16242" href="../Denotational/#plfa_plfa-part3-Denotational-16230" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-16243" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16245" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-16246" href="../Denotational/#plfa_plfa-part3-Denotational-16246" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-16249" href="../Denotational/#plfa_plfa-part3-Denotational-16249" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-16252" href="../Denotational/#plfa_plfa-part3-Denotational-16252" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-16255" href="../Denotational/#plfa_plfa-part3-Denotational-16255" class="Bound">v₂</a> <a id="plfa_plfa-part3-Denotational-16258" href="../Denotational/#plfa_plfa-part3-Denotational-16258" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-16260" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-16264" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16266" href="../Denotational/#plfa_plfa-part3-Denotational-16234" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-16268" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-16270" href="../Denotational/#plfa_plfa-part3-Denotational-16246" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-16273" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-16275" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16276" href="../Denotational/#plfa_plfa-part3-Denotational-16252" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-16279" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16281" href="../Denotational/#plfa_plfa-part3-Denotational-16258" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-16283" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-16287" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16289" href="../Denotational/#plfa_plfa-part3-Denotational-16234" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-16291" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-16293" href="../Denotational/#plfa_plfa-part3-Denotational-16249" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-16296" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-16298" href="../Denotational/#plfa_plfa-part3-Denotational-16255" class="Bound">v₂</a>
  <a id="plfa_plfa-part3-Denotational-16303" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16305" href="../Denotational/#plfa_plfa-part3-Denotational-16252" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-16308" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-16310" href="../Denotational/#plfa_plfa-part3-Denotational-16255" class="Bound">v₂</a>
    <a id="plfa_plfa-part3-Denotational-16317" class="Comment">------------------</a>
  <a id="plfa_plfa-part3-Denotational-16338" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16340" href="../Denotational/#plfa_plfa-part3-Denotational-16234" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-16342" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-16344" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16345" href="../Denotational/#plfa_plfa-part3-Denotational-16246" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-16348" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-16350" href="../Denotational/#plfa_plfa-part3-Denotational-16249" class="Bound">M₂</a><a id="plfa_plfa-part3-Denotational-16352" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16354" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-16356" href="../Denotational/#plfa_plfa-part3-Denotational-16258" class="Bound">v₃</a>
<a id="plfa_plfa-part3-Denotational-16359" href="../Denotational/#plfa_plfa-part3-Denotational-16217" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-16367" href="../Denotational/#plfa_plfa-part3-Denotational-16367" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-16370" href="../Denotational/#plfa_plfa-part3-Denotational-16370" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-16373" href="../Denotational/#plfa_plfa-part3-Denotational-16373" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-16376" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-16378" href="../Denotational/#plfa_plfa-part3-Denotational-9279" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-16385" href="../Denotational/#plfa_plfa-part3-Denotational-16367" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-16388" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16389" href="../Denotational/#plfa_plfa-part3-Denotational-9695" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-16393" href="../Denotational/#plfa_plfa-part3-Denotational-16370" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-16396" href="../Denotational/#plfa_plfa-part3-Denotational-16373" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-16398" class="Symbol">)</a>
</pre><h4 id="exercise-denot-plusᶜ-practice">Exercise <code>denot-plusᶜ</code> (practice)</h4><p>What is a denotation for <code>plusᶜ</code>? That is, find a value <code>v</code> (other than <code>⊥</code>) such that <code>∅ ⊢ plusᶜ ↓ v</code>. Also, give the proof of <code>∅ ⊢ plusᶜ ↓ v</code> for your choice of <code>v</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-16622" class="Comment">-- Your code goes here</a>
</pre><h2 id="denotations-and-denotational-equality">Denotations and denotational equality</h2><p>Next we define a notion of denotational equality based on the above semantics. Its statement makes use of an if-and-only-if, which we define as follows.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_iff_"></a><a id="plfa_plfa-part3-Denotational-16855" href="../Denotational/#plfa_plfa-part3-Denotational-16855" class="Function Operator">_iff_</a> <a id="plfa_plfa-part3-Denotational-16861" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16863" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-16867" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16869" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-16873" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16875" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-16879" href="../Denotational/#plfa_plfa-part3-Denotational-16879" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-16881" href="../Denotational/#plfa_plfa-part3-Denotational-16855" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-16885" href="../Denotational/#plfa_plfa-part3-Denotational-16885" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-16887" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-16889" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16890" href="../Denotational/#plfa_plfa-part3-Denotational-16879" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-16892" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16894" href="../Denotational/#plfa_plfa-part3-Denotational-16885" class="Bound">Q</a><a id="plfa_plfa-part3-Denotational-16895" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16897" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-16899" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16900" href="../Denotational/#plfa_plfa-part3-Denotational-16885" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-16902" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16904" href="../Denotational/#plfa_plfa-part3-Denotational-16879" class="Bound">P</a><a id="plfa_plfa-part3-Denotational-16905" class="Symbol">)</a>
</pre><p>Another way to view the denotational semantics is as a function that maps a term to a relation from environments to values. That is, the <em>denotation</em> of a term is a relation from environments to values.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Denotation"></a><a id="plfa_plfa-part3-Denotational-17125" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17136" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17138" href="../Untyped/#plfa_plfa-part2-Untyped-2750" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-17146" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17148" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="plfa_plfa-part3-Denotational-17153" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17164" href="../Denotational/#plfa_plfa-part3-Denotational-17164" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-17166" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17168" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17169" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-17173" href="../Denotational/#plfa_plfa-part3-Denotational-17164" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-17175" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17177" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-17183" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17185" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a><a id="plfa_plfa-part3-Denotational-17188" class="Symbol">)</a>
</pre><p>The following function ℰ gives this alternative view of the semantics, which really just amounts to changing the order of the parameters.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ℰ"></a><a id="plfa_plfa-part3-Denotational-17342" href="../Denotational/#plfa_plfa-part3-Denotational-17342" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-17344" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17346" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-17348" href="../Denotational/#plfa_plfa-part3-Denotational-17348" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17349" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17351" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17353" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17354" href="../Denotational/#plfa_plfa-part3-Denotational-17354" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17356" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17358" href="../Denotational/#plfa_plfa-part3-Denotational-17348" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-17360" href="../Untyped/#plfa_plfa-part2-Untyped-3903" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17362" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-17363" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17365" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17367" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17378" href="../Denotational/#plfa_plfa-part3-Denotational-17348" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-17380" href="../Denotational/#plfa_plfa-part3-Denotational-17342" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-17382" href="../Denotational/#plfa_plfa-part3-Denotational-17382" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17384" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17386" class="Symbol">λ</a> <a id="plfa_plfa-part3-Denotational-17388" href="../Denotational/#plfa_plfa-part3-Denotational-17388" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17390" href="../Denotational/#plfa_plfa-part3-Denotational-17390" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17392" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17394" href="../Denotational/#plfa_plfa-part3-Denotational-17388" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17396" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17398" href="../Denotational/#plfa_plfa-part3-Denotational-17382" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17400" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-17402" href="../Denotational/#plfa_plfa-part3-Denotational-17390" class="Bound">v</a>
</pre><p>In general, two denotations are equal when they produce the same values in the same environment.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-17515" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-17521" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-17523" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">_≃_</a>

<a id="plfa_plfa-part3-Denotational-_≃_"></a><a id="plfa_plfa-part3-Denotational-17528" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-17532" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17534" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17536" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17537" href="../Denotational/#plfa_plfa-part3-Denotational-17537" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17538" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17540" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17542" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17543" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17554" href="../Denotational/#plfa_plfa-part3-Denotational-17537" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17555" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17557" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17559" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17560" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17571" href="../Denotational/#plfa_plfa-part3-Denotational-17537" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17572" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17574" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17576" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-17580" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17581" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-17585" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17586" href="../Denotational/#plfa_plfa-part3-Denotational-17586" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17587" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17589" href="../Denotational/#plfa_plfa-part3-Denotational-17589" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-17592" href="../Denotational/#plfa_plfa-part3-Denotational-17592" class="Bound">D₂</a><a id="plfa_plfa-part3-Denotational-17594" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17596" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17598" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17599" href="../Denotational/#plfa_plfa-part3-Denotational-17599" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17601" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17603" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-17607" href="../Denotational/#plfa_plfa-part3-Denotational-17586" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17608" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17610" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17612" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17613" href="../Denotational/#plfa_plfa-part3-Denotational-17613" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17615" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17617" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-17622" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17624" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17626" href="../Denotational/#plfa_plfa-part3-Denotational-17589" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-17629" href="../Denotational/#plfa_plfa-part3-Denotational-17599" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17631" href="../Denotational/#plfa_plfa-part3-Denotational-17613" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17633" href="../Denotational/#plfa_plfa-part3-Denotational-16855" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-17637" href="../Denotational/#plfa_plfa-part3-Denotational-17592" class="Bound">D₂</a> <a id="plfa_plfa-part3-Denotational-17640" href="../Denotational/#plfa_plfa-part3-Denotational-17599" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17642" href="../Denotational/#plfa_plfa-part3-Denotational-17613" class="Bound">v</a>
</pre><p>Denotational equality is an equivalence relation.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-≃-refl"></a><a id="plfa_plfa-part3-Denotational-17708" href="../Denotational/#plfa_plfa-part3-Denotational-17708" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-17715" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17717" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17719" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17720" href="../Denotational/#plfa_plfa-part3-Denotational-17720" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-17722" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17724" href="../Untyped/#plfa_plfa-part2-Untyped-2750" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-17731" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17733" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17735" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17736" href="../Denotational/#plfa_plfa-part3-Denotational-17736" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17738" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17740" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17751" href="../Denotational/#plfa_plfa-part3-Denotational-17720" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17752" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-17756" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17758" href="../Denotational/#plfa_plfa-part3-Denotational-17736" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17760" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-17762" href="../Denotational/#plfa_plfa-part3-Denotational-17736" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-17764" href="../Denotational/#plfa_plfa-part3-Denotational-17708" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-17771" href="../Denotational/#plfa_plfa-part3-Denotational-17771" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17773" href="../Denotational/#plfa_plfa-part3-Denotational-17773" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17775" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17777" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-17779" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-17782" href="../Denotational/#plfa_plfa-part3-Denotational-17782" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-17784" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17786" href="../Denotational/#plfa_plfa-part3-Denotational-17782" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-17787" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17789" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-17791" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-17794" href="../Denotational/#plfa_plfa-part3-Denotational-17794" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-17796" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17798" href="../Denotational/#plfa_plfa-part3-Denotational-17794" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-17799" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17801" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-sym"></a><a id="plfa_plfa-part3-Denotational-17804" href="../Denotational/#plfa_plfa-part3-Denotational-17804" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-17810" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17812" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17814" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17815" href="../Denotational/#plfa_plfa-part3-Denotational-17815" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-17817" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17819" href="../Untyped/#plfa_plfa-part2-Untyped-2750" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-17826" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17828" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17830" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17831" href="../Denotational/#plfa_plfa-part3-Denotational-17831" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17833" href="../Denotational/#plfa_plfa-part3-Denotational-17833" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-17835" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17837" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17848" href="../Denotational/#plfa_plfa-part3-Denotational-17815" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17849" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-17853" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17855" href="../Denotational/#plfa_plfa-part3-Denotational-17831" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-17857" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-17859" href="../Denotational/#plfa_plfa-part3-Denotational-17833" class="Bound">N</a>
    <a id="plfa_plfa-part3-Denotational-17865" class="Comment">-----</a>
  <a id="plfa_plfa-part3-Denotational-17873" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17875" href="../Denotational/#plfa_plfa-part3-Denotational-17833" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-17877" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-17879" href="../Denotational/#plfa_plfa-part3-Denotational-17831" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-17881" href="../Denotational/#plfa_plfa-part3-Denotational-17804" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-17887" href="../Denotational/#plfa_plfa-part3-Denotational-17887" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-17890" href="../Denotational/#plfa_plfa-part3-Denotational-17890" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17892" href="../Denotational/#plfa_plfa-part3-Denotational-17892" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17894" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17896" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-17898" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17899" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#650" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-17905" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17906" href="../Denotational/#plfa_plfa-part3-Denotational-17887" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-17909" href="../Denotational/#plfa_plfa-part3-Denotational-17890" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17911" href="../Denotational/#plfa_plfa-part3-Denotational-17892" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-17912" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-17915" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-17917" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17918" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#636" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-17924" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17925" href="../Denotational/#plfa_plfa-part3-Denotational-17887" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-17928" href="../Denotational/#plfa_plfa-part3-Denotational-17890" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-17930" href="../Denotational/#plfa_plfa-part3-Denotational-17892" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-17931" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-17934" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-trans"></a><a id="plfa_plfa-part3-Denotational-17937" href="../Denotational/#plfa_plfa-part3-Denotational-17937" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-17945" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17947" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17949" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17950" href="../Denotational/#plfa_plfa-part3-Denotational-17950" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-17952" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17954" href="../Untyped/#plfa_plfa-part2-Untyped-2750" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-17961" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17963" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17965" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17966" href="../Denotational/#plfa_plfa-part3-Denotational-17966" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-17969" href="../Denotational/#plfa_plfa-part3-Denotational-17969" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-17972" href="../Denotational/#plfa_plfa-part3-Denotational-17972" class="Bound">M₃</a> <a id="plfa_plfa-part3-Denotational-17975" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17977" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-17988" href="../Denotational/#plfa_plfa-part3-Denotational-17950" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-17989" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-17993" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17995" href="../Denotational/#plfa_plfa-part3-Denotational-17966" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-17998" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18000" href="../Denotational/#plfa_plfa-part3-Denotational-17969" class="Bound">M₂</a>
  <a id="plfa_plfa-part3-Denotational-18005" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18007" href="../Denotational/#plfa_plfa-part3-Denotational-17969" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-18010" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18012" href="../Denotational/#plfa_plfa-part3-Denotational-17972" class="Bound">M₃</a>
    <a id="plfa_plfa-part3-Denotational-18019" class="Comment">-------</a>
  <a id="plfa_plfa-part3-Denotational-18029" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18031" href="../Denotational/#plfa_plfa-part3-Denotational-17966" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-18034" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18036" href="../Denotational/#plfa_plfa-part3-Denotational-17972" class="Bound">M₃</a>
<a id="plfa_plfa-part3-Denotational-18039" href="../Denotational/#plfa_plfa-part3-Denotational-17937" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-18047" href="../Denotational/#plfa_plfa-part3-Denotational-18047" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-18051" href="../Denotational/#plfa_plfa-part3-Denotational-18051" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-18055" href="../Denotational/#plfa_plfa-part3-Denotational-18055" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-18057" href="../Denotational/#plfa_plfa-part3-Denotational-18057" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-18059" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-18061" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-18063" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-18066" href="../Denotational/#plfa_plfa-part3-Denotational-18066" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-18068" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18070" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#636" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-18076" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18077" href="../Denotational/#plfa_plfa-part3-Denotational-18051" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-18081" href="../Denotational/#plfa_plfa-part3-Denotational-18055" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-18083" href="../Denotational/#plfa_plfa-part3-Denotational-18057" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-18084" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-18086" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18087" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#636" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-18093" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18094" href="../Denotational/#plfa_plfa-part3-Denotational-18047" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-18098" href="../Denotational/#plfa_plfa-part3-Denotational-18055" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-18100" href="../Denotational/#plfa_plfa-part3-Denotational-18057" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-18101" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-18103" href="../Denotational/#plfa_plfa-part3-Denotational-18066" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-18104" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-18107" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a>
                        <a id="plfa_plfa-part3-Denotational-18133" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-18136" href="../Denotational/#plfa_plfa-part3-Denotational-18136" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-18138" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18140" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#650" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-18146" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18147" href="../Denotational/#plfa_plfa-part3-Denotational-18047" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-18151" href="../Denotational/#plfa_plfa-part3-Denotational-18055" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-18153" href="../Denotational/#plfa_plfa-part3-Denotational-18057" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-18154" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-18156" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18157" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#650" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-18163" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18164" href="../Denotational/#plfa_plfa-part3-Denotational-18051" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-18168" href="../Denotational/#plfa_plfa-part3-Denotational-18055" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-18170" href="../Denotational/#plfa_plfa-part3-Denotational-18057" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-18171" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-18173" href="../Denotational/#plfa_plfa-part3-Denotational-18136" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-18174" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-18177" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
</pre><p>Two terms <code>M</code> and <code>N</code> are denotational equal when their denotations are equal, that is, <code>ℰ M ≃ ℰ N</code>.</p><p>The following submodule introduces equational reasoning for the <code>≃</code> relation.</p><pre class="Agda">
<a id="plfa_plfa-part3-Denotational-18374" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-≃-Reasoning"></a><a id="plfa_plfa-part3-Denotational-18381" href="../Denotational/#plfa_plfa-part3-Denotational-18381" class="Module">≃-Reasoning</a> <a id="plfa_plfa-part3-Denotational-18393" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-18394" href="../Denotational/#plfa_plfa-part3-Denotational-18394" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-18396" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18398" href="../Untyped/#plfa_plfa-part2-Untyped-2750" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-18405" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-18407" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-18416" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-18423" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-18425" href="../Denotational/#plfa_plfa-part3-Denotational-18473" class="Function Operator">start_</a>
  <a id="plfa_plfa-part3-Denotational-18434" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-18441" class="Number">2</a> <a id="plfa_plfa-part3-Denotational-18443" href="../Denotational/#plfa_plfa-part3-Denotational-18704" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-18449" href="../Denotational/#plfa_plfa-part3-Denotational-18564" class="Function Operator">_≃⟨_⟩_</a>
  <a id="plfa_plfa-part3-Denotational-18458" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-18465" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-18467" href="../Denotational/#plfa_plfa-part3-Denotational-18811" class="Function Operator">_☐</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning.start_"></a><a id="plfa_plfa-part3-Denotational-18473" href="../Denotational/#plfa_plfa-part3-Denotational-18473" class="Function Operator">start_</a> <a id="plfa_plfa-part3-Denotational-18480" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18482" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-18484" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-18485" href="../Denotational/#plfa_plfa-part3-Denotational-18485" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18487" href="../Denotational/#plfa_plfa-part3-Denotational-18487" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-18489" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18491" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-18502" href="../Denotational/#plfa_plfa-part3-Denotational-18394" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-18503" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-18509" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18511" href="../Denotational/#plfa_plfa-part3-Denotational-18485" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18513" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18515" href="../Denotational/#plfa_plfa-part3-Denotational-18487" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-18523" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-18533" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18535" href="../Denotational/#plfa_plfa-part3-Denotational-18485" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18537" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18539" href="../Denotational/#plfa_plfa-part3-Denotational-18487" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-18543" href="../Denotational/#plfa_plfa-part3-Denotational-18473" class="Function Operator">start</a> <a id="plfa_plfa-part3-Denotational-18549" href="../Denotational/#plfa_plfa-part3-Denotational-18549" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-18554" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-18557" href="../Denotational/#plfa_plfa-part3-Denotational-18549" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨_⟩_"></a><a id="plfa_plfa-part3-Denotational-18564" href="../Denotational/#plfa_plfa-part3-Denotational-18564" class="Function Operator">_≃⟨_⟩_</a> <a id="plfa_plfa-part3-Denotational-18571" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18573" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-18575" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18576" href="../Denotational/#plfa_plfa-part3-Denotational-18576" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18578" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18580" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-18591" href="../Denotational/#plfa_plfa-part3-Denotational-18394" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-18592" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-18594" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-18595" href="../Denotational/#plfa_plfa-part3-Denotational-18595" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-18597" href="../Denotational/#plfa_plfa-part3-Denotational-18597" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-18599" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18601" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-18612" href="../Denotational/#plfa_plfa-part3-Denotational-18394" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-18613" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-18619" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18621" href="../Denotational/#plfa_plfa-part3-Denotational-18576" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18623" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18625" href="../Denotational/#plfa_plfa-part3-Denotational-18595" class="Bound">y</a>
    <a id="plfa_plfa-part3-Denotational-18631" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18633" href="../Denotational/#plfa_plfa-part3-Denotational-18595" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-18635" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18637" href="../Denotational/#plfa_plfa-part3-Denotational-18597" class="Bound">z</a>
      <a id="plfa_plfa-part3-Denotational-18645" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-18655" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18657" href="../Denotational/#plfa_plfa-part3-Denotational-18576" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18659" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18661" href="../Denotational/#plfa_plfa-part3-Denotational-18597" class="Bound">z</a>
  <a id="plfa_plfa-part3-Denotational-18665" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18666" href="../Denotational/#plfa_plfa-part3-Denotational-18666" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18668" href="../Denotational/#plfa_plfa-part3-Denotational-18564" class="Function Operator">≃⟨</a> <a id="plfa_plfa-part3-Denotational-18671" href="../Denotational/#plfa_plfa-part3-Denotational-18671" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-18675" href="../Denotational/#plfa_plfa-part3-Denotational-18564" class="Function Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-18677" href="../Denotational/#plfa_plfa-part3-Denotational-18677" class="Bound">y≃z</a><a id="plfa_plfa-part3-Denotational-18680" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-18682" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-18685" href="../Denotational/#plfa_plfa-part3-Denotational-17937" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-18693" href="../Denotational/#plfa_plfa-part3-Denotational-18671" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-18697" href="../Denotational/#plfa_plfa-part3-Denotational-18677" class="Bound">y≃z</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨⟩_"></a><a id="plfa_plfa-part3-Denotational-18704" href="../Denotational/#plfa_plfa-part3-Denotational-18704" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-18710" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18712" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-18714" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18715" href="../Denotational/#plfa_plfa-part3-Denotational-18715" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18717" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18719" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-18730" href="../Denotational/#plfa_plfa-part3-Denotational-18394" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-18731" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-18733" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-18734" href="../Denotational/#plfa_plfa-part3-Denotational-18734" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-18736" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18738" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-18749" href="../Denotational/#plfa_plfa-part3-Denotational-18394" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-18750" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-18756" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18758" href="../Denotational/#plfa_plfa-part3-Denotational-18715" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18760" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18762" href="../Denotational/#plfa_plfa-part3-Denotational-18734" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-18770" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-18780" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18782" href="../Denotational/#plfa_plfa-part3-Denotational-18715" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18784" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18786" href="../Denotational/#plfa_plfa-part3-Denotational-18734" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-18790" href="../Denotational/#plfa_plfa-part3-Denotational-18790" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18792" href="../Denotational/#plfa_plfa-part3-Denotational-18704" class="Function Operator">≃⟨⟩</a> <a id="plfa_plfa-part3-Denotational-18796" href="../Denotational/#plfa_plfa-part3-Denotational-18796" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-18801" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-18804" href="../Denotational/#plfa_plfa-part3-Denotational-18796" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._☐"></a><a id="plfa_plfa-part3-Denotational-18811" href="../Denotational/#plfa_plfa-part3-Denotational-18811" class="Function Operator">_☐</a> <a id="plfa_plfa-part3-Denotational-18814" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18816" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-18818" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18819" href="../Denotational/#plfa_plfa-part3-Denotational-18819" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18821" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-18823" href="../Denotational/#plfa_plfa-part3-Denotational-17125" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-18834" href="../Denotational/#plfa_plfa-part3-Denotational-18394" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-18835" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-18843" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-18853" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-18855" href="../Denotational/#plfa_plfa-part3-Denotational-18819" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18857" href="../Denotational/#plfa_plfa-part3-Denotational-17528" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-18859" href="../Denotational/#plfa_plfa-part3-Denotational-18819" class="Bound">x</a>
  <a id="plfa_plfa-part3-Denotational-18863" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18864" href="../Denotational/#plfa_plfa-part3-Denotational-18864" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-18866" href="../Denotational/#plfa_plfa-part3-Denotational-18811" class="Function Operator">☐</a><a id="plfa_plfa-part3-Denotational-18867" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-18870" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-18873" href="../Denotational/#plfa_plfa-part3-Denotational-17708" class="Function">≃-refl</a>
</pre><h2 id="road-map-for-the-following-chapters">Road map for the following chapters</h2><p>The subsequent chapters prove that the denotational semantics has several desirable properties. First, we prove that the semantics is compositional, i.e., that the denotation of a term is a function of the denotations of its subterms. To do this we shall prove equations of the following shape.</p><pre><code>ℰ (` x) ≃ ...
ℰ (ƛ M) ≃ ... ℰ M ...
ℰ (M · N) ≃ ... ℰ M ... ℰ N ...</code></pre><p>The compositionality property is not trivial because the semantics we have defined includes three rules that are not syntax directed: <code>⊥-intro</code>, <code>⊔-intro</code>, and <code>sub</code>. The above equations suggest that the denotational semantics can be defined as a recursive function, and indeed, we give such a definition and prove that it is equivalent to ℰ.</p><p>Next we investigate whether the denotational semantics and the reduction semantics are equivalent. Recall that the job of a language semantics is to describe the observable behavior of a given program <code>M</code>. For the lambda calculus there are several choices that one can make, but they usually boil down to a single bit of information:</p><ul><li>divergence: the program <code>M</code> executes forever.</li><li>termination: the program <code>M</code> halts.</li></ul><p>We can characterize divergence and termination in terms of reduction.</p><ul><li>divergence: <code>¬ (M —↠ ƛ N)</code> for any term <code>N</code>.</li><li>termination: <code>M —↠ ƛ N</code> for some term <code>N</code>.</li></ul><p>We can also characterize divergence and termination using denotations.</p><ul><li>divergence: <code>¬ (∅ ⊢ M ↓ v ↦ w)</code> for any <code>v</code> and <code>w</code>.</li><li>termination: <code>∅ ⊢ M ↓ v ↦ w</code> for some <code>v</code> and <code>w</code>.</li></ul><p>Alternatively, we can use the denotation function <code>ℰ</code>.</p><ul><li>divergence: <code>¬ (ℰ M ≃ ℰ (ƛ N))</code> for any term <code>N</code>.</li><li>termination: <code>ℰ M ≃ ℰ (ƛ N)</code> for some term <code>N</code>.</li></ul><p>So the question is whether the reduction semantics and denotational semantics are equivalent.</p><pre><code>(∃ N. M —↠ ƛ N)  iff  (∃ N. ℰ M ≃ ℰ (ƛ N))</code></pre><p>We address each direction of the equivalence in the second and third chapters. In the second chapter we prove that reduction to a lambda abstraction implies denotational equality to a lambda abstraction. This property is called the <em>soundness</em> in the literature.</p><pre><code>M —↠ ƛ N  implies  ℰ M ≃ ℰ (ƛ N)</code></pre><p>In the third chapter we prove that denotational equality to a lambda abstraction implies reduction to a lambda abstraction. This property is called <em>adequacy</em> in the literature.</p><pre><code>ℰ M ≃ ℰ (ƛ N)  implies M —↠ ƛ N′ for some N′</code></pre><p>The fourth chapter applies the results of the three preceding chapters (compositionality, soundness, and adequacy) to prove that denotational equality implies a property called <em>contextual equivalence</em>. This property is important because it justifies the use of denotational equality in proving the correctness of program transformations such as performance optimizations.</p><p>The proofs of all of these properties rely on some basic results about the denotational semantics, which we establish in the rest of this chapter. We start with some lemmas about renaming, which are quite similar to the renaming lemmas that we have seen in previous chapters. We conclude with a proof of an important inversion lemma for the less-than relation regarding function values.</p><h2 id="renaming-preserves-denotations">Renaming preserves denotations</h2><p>We shall prove that renaming variables, and changing the environment accordingly, preserves the meaning of a term. We generalize the renaming lemma to allow the values in the new environment to be the same or larger than the original values. This generalization is useful in proving that reduction implies denotational equality.</p><p>As before, we need an extension lemma to handle the case where we proceed underneath a lambda abstraction. Suppose that <code>ρ</code> is a renaming that maps variables in <code>γ</code> into variables with equal or larger values in <code>δ</code>. This lemmas says that extending the renaming producing a renaming <code>ext r</code> that maps <code>γ , v</code> to <code>δ , v</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ext-⊑"></a><a id="plfa_plfa-part3-Denotational-22720" href="../Denotational/#plfa_plfa-part3-Denotational-22720" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-22726" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22728" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22730" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22731" href="../Denotational/#plfa_plfa-part3-Denotational-22731" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22733" href="../Denotational/#plfa_plfa-part3-Denotational-22733" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-22735" href="../Denotational/#plfa_plfa-part3-Denotational-22735" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22736" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22738" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22739" href="../Denotational/#plfa_plfa-part3-Denotational-22739" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22741" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22743" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-22747" href="../Denotational/#plfa_plfa-part3-Denotational-22731" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22748" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22750" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22751" href="../Denotational/#plfa_plfa-part3-Denotational-22751" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-22753" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22755" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-22759" href="../Denotational/#plfa_plfa-part3-Denotational-22733" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-22760" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22764" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22766" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22767" href="../Denotational/#plfa_plfa-part3-Denotational-22767" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-22769" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22771" href="../Substitution/#plfa_plfa-part2-Substitution-2133" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-22778" href="../Denotational/#plfa_plfa-part3-Denotational-22731" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22780" href="../Denotational/#plfa_plfa-part3-Denotational-22733" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-22781" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-22785" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22787" href="../Denotational/#plfa_plfa-part3-Denotational-22739" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22789" href="../Denotational/#plfa_plfa-part3-Denotational-7900" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-22792" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22793" href="../Denotational/#plfa_plfa-part3-Denotational-22751" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-22795" href="https://agda.github.io/agda-stdlib/v2.1/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-22797" href="../Denotational/#plfa_plfa-part3-Denotational-22767" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-22798" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-22804" class="Comment">------------------------------</a>
  <a id="plfa_plfa-part3-Denotational-22837" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22839" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22840" href="../Denotational/#plfa_plfa-part3-Denotational-22739" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22842" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-22845" href="../Denotational/#plfa_plfa-part3-Denotational-22735" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22846" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22848" href="../Denotational/#plfa_plfa-part3-Denotational-7900" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-22851" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-22853" href="../Denotational/#plfa_plfa-part3-Denotational-22751" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-22855" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-22858" href="../Denotational/#plfa_plfa-part3-Denotational-22735" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22859" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22861" href="https://agda.github.io/agda-stdlib/v2.1/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-22863" href="../Untyped/#plfa_plfa-part2-Untyped-5709" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-22867" href="../Denotational/#plfa_plfa-part3-Denotational-22767" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-22868" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-22870" href="../Denotational/#plfa_plfa-part3-Denotational-22720" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-22876" href="../Denotational/#plfa_plfa-part3-Denotational-22876" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-22878" href="../Denotational/#plfa_plfa-part3-Denotational-22878" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-22881" href="../Untyped/#plfa_plfa-part2-Untyped-3162" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-22883" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22885" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-22892" href="../Denotational/#plfa_plfa-part3-Denotational-22720" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-22898" href="../Denotational/#plfa_plfa-part3-Denotational-22898" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-22900" href="../Denotational/#plfa_plfa-part3-Denotational-22900" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-22903" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22904" href="../Untyped/#plfa_plfa-part2-Untyped-3207" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-22906" href="../Denotational/#plfa_plfa-part3-Denotational-22906" class="Bound">n′</a><a id="plfa_plfa-part3-Denotational-22908" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22910" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22912" href="../Denotational/#plfa_plfa-part3-Denotational-22900" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-22915" href="../Denotational/#plfa_plfa-part3-Denotational-22906" class="Bound">n′</a>
</pre><p>We proceed by cases on the de Bruijn index <code>n</code>.</p><ul><li><p>If it is <code>Z</code>, then we just need to show that <code>v ⊑ v</code>, which we have by <code>⊑-refl</code>.</p></li><li><p>If it is <code>S n′</code>, then the goal simplifies to <code>γ n′ ⊑ δ (ρ n′)</code>, which is an instance of the premise.</p></li></ul><p>Now for the renaming lemma. Suppose we have a renaming that maps variables in <code>γ</code> into variables with the same values in <code>δ</code>. If <code>M</code> results in <code>v</code> when evaluated in environment <code>γ</code>, then applying the renaming to <code>M</code> produces a program that results in the same value <code>v</code> when evaluated in <code>δ</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-rename-pres"></a><a id="plfa_plfa-part3-Denotational-23466" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23478" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23480" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23482" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23483" href="../Denotational/#plfa_plfa-part3-Denotational-23483" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-23485" href="../Denotational/#plfa_plfa-part3-Denotational-23485" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-23487" href="../Denotational/#plfa_plfa-part3-Denotational-23487" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23488" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-23490" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23491" href="../Denotational/#plfa_plfa-part3-Denotational-23491" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23493" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23495" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-23499" href="../Denotational/#plfa_plfa-part3-Denotational-23483" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23500" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-23502" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23503" href="../Denotational/#plfa_plfa-part3-Denotational-23503" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-23505" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23507" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-23511" href="../Denotational/#plfa_plfa-part3-Denotational-23485" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-23512" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-23514" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23515" href="../Denotational/#plfa_plfa-part3-Denotational-23515" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-23517" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23519" href="../Denotational/#plfa_plfa-part3-Denotational-23483" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-23521" href="../Untyped/#plfa_plfa-part2-Untyped-3903" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-23523" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-23524" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-23528" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23530" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23531" href="../Denotational/#plfa_plfa-part3-Denotational-23531" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23533" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23535" href="../Substitution/#plfa_plfa-part2-Substitution-2133" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-23542" href="../Denotational/#plfa_plfa-part3-Denotational-23483" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-23544" href="../Denotational/#plfa_plfa-part3-Denotational-23485" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-23545" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-23549" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23551" href="../Denotational/#plfa_plfa-part3-Denotational-23491" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23553" href="../Denotational/#plfa_plfa-part3-Denotational-7900" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-23556" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23557" href="../Denotational/#plfa_plfa-part3-Denotational-23503" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-23559" href="https://agda.github.io/agda-stdlib/v2.1/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-23561" href="../Denotational/#plfa_plfa-part3-Denotational-23531" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-23562" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-23566" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23568" href="../Denotational/#plfa_plfa-part3-Denotational-23491" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23570" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-23572" href="../Denotational/#plfa_plfa-part3-Denotational-23515" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-23574" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-23576" href="../Denotational/#plfa_plfa-part3-Denotational-23487" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-23582" class="Comment">---------------------</a>
  <a id="plfa_plfa-part3-Denotational-23606" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23608" href="../Denotational/#plfa_plfa-part3-Denotational-23503" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-23610" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-23612" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23613" href="../Untyped/#plfa_plfa-part2-Untyped-6023" class="Function">rename</a> <a id="plfa_plfa-part3-Denotational-23620" href="../Denotational/#plfa_plfa-part3-Denotational-23531" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23622" href="../Denotational/#plfa_plfa-part3-Denotational-23515" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-23623" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23625" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-23627" href="../Denotational/#plfa_plfa-part3-Denotational-23487" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-23629" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23641" href="../Denotational/#plfa_plfa-part3-Denotational-23641" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23643" href="../Denotational/#plfa_plfa-part3-Denotational-23643" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23646" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23647" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-23651" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23652" class="Argument">x</a> <a id="plfa_plfa-part3-Denotational-23654" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-23656" href="../Denotational/#plfa_plfa-part3-Denotational-23656" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-23657" class="Symbol">})</a> <a id="plfa_plfa-part3-Denotational-23660" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-23662" href="../Denotational/#plfa_plfa-part3-Denotational-9695" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-23666" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-23670" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23671" href="../Denotational/#plfa_plfa-part3-Denotational-23643" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23674" href="../Denotational/#plfa_plfa-part3-Denotational-23656" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-23675" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-23677" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23689" href="../Denotational/#plfa_plfa-part3-Denotational-23689" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23691" href="../Denotational/#plfa_plfa-part3-Denotational-23691" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23694" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23695" href="../Denotational/#plfa_plfa-part3-Denotational-9279" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-23702" href="../Denotational/#plfa_plfa-part3-Denotational-23702" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-23704" href="../Denotational/#plfa_plfa-part3-Denotational-23704" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-23706" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23708" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-23713" href="../Denotational/#plfa_plfa-part3-Denotational-9279" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-23720" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23721" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23733" href="../Denotational/#plfa_plfa-part3-Denotational-23689" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23735" href="../Denotational/#plfa_plfa-part3-Denotational-23691" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23738" href="../Denotational/#plfa_plfa-part3-Denotational-23702" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-23739" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23741" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23742" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23754" href="../Denotational/#plfa_plfa-part3-Denotational-23689" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23756" href="../Denotational/#plfa_plfa-part3-Denotational-23691" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23759" href="../Denotational/#plfa_plfa-part3-Denotational-23704" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-23761" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-23763" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23775" href="../Denotational/#plfa_plfa-part3-Denotational-23775" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23777" href="../Denotational/#plfa_plfa-part3-Denotational-23777" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23780" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23781" href="../Denotational/#plfa_plfa-part3-Denotational-9401" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-23789" href="../Denotational/#plfa_plfa-part3-Denotational-23789" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-23790" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23792" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-23797" href="../Denotational/#plfa_plfa-part3-Denotational-9401" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-23805" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23806" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23818" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23819" href="../Untyped/#plfa_plfa-part2-Untyped-5709" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-23823" href="../Denotational/#plfa_plfa-part3-Denotational-23775" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-23824" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23826" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23827" href="../Denotational/#plfa_plfa-part3-Denotational-22720" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-23833" href="../Denotational/#plfa_plfa-part3-Denotational-23775" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23835" href="../Denotational/#plfa_plfa-part3-Denotational-23777" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-23837" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23839" href="../Denotational/#plfa_plfa-part3-Denotational-23789" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-23840" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-23842" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23854" href="../Denotational/#plfa_plfa-part3-Denotational-23854" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23856" href="../Denotational/#plfa_plfa-part3-Denotational-23856" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23859" href="../Denotational/#plfa_plfa-part3-Denotational-9513" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-23867" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-23869" href="../Denotational/#plfa_plfa-part3-Denotational-9513" class="InductiveConstructor">⊥-intro</a>
<a id="plfa_plfa-part3-Denotational-23877" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23889" href="../Denotational/#plfa_plfa-part3-Denotational-23889" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23891" href="../Denotational/#plfa_plfa-part3-Denotational-23891" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23894" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23895" href="../Denotational/#plfa_plfa-part3-Denotational-9580" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-23903" href="../Denotational/#plfa_plfa-part3-Denotational-23903" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-23905" href="../Denotational/#plfa_plfa-part3-Denotational-23905" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-23907" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23909" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-23914" href="../Denotational/#plfa_plfa-part3-Denotational-9580" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-23922" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23923" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23935" href="../Denotational/#plfa_plfa-part3-Denotational-23889" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23937" href="../Denotational/#plfa_plfa-part3-Denotational-23891" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23940" href="../Denotational/#plfa_plfa-part3-Denotational-23903" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-23941" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23943" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23944" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23956" href="../Denotational/#plfa_plfa-part3-Denotational-23889" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23958" href="../Denotational/#plfa_plfa-part3-Denotational-23891" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23961" href="../Denotational/#plfa_plfa-part3-Denotational-23905" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-23963" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-23965" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-23977" href="../Denotational/#plfa_plfa-part3-Denotational-23977" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-23979" href="../Denotational/#plfa_plfa-part3-Denotational-23979" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-23982" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23983" href="../Denotational/#plfa_plfa-part3-Denotational-9695" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-23987" href="../Denotational/#plfa_plfa-part3-Denotational-23987" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-23989" href="../Denotational/#plfa_plfa-part3-Denotational-23989" class="Bound">lt′</a><a id="plfa_plfa-part3-Denotational-23992" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23994" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-23999" href="../Denotational/#plfa_plfa-part3-Denotational-9695" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-24003" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-24004" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-24016" href="../Denotational/#plfa_plfa-part3-Denotational-23977" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-24018" href="../Denotational/#plfa_plfa-part3-Denotational-23979" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-24021" href="../Denotational/#plfa_plfa-part3-Denotational-23987" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-24022" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-24024" href="../Denotational/#plfa_plfa-part3-Denotational-23989" class="Bound">lt′</a>
</pre><p>The proof is by induction on the semantics of <code>M</code>. As you can see, all of the cases are trivial except the cases for variables and lambda.</p><ul><li><p>For a variable <code>x</code>, we make use of the premise to show that <code>γ x ⊑ δ (ρ x)</code>.</p></li><li><p>For a lambda abstraction, the induction hypothesis requires us to extend the renaming. We do so, and use the <code>ext-⊑</code> lemma to show that the extended renaming maps variables to ones with equivalent values.</p></li></ul><h2 id="environment-strengthening-and-identity-renaming">Environment strengthening and identity renaming</h2><p>We shall need a corollary of the renaming lemma that says that replacing the environment with a larger one (a stronger one) does not change whether a term <code>M</code> results in particular value <code>v</code>. In particular, if <code>γ ⊢ M ↓ v</code> and <code>γ ⊑ δ</code>, then <code>δ ⊢ M ↓ v</code>. What does this have to do with renaming? It’s renaming with the identity function. We apply the renaming lemma with the identity renaming, which gives us <code>δ ⊢ rename (λ {A} x → x) M ↓ v</code>, and then we apply the <code>rename-id</code> lemma to obtain <code>δ ⊢ M ↓ v</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-env"></a><a id="plfa_plfa-part3-Denotational-25039" href="../Denotational/#plfa_plfa-part3-Denotational-25039" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-25045" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-25047" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-25049" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25050" href="../Denotational/#plfa_plfa-part3-Denotational-25050" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25051" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25053" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25054" href="../Denotational/#plfa_plfa-part3-Denotational-25054" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25056" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-25058" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-25062" href="../Denotational/#plfa_plfa-part3-Denotational-25050" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25063" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25065" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25066" href="../Denotational/#plfa_plfa-part3-Denotational-25066" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-25068" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-25070" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-25074" href="../Denotational/#plfa_plfa-part3-Denotational-25050" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25075" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25077" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25078" href="../Denotational/#plfa_plfa-part3-Denotational-25078" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-25080" href="../Denotational/#plfa_plfa-part3-Denotational-25080" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-25081" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-25085" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25087" href="../Denotational/#plfa_plfa-part3-Denotational-25054" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25089" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-25091" href="../Denotational/#plfa_plfa-part3-Denotational-25078" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-25093" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-25095" href="../Denotational/#plfa_plfa-part3-Denotational-25080" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-25099" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25101" href="../Denotational/#plfa_plfa-part3-Denotational-25054" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25103" href="../Denotational/#plfa_plfa-part3-Denotational-7900" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-25106" href="../Denotational/#plfa_plfa-part3-Denotational-25066" class="Bound">δ</a>
    <a id="plfa_plfa-part3-Denotational-25112" class="Comment">----------</a>
  <a id="plfa_plfa-part3-Denotational-25125" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25127" href="../Denotational/#plfa_plfa-part3-Denotational-25066" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-25129" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-25131" href="../Denotational/#plfa_plfa-part3-Denotational-25078" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-25133" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-25135" href="../Denotational/#plfa_plfa-part3-Denotational-25080" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-25137" href="../Denotational/#plfa_plfa-part3-Denotational-25039" class="Function">⊑-env</a><a id="plfa_plfa-part3-Denotational-25142" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25143" href="../Denotational/#plfa_plfa-part3-Denotational-25143" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25144" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25146" href="../Denotational/#plfa_plfa-part3-Denotational-25146" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-25147" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25149" href="../Denotational/#plfa_plfa-part3-Denotational-25149" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-25150" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25152" href="../Denotational/#plfa_plfa-part3-Denotational-25152" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-25153" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25155" href="../Denotational/#plfa_plfa-part3-Denotational-25155" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-25156" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25158" href="../Denotational/#plfa_plfa-part3-Denotational-25158" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-25160" href="../Denotational/#plfa_plfa-part3-Denotational-25160" class="Bound">lt</a>
      <a id="plfa_plfa-part3-Denotational-25169" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-25174" href="../Denotational/#plfa_plfa-part3-Denotational-23466" class="Function">rename-pres</a><a id="plfa_plfa-part3-Denotational-25185" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25186" href="../Denotational/#plfa_plfa-part3-Denotational-25143" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25187" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25189" href="../Denotational/#plfa_plfa-part3-Denotational-25143" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25190" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25192" href="../Denotational/#plfa_plfa-part3-Denotational-25155" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-25193" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25195" href="../Denotational/#plfa_plfa-part3-Denotational-25146" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-25196" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25198" href="../Denotational/#plfa_plfa-part3-Denotational-25149" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-25199" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25201" href="../Denotational/#plfa_plfa-part3-Denotational-25152" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-25202" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25204" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-25207" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25208" href="../Denotational/#plfa_plfa-part3-Denotational-25208" class="Bound">A</a><a id="plfa_plfa-part3-Denotational-25209" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25211" href="../Denotational/#plfa_plfa-part3-Denotational-25211" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-25213" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25215" href="../Denotational/#plfa_plfa-part3-Denotational-25211" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-25216" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-25218" href="../Denotational/#plfa_plfa-part3-Denotational-25160" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-25221" href="../Denotational/#plfa_plfa-part3-Denotational-25158" class="Bound">d</a>
<a id="plfa_plfa-part3-Denotational-25223" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-25227" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-25229" href="../Denotational/#plfa_plfa-part3-Denotational-25229" class="Bound">δ⊢id[M]↓v</a> <a id="plfa_plfa-part3-Denotational-25239" class="Keyword">rewrite</a> <a id="plfa_plfa-part3-Denotational-25247" href="../Substitution/#plfa_plfa-part2-Substitution-17227" class="Function">rename-id</a> <a id="plfa_plfa-part3-Denotational-25257" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25258" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25259" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25261" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-25262" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-25264" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-25265" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25267" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-25275" href="../Denotational/#plfa_plfa-part3-Denotational-25229" class="Bound">δ⊢id[M]↓v</a>
</pre><p>In the proof that substitution reflects denotations, in the case for lambda abstraction, we use a minor variation of <code>⊑-env</code>, in which just the last element of the environment gets larger.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-up-env"></a><a id="plfa_plfa-part3-Denotational-25488" href="../Denotational/#plfa_plfa-part3-Denotational-25488" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-25495" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-25497" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-25499" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25500" href="../Denotational/#plfa_plfa-part3-Denotational-25500" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25501" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25503" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25504" href="../Denotational/#plfa_plfa-part3-Denotational-25504" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25506" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-25508" href="../Denotational/#plfa_plfa-part3-Denotational-7068" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-25512" href="../Denotational/#plfa_plfa-part3-Denotational-25500" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-25513" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25515" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25516" href="../Denotational/#plfa_plfa-part3-Denotational-25516" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-25518" href="../Denotational/#plfa_plfa-part3-Denotational-25518" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-25520" href="../Denotational/#plfa_plfa-part3-Denotational-25520" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-25523" href="../Denotational/#plfa_plfa-part3-Denotational-25523" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-25525" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-25529" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25531" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-25532" href="../Denotational/#plfa_plfa-part3-Denotational-25504" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25534" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-25537" href="../Denotational/#plfa_plfa-part3-Denotational-25520" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-25539" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-25541" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-25543" href="../Denotational/#plfa_plfa-part3-Denotational-25516" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-25545" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-25547" href="../Denotational/#plfa_plfa-part3-Denotational-25518" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-25551" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25553" href="../Denotational/#plfa_plfa-part3-Denotational-25520" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-25556" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-25558" href="../Denotational/#plfa_plfa-part3-Denotational-25523" class="Bound">u₂</a>
    <a id="plfa_plfa-part3-Denotational-25565" class="Comment">-----------------</a>
  <a id="plfa_plfa-part3-Denotational-25585" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25587" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-25588" href="../Denotational/#plfa_plfa-part3-Denotational-25504" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25590" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-25593" href="../Denotational/#plfa_plfa-part3-Denotational-25523" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-25595" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-25597" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-25599" href="../Denotational/#plfa_plfa-part3-Denotational-25516" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-25601" href="../Denotational/#plfa_plfa-part3-Denotational-9150" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-25603" href="../Denotational/#plfa_plfa-part3-Denotational-25518" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-25605" href="../Denotational/#plfa_plfa-part3-Denotational-25488" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-25612" href="../Denotational/#plfa_plfa-part3-Denotational-25612" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-25614" href="../Denotational/#plfa_plfa-part3-Denotational-25614" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-25617" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-25619" href="../Denotational/#plfa_plfa-part3-Denotational-25039" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-25625" href="../Denotational/#plfa_plfa-part3-Denotational-25612" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-25627" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-25628" href="../Denotational/#plfa_plfa-part3-Denotational-25649" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-25635" href="../Denotational/#plfa_plfa-part3-Denotational-25614" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-25637" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-25641" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-25649" href="../Denotational/#plfa_plfa-part3-Denotational-25649" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-25656" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-25658" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-25660" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-25661" href="../Denotational/#plfa_plfa-part3-Denotational-25661" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25663" href="../Denotational/#plfa_plfa-part3-Denotational-25663" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-25666" href="../Denotational/#plfa_plfa-part3-Denotational-25666" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-25668" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-25670" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25672" href="../Denotational/#plfa_plfa-part3-Denotational-25663" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-25675" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-25677" href="../Denotational/#plfa_plfa-part3-Denotational-25666" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-25680" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-25682" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-25683" href="../Denotational/#plfa_plfa-part3-Denotational-25661" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25685" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-25688" href="../Denotational/#plfa_plfa-part3-Denotational-25663" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-25690" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-25692" href="../Denotational/#plfa_plfa-part3-Denotational-7900" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-25695" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-25696" href="../Denotational/#plfa_plfa-part3-Denotational-25661" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-25698" href="../Denotational/#plfa_plfa-part3-Denotational-7229" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-25701" href="../Denotational/#plfa_plfa-part3-Denotational-25666" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-25703" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-25707" href="../Denotational/#plfa_plfa-part3-Denotational-25649" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-25714" href="../Denotational/#plfa_plfa-part3-Denotational-25714" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-25717" href="../Untyped/#plfa_plfa-part2-Untyped-3162" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-25719" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-25721" href="../Denotational/#plfa_plfa-part3-Denotational-25714" class="Bound">lt</a>
  <a id="plfa_plfa-part3-Denotational-25726" href="../Denotational/#plfa_plfa-part3-Denotational-25649" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-25733" href="../Denotational/#plfa_plfa-part3-Denotational-25733" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-25736" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-25737" href="../Untyped/#plfa_plfa-part2-Untyped-3207" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-25739" href="../Denotational/#plfa_plfa-part3-Denotational-25739" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-25740" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-25742" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-25744" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a>
</pre><h4 id="exercise-denot-church-recommended">Exercise <code>denot-church</code> (recommended)</h4><p>Church numerals are more general than natural numbers in that they represent paths. A path consists of <code>n</code> edges and <code>n + 1</code> vertices. We store the vertices in a vector of length <code>n + 1</code> in reverse order. The edges in the path map the ith vertex to the <code>i + 1</code> vertex. The following function <code>D^suc</code> (for denotation of successor) constructs a table whose entries are all the edges in the path.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-D^suc"></a><a id="plfa_plfa-part3-Denotational-26203" href="../Denotational/#plfa_plfa-part3-Denotational-26203" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-26209" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-26211" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26212" href="../Denotational/#plfa_plfa-part3-Denotational-26212" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-26214" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-26216" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-26217" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26219" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26221" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-26225" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-26231" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26232" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-26236" href="../Denotational/#plfa_plfa-part3-Denotational-26212" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-26237" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26239" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26241" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-26247" href="../Denotational/#plfa_plfa-part3-Denotational-26203" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-26253" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-26258" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26259" href="../Denotational/#plfa_plfa-part3-Denotational-26259" class="Bound">a[0]</a> <a id="plfa_plfa-part3-Denotational-26264" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26266" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-26268" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26270" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-26272" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-26274" href="../Denotational/#plfa_plfa-part3-Denotational-26203" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-26280" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26281" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-26285" href="../Denotational/#plfa_plfa-part3-Denotational-26285" class="Bound">i</a><a id="plfa_plfa-part3-Denotational-26286" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26288" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26289" href="../Denotational/#plfa_plfa-part3-Denotational-26289" class="Bound">a[i+1]</a> <a id="plfa_plfa-part3-Denotational-26296" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26298" href="../Denotational/#plfa_plfa-part3-Denotational-26298" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-26303" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26305" href="../Denotational/#plfa_plfa-part3-Denotational-26305" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-26307" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26309" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-26312" href="../Denotational/#plfa_plfa-part3-Denotational-26298" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-26317" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-26319" href="../Denotational/#plfa_plfa-part3-Denotational-26289" class="Bound">a[i+1]</a>  <a id="plfa_plfa-part3-Denotational-26327" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a>  <a id="plfa_plfa-part3-Denotational-26330" href="../Denotational/#plfa_plfa-part3-Denotational-26203" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-26336" href="../Denotational/#plfa_plfa-part3-Denotational-26285" class="Bound">i</a> <a id="plfa_plfa-part3-Denotational-26338" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26339" href="../Denotational/#plfa_plfa-part3-Denotational-26298" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-26344" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26346" href="../Denotational/#plfa_plfa-part3-Denotational-26305" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-26348" class="Symbol">)</a>
</pre><p>We use the following auxiliary function to obtain the last element of a non-empty vector. (This formulation is more convenient for our purposes than the one in the Agda standard library.)</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-vec-last"></a><a id="plfa_plfa-part3-Denotational-26552" href="../Denotational/#plfa_plfa-part3-Denotational-26552" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-26561" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-26563" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-26565" href="../Denotational/#plfa_plfa-part3-Denotational-26565" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-26567" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-26569" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-26570" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-26572" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26574" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-26578" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-26584" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26585" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-26589" href="../Denotational/#plfa_plfa-part3-Denotational-26565" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-26590" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26592" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26594" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-26600" href="../Denotational/#plfa_plfa-part3-Denotational-26552" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-26609" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-26610" class="Number">0</a><a id="plfa_plfa-part3-Denotational-26611" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-26613" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26614" href="../Denotational/#plfa_plfa-part3-Denotational-26614" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-26616" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26618" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-26620" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26622" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-26624" href="../Denotational/#plfa_plfa-part3-Denotational-26614" class="Bound">a</a>
<a id="plfa_plfa-part3-Denotational-26626" href="../Denotational/#plfa_plfa-part3-Denotational-26552" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-26635" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-26636" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-26640" href="../Denotational/#plfa_plfa-part3-Denotational-26640" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-26641" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-26643" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26644" href="../Denotational/#plfa_plfa-part3-Denotational-26644" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-26646" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26648" href="../Denotational/#plfa_plfa-part3-Denotational-26648" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-26650" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26652" href="../Denotational/#plfa_plfa-part3-Denotational-26652" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-26654" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26656" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-26658" href="../Denotational/#plfa_plfa-part3-Denotational-26552" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-26667" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26668" href="../Denotational/#plfa_plfa-part3-Denotational-26648" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-26670" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26672" href="../Denotational/#plfa_plfa-part3-Denotational-26652" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-26674" class="Symbol">)</a>
</pre><p>The function <code>Dᶜ</code> computes the denotation of the nth Church numeral for a given path.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Dᶜ"></a><a id="plfa_plfa-part3-Denotational-26776" href="../Denotational/#plfa_plfa-part3-Denotational-26776" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-26779" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-26781" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26782" href="../Denotational/#plfa_plfa-part3-Denotational-26782" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-26784" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-26786" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-26787" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26789" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26791" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-26795" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-26801" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26802" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-26806" href="../Denotational/#plfa_plfa-part3-Denotational-26782" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-26807" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26809" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-26811" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-26817" href="../Denotational/#plfa_plfa-part3-Denotational-26776" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-26820" href="../Denotational/#plfa_plfa-part3-Denotational-26820" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-26822" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26823" href="../Denotational/#plfa_plfa-part3-Denotational-26823" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-26828" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26830" href="../Denotational/#plfa_plfa-part3-Denotational-26830" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-26832" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-26834" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-26836" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26837" href="../Denotational/#plfa_plfa-part3-Denotational-26203" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-26843" href="../Denotational/#plfa_plfa-part3-Denotational-26820" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-26845" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26846" href="../Denotational/#plfa_plfa-part3-Denotational-26823" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-26851" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26853" href="../Denotational/#plfa_plfa-part3-Denotational-26830" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-26855" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-26858" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-26860" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26861" href="../Denotational/#plfa_plfa-part3-Denotational-26552" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-26870" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-26871" href="../Denotational/#plfa_plfa-part3-Denotational-26823" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-26876" href="https://agda.github.io/agda-stdlib/v2.1/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-26878" href="../Denotational/#plfa_plfa-part3-Denotational-26830" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-26880" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-26883" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-26885" href="../Denotational/#plfa_plfa-part3-Denotational-26823" class="Bound">a[n]</a>
</pre><ul><li><p>The Church numeral for 0 ignores its first argument and returns its second argument, so for the singleton path consisting of just <code>a[0]</code>, its denotation is</p><pre><code>  ⊥ ↦ a[0] ↦ a[0]</code></pre></li><li><p>The Church numeral for <code>suc n</code> takes two arguments: a successor function whose denotation is given by <code>D^suc</code>, and the start of the path (last of the vector). It returns the <code>n + 1</code> vertex in the path.</p><pre><code>  (D^suc (suc n) (a[n+1] ∷ a[n] ∷ ls)) ↦ (vec-last (a[n] ∷ ls)) ↦ a[n+1]</code></pre></li></ul><p>The exercise is to prove that for any path <code>ls</code>, the meaning of the Church numeral <code>n</code> is <code>Dᶜ n ls</code>.</p><p>To facilitate talking about arbitrary Church numerals, the following <code>church</code> function builds the term for the nth Church numeral, using the auxiliary function <code>apply-n</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-apply-n"></a><a id="plfa_plfa-part3-Denotational-27656" href="../Denotational/#plfa_plfa-part3-Denotational-27656" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-27664" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-27666" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27667" href="../Denotational/#plfa_plfa-part3-Denotational-27667" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-27669" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-27671" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-27672" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-27674" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-27676" href="../Untyped/#plfa_plfa-part2-Untyped-2772" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-27678" href="../Untyped/#plfa_plfa-part2-Untyped-2788" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-27680" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-27682" href="../Untyped/#plfa_plfa-part2-Untyped-2788" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-27684" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-27686" href="../Untyped/#plfa_plfa-part2-Untyped-3903" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-27688" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-27690" href="../Denotational/#plfa_plfa-part3-Denotational-27656" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-27698" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-27703" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-27705" href="../Untyped/#plfa_plfa-part2-Untyped-4782" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-27707" class="Number">0</a>
<a id="plfa_plfa-part3-Denotational-27709" href="../Denotational/#plfa_plfa-part3-Denotational-27656" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-27717" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27718" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-27722" href="../Denotational/#plfa_plfa-part3-Denotational-27722" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-27723" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-27725" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-27727" href="../Untyped/#plfa_plfa-part2-Untyped-4782" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-27729" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-27731" href="../Untyped/#plfa_plfa-part2-Untyped-4051" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-27733" href="../Denotational/#plfa_plfa-part3-Denotational-27656" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-27741" href="../Denotational/#plfa_plfa-part3-Denotational-27722" class="Bound">n</a>

<a id="plfa_plfa-part3-Denotational-church"></a><a id="plfa_plfa-part3-Denotational-27744" href="../Denotational/#plfa_plfa-part3-Denotational-27744" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-27751" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-27753" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-27754" href="../Denotational/#plfa_plfa-part3-Denotational-27754" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-27756" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-27758" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-27759" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-27761" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-27763" href="../Untyped/#plfa_plfa-part2-Untyped-2772" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-27765" href="../Untyped/#plfa_plfa-part2-Untyped-3903" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-27767" href="../Untyped/#plfa_plfa-part2-Untyped-2477" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-27769" href="../Denotational/#plfa_plfa-part3-Denotational-27744" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-27776" href="../Denotational/#plfa_plfa-part3-Denotational-27776" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-27778" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-27780" href="../Untyped/#plfa_plfa-part2-Untyped-3991" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-27782" href="../Untyped/#plfa_plfa-part2-Untyped-3991" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-27784" href="../Denotational/#plfa_plfa-part3-Denotational-27656" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-27792" href="../Denotational/#plfa_plfa-part3-Denotational-27776" class="Bound">n</a>
</pre><p>Prove the following theorem.</p><pre><code>denot-church : ∀{n : ℕ}{ls : Vec Value (suc n)}
   → `∅ ⊢ church n ↓ Dᶜ n ls</code></pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-27923" class="Comment">-- Your code goes here</a>
</pre><h2 id="inversion-of-the-less-than-relation-for-functions">Inversion of the less-than relation for functions</h2><p>What can we deduce from knowing that a function <code>v ↦ w</code> is less than some value <code>u</code>? What can we deduce about <code>u</code>? The answer to this question is called the inversion property of less-than for functions. This question is not easy to answer because of the <code>⊑-dist</code> rule, which relates a function on the left to a pair of functions on the right. So <code>u</code> may include several functions that, as a group, relate to <code>v ↦ w</code>. Furthermore, because of the rules <code>⊑-conj-R1</code> and <code>⊑-conj-R2</code>, there may be other values inside <code>u</code>, such as <code>⊥</code>, that have nothing to do with <code>v ↦ w</code>. But in general, we can deduce that <code>u</code> includes a collection of functions where the join of their domains is less than <code>v</code> and the join of their codomains is greater than <code>w</code>.</p><p>To precisely state and prove this inversion property, we need to define what it means for a value to <em>include</em> a collection of values. We also need to define how to compute the join of their domains and codomains.</p><h3 id="value-membership-and-inclusion">Value membership and inclusion</h3><p>Recall that we think of a value as a set of entries with the join operator <code>v ⊔ w</code> acting like set union. The function value <code>v ↦ w</code> and bottom value <code>⊥</code> constitute the two kinds of elements of the set. (In other contexts one can instead think of <code>⊥</code> as the empty set, but here we must think of it as an element.) We write <code>u ∈ v</code> to say that <code>u</code> is an element of <code>v</code>, as defined below.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-29404" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-29410" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-29412" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">_∈_</a>

<a id="plfa_plfa-part3-Denotational-_∈_"></a><a id="plfa_plfa-part3-Denotational-29417" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">_∈_</a> <a id="plfa_plfa-part3-Denotational-29421" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29423" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-29429" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29431" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-29437" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29439" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-29443" href="../Denotational/#plfa_plfa-part3-Denotational-29443" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29445" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-29447" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-29449" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29451" href="../Denotational/#plfa_plfa-part3-Denotational-29443" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29453" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-29455" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-29457" href="../Denotational/#plfa_plfa-part3-Denotational-29457" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29459" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-29461" href="../Denotational/#plfa_plfa-part3-Denotational-29461" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-29463" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-29465" href="../Denotational/#plfa_plfa-part3-Denotational-29465" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-29467" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29469" href="../Denotational/#plfa_plfa-part3-Denotational-29457" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29471" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-29473" href="../Denotational/#plfa_plfa-part3-Denotational-29461" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-29475" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-29477" href="../Denotational/#plfa_plfa-part3-Denotational-29465" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-29479" href="../Denotational/#plfa_plfa-part3-Denotational-29479" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29481" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-29483" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29484" href="../Denotational/#plfa_plfa-part3-Denotational-29484" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-29486" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-29488" href="../Denotational/#plfa_plfa-part3-Denotational-29488" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-29489" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29491" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29493" href="../Denotational/#plfa_plfa-part3-Denotational-29479" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29495" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-29497" href="../Denotational/#plfa_plfa-part3-Denotational-29484" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-29499" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-29501" href="../Denotational/#plfa_plfa-part3-Denotational-29479" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29503" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-29505" href="../Denotational/#plfa_plfa-part3-Denotational-29488" class="Bound">w</a>
</pre><p>So we can represent a collection of values simply as a value. We write <code>v ⊆ w</code> to say that all the elements of <code>v</code> are also in <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-29654" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-29660" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-29662" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">_⊆_</a>

<a id="plfa_plfa-part3-Denotational-_⊆_"></a><a id="plfa_plfa-part3-Denotational-29667" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">_⊆_</a> <a id="plfa_plfa-part3-Denotational-29671" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29673" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-29679" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29681" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-29687" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29689" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-29693" href="../Denotational/#plfa_plfa-part3-Denotational-29693" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-29695" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-29697" href="../Denotational/#plfa_plfa-part3-Denotational-29697" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-29699" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29701" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-29703" href="../Denotational/#plfa_plfa-part3-Denotational-29703" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-29704" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-29706" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29708" href="../Denotational/#plfa_plfa-part3-Denotational-29703" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29710" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-29712" href="../Denotational/#plfa_plfa-part3-Denotational-29693" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-29714" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29716" href="../Denotational/#plfa_plfa-part3-Denotational-29703" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29718" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-29720" href="../Denotational/#plfa_plfa-part3-Denotational-29697" class="Bound">w</a>
</pre><p>The notions of membership and inclusion for values are closely related to the less-than relation. They are narrower relations in that they imply the less-than relation but not the other way around.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-∈→⊑"></a><a id="plfa_plfa-part3-Denotational-29934" href="../Denotational/#plfa_plfa-part3-Denotational-29934" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-29938" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29940" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-29942" href="../Denotational/#plfa_plfa-part3-Denotational-29942" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29944" href="../Denotational/#plfa_plfa-part3-Denotational-29944" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-29946" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29948" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-29953" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-29959" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29961" href="../Denotational/#plfa_plfa-part3-Denotational-29942" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29963" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-29965" href="../Denotational/#plfa_plfa-part3-Denotational-29944" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-29973" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-29983" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29985" href="../Denotational/#plfa_plfa-part3-Denotational-29942" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-29987" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-29989" href="../Denotational/#plfa_plfa-part3-Denotational-29944" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-29991" href="../Denotational/#plfa_plfa-part3-Denotational-29934" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-29995" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29996" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-29997" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="DottedPattern InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-29998" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30000" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30001" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-30002" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30004" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-30009" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30011" href="../Denotational/#plfa_plfa-part3-Denotational-4303" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-30017" href="../Denotational/#plfa_plfa-part3-Denotational-29934" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30021" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30022" href="../Denotational/#plfa_plfa-part3-Denotational-30022" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30024" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30026" href="../Denotational/#plfa_plfa-part3-Denotational-30026" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-30027" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30029" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30030" href="../Denotational/#plfa_plfa-part3-Denotational-30022" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30032" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30034" href="../Denotational/#plfa_plfa-part3-Denotational-30026" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-30035" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30037" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-30042" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30044" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-30051" href="../Denotational/#plfa_plfa-part3-Denotational-29934" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30055" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30056" href="../Denotational/#plfa_plfa-part3-Denotational-30056" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-30057" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30059" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30060" href="../Denotational/#plfa_plfa-part3-Denotational-30060" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30062" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-30064" href="../Denotational/#plfa_plfa-part3-Denotational-30064" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-30065" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30067" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30068" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-30073" href="../Denotational/#plfa_plfa-part3-Denotational-30073" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30074" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30076" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30078" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-30088" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30089" href="../Denotational/#plfa_plfa-part3-Denotational-29934" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30093" href="../Denotational/#plfa_plfa-part3-Denotational-30073" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30094" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30096" href="../Denotational/#plfa_plfa-part3-Denotational-29934" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30100" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30101" href="../Denotational/#plfa_plfa-part3-Denotational-30101" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-30102" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30104" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30105" href="../Denotational/#plfa_plfa-part3-Denotational-30105" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30107" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-30109" href="../Denotational/#plfa_plfa-part3-Denotational-30109" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-30110" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30112" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30113" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-30118" href="../Denotational/#plfa_plfa-part3-Denotational-30118" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-30119" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30121" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30123" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-30133" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30134" href="../Denotational/#plfa_plfa-part3-Denotational-29934" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30138" href="../Denotational/#plfa_plfa-part3-Denotational-30118" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-30139" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-⊆→⊑"></a><a id="plfa_plfa-part3-Denotational-30142" href="../Denotational/#plfa_plfa-part3-Denotational-30142" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30146" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30148" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-30150" href="../Denotational/#plfa_plfa-part3-Denotational-30150" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30152" href="../Denotational/#plfa_plfa-part3-Denotational-30152" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30154" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30156" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-30161" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-30167" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30169" href="../Denotational/#plfa_plfa-part3-Denotational-30150" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30171" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-30173" href="../Denotational/#plfa_plfa-part3-Denotational-30152" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-30181" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-30191" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30193" href="../Denotational/#plfa_plfa-part3-Denotational-30150" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30195" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-30197" href="../Denotational/#plfa_plfa-part3-Denotational-30152" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-30199" href="../Denotational/#plfa_plfa-part3-Denotational-30142" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30203" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30204" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-30205" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30207" href="../Denotational/#plfa_plfa-part3-Denotational-30207" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30209" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-30214" href="../Denotational/#plfa_plfa-part3-Denotational-30207" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30216" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30217" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-30218" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30220" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-30225" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-30229" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-30231" href="../Denotational/#plfa_plfa-part3-Denotational-30231" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-30233" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30235" href="../Denotational/#plfa_plfa-part3-Denotational-4303" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-30241" href="../Denotational/#plfa_plfa-part3-Denotational-30142" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30245" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30246" href="../Denotational/#plfa_plfa-part3-Denotational-30246" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30248" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30250" href="../Denotational/#plfa_plfa-part3-Denotational-30250" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-30252" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30254" href="../Denotational/#plfa_plfa-part3-Denotational-30254" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30256" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-30261" href="../Denotational/#plfa_plfa-part3-Denotational-30254" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30263" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30264" href="../Denotational/#plfa_plfa-part3-Denotational-30246" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30266" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30268" href="../Denotational/#plfa_plfa-part3-Denotational-30250" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-30270" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30272" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-30277" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-30281" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-30283" href="../Denotational/#plfa_plfa-part3-Denotational-30283" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-30285" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30287" href="../Denotational/#plfa_plfa-part3-Denotational-29934" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-30291" href="../Denotational/#plfa_plfa-part3-Denotational-30283" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-30293" href="../Denotational/#plfa_plfa-part3-Denotational-30142" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30297" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30298" href="../Denotational/#plfa_plfa-part3-Denotational-30298" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30300" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-30302" href="../Denotational/#plfa_plfa-part3-Denotational-30302" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-30304" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30306" href="../Denotational/#plfa_plfa-part3-Denotational-30306" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30308" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30310" href="../Denotational/#plfa_plfa-part3-Denotational-4328" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-30319" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30320" href="../Denotational/#plfa_plfa-part3-Denotational-30142" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30324" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-30327" href="../Denotational/#plfa_plfa-part3-Denotational-30327" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-30329" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30331" href="../Denotational/#plfa_plfa-part3-Denotational-30306" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30333" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30334" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-30339" href="../Denotational/#plfa_plfa-part3-Denotational-30327" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-30340" class="Symbol">)))</a> <a id="plfa_plfa-part3-Denotational-30344" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30345" href="../Denotational/#plfa_plfa-part3-Denotational-30142" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-30349" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-30352" href="../Denotational/#plfa_plfa-part3-Denotational-30352" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-30354" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30356" href="../Denotational/#plfa_plfa-part3-Denotational-30306" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-30358" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30359" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-30364" href="../Denotational/#plfa_plfa-part3-Denotational-30352" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-30365" class="Symbol">)))</a>
</pre><p>We shall also need some inversion principles for value inclusion. If the union of <code>u</code> and <code>v</code> is included in <code>w</code>, then of course both <code>u</code> and <code>v</code> are each included in <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊆-inv"></a><a id="plfa_plfa-part3-Denotational-30556" href="../Denotational/#plfa_plfa-part3-Denotational-30556" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-30563" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30565" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-30567" href="../Denotational/#plfa_plfa-part3-Denotational-30567" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30569" href="../Denotational/#plfa_plfa-part3-Denotational-30569" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30571" href="../Denotational/#plfa_plfa-part3-Denotational-30571" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-30573" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30575" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-30580" class="Symbol">}</a>
       <a id="plfa_plfa-part3-Denotational-30589" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30591" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30592" href="../Denotational/#plfa_plfa-part3-Denotational-30567" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30594" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-30596" href="../Denotational/#plfa_plfa-part3-Denotational-30569" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-30597" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30599" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-30601" href="../Denotational/#plfa_plfa-part3-Denotational-30571" class="Bound">w</a>
         <a id="plfa_plfa-part3-Denotational-30612" class="Comment">---------------</a>
       <a id="plfa_plfa-part3-Denotational-30635" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30637" href="../Denotational/#plfa_plfa-part3-Denotational-30567" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30639" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-30641" href="../Denotational/#plfa_plfa-part3-Denotational-30571" class="Bound">w</a>  <a id="plfa_plfa-part3-Denotational-30644" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-30647" href="../Denotational/#plfa_plfa-part3-Denotational-30569" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30649" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-30651" href="../Denotational/#plfa_plfa-part3-Denotational-30571" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-30653" href="../Denotational/#plfa_plfa-part3-Denotational-30556" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-30660" href="../Denotational/#plfa_plfa-part3-Denotational-30660" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-30664" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30666" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-30668" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-30671" href="../Denotational/#plfa_plfa-part3-Denotational-30671" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-30673" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30675" href="../Denotational/#plfa_plfa-part3-Denotational-30660" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-30679" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30680" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-30685" href="../Denotational/#plfa_plfa-part3-Denotational-30671" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30686" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-30689" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-30691" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-30694" href="../Denotational/#plfa_plfa-part3-Denotational-30694" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-30696" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30698" href="../Denotational/#plfa_plfa-part3-Denotational-30660" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-30702" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30703" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-30708" href="../Denotational/#plfa_plfa-part3-Denotational-30694" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30709" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-30712" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
</pre><p>In our value representation, the function value <code>v ↦ w</code> is both an element and also a singleton set. So if <code>v ↦ w</code> is a subset of <code>u</code>, then <code>v ↦ w</code> must be a member of <code>u</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊆→∈"></a><a id="plfa_plfa-part3-Denotational-30901" href="../Denotational/#plfa_plfa-part3-Denotational-30901" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-30906" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30908" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-30910" href="../Denotational/#plfa_plfa-part3-Denotational-30910" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30912" href="../Denotational/#plfa_plfa-part3-Denotational-30912" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-30914" href="../Denotational/#plfa_plfa-part3-Denotational-30914" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-30916" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30918" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-30923" class="Symbol">}</a>
     <a id="plfa_plfa-part3-Denotational-30930" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30932" href="../Denotational/#plfa_plfa-part3-Denotational-30910" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30934" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30936" href="../Denotational/#plfa_plfa-part3-Denotational-30912" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-30938" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-30940" href="../Denotational/#plfa_plfa-part3-Denotational-30914" class="Bound">u</a>
       <a id="plfa_plfa-part3-Denotational-30949" class="Comment">---------</a>
     <a id="plfa_plfa-part3-Denotational-30964" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30966" href="../Denotational/#plfa_plfa-part3-Denotational-30910" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-30968" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-30970" href="../Denotational/#plfa_plfa-part3-Denotational-30912" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-30972" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-30974" href="../Denotational/#plfa_plfa-part3-Denotational-30914" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-30976" href="../Denotational/#plfa_plfa-part3-Denotational-30901" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-30981" href="../Denotational/#plfa_plfa-part3-Denotational-30981" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-30986" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30988" href="../Denotational/#plfa_plfa-part3-Denotational-30981" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-30993" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><h3 id="function-values">Function values</h3><p>To identify collections of functions, we define the following two predicates. We write <code>Fun u</code> if <code>u</code> is a function value, that is, if <code>u ≡ v ↦ w</code> for some values <code>v</code> and <code>w</code>. We write <code>all-funs v</code> if all the elements of <code>v</code> are functions.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-31274" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Fun"></a><a id="plfa_plfa-part3-Denotational-31279" href="../Denotational/#plfa_plfa-part3-Denotational-31279" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-31283" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31285" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-31291" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31293" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-31297" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Fun.fun"></a><a id="plfa_plfa-part3-Denotational-31305" href="../Denotational/#plfa_plfa-part3-Denotational-31305" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-31309" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31311" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-31313" href="../Denotational/#plfa_plfa-part3-Denotational-31313" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-31315" href="../Denotational/#plfa_plfa-part3-Denotational-31315" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31317" href="../Denotational/#plfa_plfa-part3-Denotational-31317" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-31318" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-31320" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31322" href="../Denotational/#plfa_plfa-part3-Denotational-31313" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-31324" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-31326" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-31327" href="../Denotational/#plfa_plfa-part3-Denotational-31315" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31329" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-31331" href="../Denotational/#plfa_plfa-part3-Denotational-31317" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-31332" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-31334" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31336" href="../Denotational/#plfa_plfa-part3-Denotational-31279" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-31340" href="../Denotational/#plfa_plfa-part3-Denotational-31313" class="Bound">u</a>

<a id="plfa_plfa-part3-Denotational-all-funs"></a><a id="plfa_plfa-part3-Denotational-31343" href="../Denotational/#plfa_plfa-part3-Denotational-31343" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-31352" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31354" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-31360" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31362" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-31366" href="../Denotational/#plfa_plfa-part3-Denotational-31343" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-31375" href="../Denotational/#plfa_plfa-part3-Denotational-31375" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31377" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-31379" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-31381" href="../Denotational/#plfa_plfa-part3-Denotational-31381" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-31382" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-31384" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31386" href="../Denotational/#plfa_plfa-part3-Denotational-31381" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-31388" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-31390" href="../Denotational/#plfa_plfa-part3-Denotational-31375" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31392" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31394" href="../Denotational/#plfa_plfa-part3-Denotational-31279" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-31398" href="../Denotational/#plfa_plfa-part3-Denotational-31381" class="Bound">u</a>
</pre><p>The value <code>⊥</code> is not a function.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-¬Fun⊥"></a><a id="plfa_plfa-part3-Denotational-31447" href="../Denotational/#plfa_plfa-part3-Denotational-31447" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-31453" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31455" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="plfa_plfa-part3-Denotational-31457" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-31458" href="../Denotational/#plfa_plfa-part3-Denotational-31279" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-31462" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-31463" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-31465" href="../Denotational/#plfa_plfa-part3-Denotational-31447" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-31471" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-31472" href="../Denotational/#plfa_plfa-part3-Denotational-31305" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-31476" class="Symbol">())</a>
</pre><p>In our values-as-sets representation, our sets always include at least one element. Thus, if all the elements are functions, there is at least one that is a function.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-all-funs∈"></a><a id="plfa_plfa-part3-Denotational-31661" href="../Denotational/#plfa_plfa-part3-Denotational-31661" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-31671" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-31673" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-31675" href="../Denotational/#plfa_plfa-part3-Denotational-31675" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-31676" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-31684" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31686" href="../Denotational/#plfa_plfa-part3-Denotational-31343" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-31695" href="../Denotational/#plfa_plfa-part3-Denotational-31675" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-31703" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31705" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-31708" href="../Denotational/#plfa_plfa-part3-Denotational-31708" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31710" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-31712" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-31718" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-31720" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-31723" href="../Denotational/#plfa_plfa-part3-Denotational-31723" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-31725" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-31727" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-31733" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-31735" href="../Denotational/#plfa_plfa-part3-Denotational-31708" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31737" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-31739" href="../Denotational/#plfa_plfa-part3-Denotational-31723" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-31741" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-31743" href="../Denotational/#plfa_plfa-part3-Denotational-31675" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-31745" href="../Denotational/#plfa_plfa-part3-Denotational-31661" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-31755" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-31756" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-31757" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-31759" href="../Denotational/#plfa_plfa-part3-Denotational-31759" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-31761" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-31766" href="../Denotational/#plfa_plfa-part3-Denotational-31759" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-31768" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-31769" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-31770" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-31772" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-31777" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-31781" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-31783" href="../Denotational/#plfa_plfa-part3-Denotational-31305" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-31787" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-31790" href="../Denotational/#plfa_plfa-part3-Denotational-31661" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-31800" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-31801" href="../Denotational/#plfa_plfa-part3-Denotational-31801" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31803" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-31805" href="../Denotational/#plfa_plfa-part3-Denotational-31805" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-31806" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-31808" href="../Denotational/#plfa_plfa-part3-Denotational-31808" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-31810" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-31812" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-31814" href="../Denotational/#plfa_plfa-part3-Denotational-31801" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31816" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-31818" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-31820" href="../Denotational/#plfa_plfa-part3-Denotational-31805" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-31822" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-31824" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-31829" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-31831" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-31833" href="../Denotational/#plfa_plfa-part3-Denotational-31661" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-31843" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-31844" href="../Denotational/#plfa_plfa-part3-Denotational-31844" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-31846" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-31848" href="../Denotational/#plfa_plfa-part3-Denotational-31848" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-31850" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-31852" href="../Denotational/#plfa_plfa-part3-Denotational-31852" class="Bound">f</a>
    <a id="plfa_plfa-part3-Denotational-31858" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-31863" href="../Denotational/#plfa_plfa-part3-Denotational-31661" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-31873" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-31876" href="../Denotational/#plfa_plfa-part3-Denotational-31876" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-31878" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-31880" href="../Denotational/#plfa_plfa-part3-Denotational-31852" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-31882" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-31883" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-31888" href="../Denotational/#plfa_plfa-part3-Denotational-31876" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-31889" class="Symbol">))</a>
<a id="plfa_plfa-part3-Denotational-31892" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-31896" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-31898" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-31900" href="../Denotational/#plfa_plfa-part3-Denotational-31900" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31902" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-31904" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-31906" href="../Denotational/#plfa_plfa-part3-Denotational-31906" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-31908" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-31910" href="../Denotational/#plfa_plfa-part3-Denotational-31910" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-31912" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-31914" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-31916" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-31918" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-31920" href="../Denotational/#plfa_plfa-part3-Denotational-31900" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-31922" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-31924" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-31926" href="../Denotational/#plfa_plfa-part3-Denotational-31906" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-31928" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-31930" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-31931" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-31936" href="../Denotational/#plfa_plfa-part3-Denotational-31910" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-31937" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-31939" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-31941" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
</pre><h3 id="domains-and-codomains">Domains and codomains</h3><p>Returning to our goal, the inversion principle for less-than a function, we want to show that <code>v ↦ w ⊑ u</code> implies that <code>u</code> includes a set of function values such that the join of their domains is less than <code>v</code> and the join of their codomains is greater than <code>w</code>.</p><p>To this end we define the following <code>⨆dom</code> and <code>⨆cod</code> functions. Given some value <code>u</code> (that represents a set of entries), <code>⨆dom u</code> returns the join of their domains and <code>⨆cod u</code> returns the join of their codomains.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⨆dom"></a><a id="plfa_plfa-part3-Denotational-32465" href="../Denotational/#plfa_plfa-part3-Denotational-32465" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-32470" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32472" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32473" href="../Denotational/#plfa_plfa-part3-Denotational-32473" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-32475" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32477" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-32482" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32484" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32486" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-32492" href="../Denotational/#plfa_plfa-part3-Denotational-32465" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-32497" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-32500" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32502" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-32504" href="../Denotational/#plfa_plfa-part3-Denotational-32465" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-32509" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32510" href="../Denotational/#plfa_plfa-part3-Denotational-32510" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32512" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-32514" href="../Denotational/#plfa_plfa-part3-Denotational-32514" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-32515" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32517" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32519" href="../Denotational/#plfa_plfa-part3-Denotational-32510" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-32521" href="../Denotational/#plfa_plfa-part3-Denotational-32465" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-32526" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32527" href="../Denotational/#plfa_plfa-part3-Denotational-32527" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-32529" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-32531" href="../Denotational/#plfa_plfa-part3-Denotational-32531" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-32533" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32535" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32537" href="../Denotational/#plfa_plfa-part3-Denotational-32465" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-32542" href="../Denotational/#plfa_plfa-part3-Denotational-32527" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-32544" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-32546" href="../Denotational/#plfa_plfa-part3-Denotational-32465" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-32551" href="../Denotational/#plfa_plfa-part3-Denotational-32531" class="Bound">u′</a>

<a id="plfa_plfa-part3-Denotational-⨆cod"></a><a id="plfa_plfa-part3-Denotational-32555" href="../Denotational/#plfa_plfa-part3-Denotational-32555" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-32560" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32562" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32563" href="../Denotational/#plfa_plfa-part3-Denotational-32563" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-32565" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32567" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-32572" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32574" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32576" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-32582" href="../Denotational/#plfa_plfa-part3-Denotational-32555" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-32587" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-32590" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32592" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-32594" href="../Denotational/#plfa_plfa-part3-Denotational-32555" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-32599" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32600" href="../Denotational/#plfa_plfa-part3-Denotational-32600" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32602" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-32604" href="../Denotational/#plfa_plfa-part3-Denotational-32604" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-32605" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32607" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32609" href="../Denotational/#plfa_plfa-part3-Denotational-32604" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-32611" href="../Denotational/#plfa_plfa-part3-Denotational-32555" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-32616" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32617" href="../Denotational/#plfa_plfa-part3-Denotational-32617" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-32619" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-32621" href="../Denotational/#plfa_plfa-part3-Denotational-32621" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-32623" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32625" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32627" href="../Denotational/#plfa_plfa-part3-Denotational-32555" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-32632" href="../Denotational/#plfa_plfa-part3-Denotational-32617" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-32634" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-32636" href="../Denotational/#plfa_plfa-part3-Denotational-32555" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-32641" href="../Denotational/#plfa_plfa-part3-Denotational-32621" class="Bound">u′</a>
</pre><p>We need just one property each for <code>⨆dom</code> and <code>⨆cod</code>. Given a collection of functions represented by value <code>u</code>, and an entry <code>v ↦ w ∈ u</code>, we know that <code>v</code> is included in the domain of <code>u</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦∈→⊆⨆dom"></a><a id="plfa_plfa-part3-Denotational-32848" href="../Denotational/#plfa_plfa-part3-Denotational-32848" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-32857" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32859" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-32861" href="../Denotational/#plfa_plfa-part3-Denotational-32861" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-32863" href="../Denotational/#plfa_plfa-part3-Denotational-32863" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32865" href="../Denotational/#plfa_plfa-part3-Denotational-32865" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-32867" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32869" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-32874" class="Symbol">}</a>
          <a id="plfa_plfa-part3-Denotational-32886" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32888" href="../Denotational/#plfa_plfa-part3-Denotational-31343" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-32897" href="../Denotational/#plfa_plfa-part3-Denotational-32861" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-32900" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-32903" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32904" href="../Denotational/#plfa_plfa-part3-Denotational-32863" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32906" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-32908" href="../Denotational/#plfa_plfa-part3-Denotational-32865" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-32909" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32911" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-32913" href="../Denotational/#plfa_plfa-part3-Denotational-32861" class="Bound">u</a>
            <a id="plfa_plfa-part3-Denotational-32927" class="Comment">----------------------</a>
          <a id="plfa_plfa-part3-Denotational-32960" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32962" href="../Denotational/#plfa_plfa-part3-Denotational-32863" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32964" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-32966" href="../Denotational/#plfa_plfa-part3-Denotational-32465" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-32971" href="../Denotational/#plfa_plfa-part3-Denotational-32861" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-32973" href="../Denotational/#plfa_plfa-part3-Denotational-32848" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-32982" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32983" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-32984" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32986" href="../Denotational/#plfa_plfa-part3-Denotational-32986" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-32989" class="Symbol">()</a> <a id="plfa_plfa-part3-Denotational-32992" href="../Denotational/#plfa_plfa-part3-Denotational-32992" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-32996" href="../Denotational/#plfa_plfa-part3-Denotational-32848" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33005" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33006" href="../Denotational/#plfa_plfa-part3-Denotational-33006" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-33008" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33010" href="../Denotational/#plfa_plfa-part3-Denotational-33010" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-33011" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33013" href="../Denotational/#plfa_plfa-part3-Denotational-33013" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-33016" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-33021" href="../Denotational/#plfa_plfa-part3-Denotational-33021" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-33025" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33027" href="../Denotational/#plfa_plfa-part3-Denotational-33021" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-33031" href="../Denotational/#plfa_plfa-part3-Denotational-32848" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33040" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33041" href="../Denotational/#plfa_plfa-part3-Denotational-33041" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33043" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-33045" href="../Denotational/#plfa_plfa-part3-Denotational-33045" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-33047" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33049" href="../Denotational/#plfa_plfa-part3-Denotational-33049" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-33052" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33053" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-33058" href="../Denotational/#plfa_plfa-part3-Denotational-33058" class="Bound">v↦w∈u</a><a id="plfa_plfa-part3-Denotational-33063" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33065" href="../Denotational/#plfa_plfa-part3-Denotational-33065" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-33069" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-33074" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-33078" href="../Denotational/#plfa_plfa-part3-Denotational-33078" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-33081" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33083" href="../Denotational/#plfa_plfa-part3-Denotational-32848" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33092" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-33095" href="../Denotational/#plfa_plfa-part3-Denotational-33095" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-33097" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33099" href="../Denotational/#plfa_plfa-part3-Denotational-33049" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-33102" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33103" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-33108" href="../Denotational/#plfa_plfa-part3-Denotational-33095" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-33109" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-33112" href="../Denotational/#plfa_plfa-part3-Denotational-33058" class="Bound">v↦w∈u</a> <a id="plfa_plfa-part3-Denotational-33118" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-33124" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-33129" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33130" href="../Denotational/#plfa_plfa-part3-Denotational-33078" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-33133" href="../Denotational/#plfa_plfa-part3-Denotational-33065" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-33136" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-33138" href="../Denotational/#plfa_plfa-part3-Denotational-32848" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33147" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33148" href="../Denotational/#plfa_plfa-part3-Denotational-33148" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33150" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-33152" href="../Denotational/#plfa_plfa-part3-Denotational-33152" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-33154" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33156" href="../Denotational/#plfa_plfa-part3-Denotational-33156" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-33159" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33160" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-33165" href="../Denotational/#plfa_plfa-part3-Denotational-33165" class="Bound">v↦w∈u′</a><a id="plfa_plfa-part3-Denotational-33171" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33173" href="../Denotational/#plfa_plfa-part3-Denotational-33173" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-33177" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-33182" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-33186" href="../Denotational/#plfa_plfa-part3-Denotational-33186" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-33189" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33191" href="../Denotational/#plfa_plfa-part3-Denotational-32848" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-33200" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-33203" href="../Denotational/#plfa_plfa-part3-Denotational-33203" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-33205" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33207" href="../Denotational/#plfa_plfa-part3-Denotational-33156" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-33210" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33211" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-33216" href="../Denotational/#plfa_plfa-part3-Denotational-33203" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-33217" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-33220" href="../Denotational/#plfa_plfa-part3-Denotational-33165" class="Bound">v↦w∈u′</a> <a id="plfa_plfa-part3-Denotational-33227" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-33233" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-33238" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33239" href="../Denotational/#plfa_plfa-part3-Denotational-33186" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-33242" href="../Denotational/#plfa_plfa-part3-Denotational-33173" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-33245" class="Symbol">)</a>
</pre><p>Regarding <code>⨆cod</code>, suppose we have a collection of functions represented by <code>u</code>, but all of them are just copies of <code>v ↦ w</code>. Then the <code>⨆cod u</code> is included in <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊆↦→⨆cod⊆"></a><a id="plfa_plfa-part3-Denotational-33424" href="../Denotational/#plfa_plfa-part3-Denotational-33424" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-33433" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33435" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-33437" href="../Denotational/#plfa_plfa-part3-Denotational-33437" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33439" href="../Denotational/#plfa_plfa-part3-Denotational-33439" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-33441" href="../Denotational/#plfa_plfa-part3-Denotational-33441" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-33443" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33445" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-33450" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-33460" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33462" href="../Denotational/#plfa_plfa-part3-Denotational-33437" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33464" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-33466" href="../Denotational/#plfa_plfa-part3-Denotational-33439" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-33468" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33470" href="../Denotational/#plfa_plfa-part3-Denotational-33441" class="Bound">w</a>
          <a id="plfa_plfa-part3-Denotational-33482" class="Comment">---------</a>
        <a id="plfa_plfa-part3-Denotational-33500" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33502" href="../Denotational/#plfa_plfa-part3-Denotational-32555" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-33507" href="../Denotational/#plfa_plfa-part3-Denotational-33437" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33509" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-33511" href="../Denotational/#plfa_plfa-part3-Denotational-33441" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-33513" href="../Denotational/#plfa_plfa-part3-Denotational-33424" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-33522" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33523" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-33524" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33526" href="../Denotational/#plfa_plfa-part3-Denotational-33526" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-33528" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-33533" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-33538" href="../Denotational/#plfa_plfa-part3-Denotational-33526" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-33540" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33541" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-33542" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33544" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-33549" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-33553" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-33555" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-33558" href="../Denotational/#plfa_plfa-part3-Denotational-33424" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-33567" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33568" href="../Denotational/#plfa_plfa-part3-Denotational-33568" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-33570" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33572" href="../Denotational/#plfa_plfa-part3-Denotational-33572" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-33574" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33576" href="../Denotational/#plfa_plfa-part3-Denotational-33576" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-33578" href="../Denotational/#plfa_plfa-part3-Denotational-33578" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-33580" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-33585" href="../Denotational/#plfa_plfa-part3-Denotational-33576" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-33587" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33588" href="../Denotational/#plfa_plfa-part3-Denotational-33568" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-33590" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33592" href="../Denotational/#plfa_plfa-part3-Denotational-33572" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-33594" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33596" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-33601" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-33605" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-33607" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-33612" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33614" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-33616" href="../Denotational/#plfa_plfa-part3-Denotational-33424" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-33625" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33626" href="../Denotational/#plfa_plfa-part3-Denotational-33626" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33628" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-33630" href="../Denotational/#plfa_plfa-part3-Denotational-33630" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-33632" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33634" href="../Denotational/#plfa_plfa-part3-Denotational-33634" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-33636" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33637" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-33642" href="../Denotational/#plfa_plfa-part3-Denotational-33642" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-33643" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33645" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33647" href="../Denotational/#plfa_plfa-part3-Denotational-33424" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-33656" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-33659" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33660" href="../Denotational/#plfa_plfa-part3-Denotational-33660" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-33661" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33663" href="../Denotational/#plfa_plfa-part3-Denotational-33663" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-33665" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33667" href="../Denotational/#plfa_plfa-part3-Denotational-33634" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-33669" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33670" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-33675" href="../Denotational/#plfa_plfa-part3-Denotational-33663" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-33676" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-33679" href="../Denotational/#plfa_plfa-part3-Denotational-33642" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-33681" href="../Denotational/#plfa_plfa-part3-Denotational-33424" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-33690" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33691" href="../Denotational/#plfa_plfa-part3-Denotational-33691" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-33693" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-33695" href="../Denotational/#plfa_plfa-part3-Denotational-33695" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-33697" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33699" href="../Denotational/#plfa_plfa-part3-Denotational-33699" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-33701" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33702" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-33707" href="../Denotational/#plfa_plfa-part3-Denotational-33707" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-33708" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33710" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33712" href="../Denotational/#plfa_plfa-part3-Denotational-33424" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-33721" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-33724" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33725" href="../Denotational/#plfa_plfa-part3-Denotational-33725" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-33726" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33728" href="../Denotational/#plfa_plfa-part3-Denotational-33728" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-33730" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33732" href="../Denotational/#plfa_plfa-part3-Denotational-33699" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-33734" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33735" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-33740" href="../Denotational/#plfa_plfa-part3-Denotational-33728" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-33741" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-33744" href="../Denotational/#plfa_plfa-part3-Denotational-33707" class="Bound">y</a>
</pre><p>With the <code>⨆dom</code> and <code>⨆cod</code> functions in hand, we can make precise the conclusion of the inversion principle for functions, which we package into the following predicate named <code>factor</code>. We say that <code>v ↦ w</code> <em>factors</em> <code>u</code> into <code>u′</code> if <code>u′</code> is included in <code>u</code>, if <code>u′</code> contains only functions, its domain is less than <code>v</code>, and its codomain is greater than <code>w</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-factor"></a><a id="plfa_plfa-part3-Denotational-34117" href="../Denotational/#plfa_plfa-part3-Denotational-34117" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-34124" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34126" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34127" href="../Denotational/#plfa_plfa-part3-Denotational-34127" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-34129" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34131" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-34136" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34138" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34140" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34141" href="../Denotational/#plfa_plfa-part3-Denotational-34141" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-34144" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34146" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-34151" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34153" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34155" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34156" href="../Denotational/#plfa_plfa-part3-Denotational-34156" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-34158" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34160" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-34165" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34167" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34169" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34170" href="../Denotational/#plfa_plfa-part3-Denotational-34170" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-34172" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34174" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-34179" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34181" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34183" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-34187" href="../Denotational/#plfa_plfa-part3-Denotational-34117" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-34194" href="../Denotational/#plfa_plfa-part3-Denotational-34194" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-34196" href="../Denotational/#plfa_plfa-part3-Denotational-34196" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-34199" href="../Denotational/#plfa_plfa-part3-Denotational-34199" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-34201" href="../Denotational/#plfa_plfa-part3-Denotational-34201" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-34203" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34205" href="../Denotational/#plfa_plfa-part3-Denotational-31343" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-34214" href="../Denotational/#plfa_plfa-part3-Denotational-34196" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-34218" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-34221" href="../Denotational/#plfa_plfa-part3-Denotational-34196" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-34224" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-34226" href="../Denotational/#plfa_plfa-part3-Denotational-34194" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-34229" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-34232" href="../Denotational/#plfa_plfa-part3-Denotational-32465" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-34237" href="../Denotational/#plfa_plfa-part3-Denotational-34196" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-34240" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-34242" href="../Denotational/#plfa_plfa-part3-Denotational-34199" class="Bound">v</a>  <a id="plfa_plfa-part3-Denotational-34245" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-34248" href="../Denotational/#plfa_plfa-part3-Denotational-34201" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-34250" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-34252" href="../Denotational/#plfa_plfa-part3-Denotational-32555" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-34257" href="../Denotational/#plfa_plfa-part3-Denotational-34196" class="Bound">u′</a>
</pre><p>So the inversion principle for functions can be stated as</p><pre><code>  v ↦ w ⊑ u
  ---------------
→ factor u u′ v w</code></pre><p>We prove the inversion principle for functions by induction on the derivation of the less-than relation. To make the induction hypothesis stronger, we broaden the premise <code>v ↦ w ⊑ u</code> to <code>u₁ ⊑ u₂</code>, and strengthen the conclusion to say that for <em>every</em> function value <code>v ↦ w ∈ u₁</code>, we have that <code>v ↦ w</code> factors <code>u₂</code> into some value <code>u₃</code>.</p><pre><code>→ u₁ ⊑ u₂
  ------------------------------------------------------
→ ∀{v w} → v ↦ w ∈ u₁ → Σ[ u₃ ∈ Value ] factor u₂ u₃ v w</code></pre><h3 id="inversion-of-less-than-for-functions-the-case-for--trans">Inversion of less-than for functions, the case for ⊑-trans</h3><p>The crux of the proof is the case for <code>⊑-trans</code>.</p><pre><code>u₁ ⊑ u   u ⊑ u₂
--------------- (⊑-trans)
    u₁ ⊑ u₂</code></pre><p>By the induction hypothesis for <code>u₁ ⊑ u</code>, we know that <code>v ↦ w factors u into u′</code>, for some value <code>u′</code>, so we have <code>all-funs u′</code> and <code>u′ ⊆ u</code>. By the induction hypothesis for <code>u ⊑ u₂</code>, we know that for any <code>v′ ↦ w′ ∈ u</code>, <code>v′ ↦ w′</code> factors <code>u₂</code> into <code>u₃</code>. With these facts in hand, we proceed by induction on <code>u′</code> to prove that <code>(⨆dom u′) ↦ (⨆cod u′)</code> factors <code>u₂</code> into <code>u₃</code>. We discuss each case of the proof in the text below.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-trans"></a><a id="plfa_plfa-part3-Denotational-35477" href="../Denotational/#plfa_plfa-part3-Denotational-35477" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-35491" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35493" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-35495" href="../Denotational/#plfa_plfa-part3-Denotational-35495" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-35498" href="../Denotational/#plfa_plfa-part3-Denotational-35498" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-35501" href="../Denotational/#plfa_plfa-part3-Denotational-35501" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-35503" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35505" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-35510" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-35516" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35518" href="../Denotational/#plfa_plfa-part3-Denotational-31343" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-35527" href="../Denotational/#plfa_plfa-part3-Denotational-35495" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-35531" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-35534" href="../Denotational/#plfa_plfa-part3-Denotational-35495" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-35537" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-35539" href="../Denotational/#plfa_plfa-part3-Denotational-35501" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-35545" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35547" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-35550" href="../Denotational/#plfa_plfa-part3-Denotational-35550" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-35553" href="../Denotational/#plfa_plfa-part3-Denotational-35553" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-35555" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35557" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35559" href="../Denotational/#plfa_plfa-part3-Denotational-35550" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-35562" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-35564" href="../Denotational/#plfa_plfa-part3-Denotational-35553" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-35567" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-35569" href="../Denotational/#plfa_plfa-part3-Denotational-35501" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-35571" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35573" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-35576" href="../Denotational/#plfa_plfa-part3-Denotational-35576" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-35579" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-35581" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-35587" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-35589" href="../Denotational/#plfa_plfa-part3-Denotational-34117" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-35596" href="../Denotational/#plfa_plfa-part3-Denotational-35498" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-35599" href="../Denotational/#plfa_plfa-part3-Denotational-35576" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-35602" href="../Denotational/#plfa_plfa-part3-Denotational-35550" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-35605" href="../Denotational/#plfa_plfa-part3-Denotational-35553" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-35607" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-35615" class="Comment">---------------------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-35683" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35685" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-35688" href="../Denotational/#plfa_plfa-part3-Denotational-35688" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-35691" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-35693" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-35699" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-35701" href="../Denotational/#plfa_plfa-part3-Denotational-34117" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-35708" href="../Denotational/#plfa_plfa-part3-Denotational-35498" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-35711" href="../Denotational/#plfa_plfa-part3-Denotational-35688" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-35714" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35715" href="../Denotational/#plfa_plfa-part3-Denotational-32465" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-35720" href="../Denotational/#plfa_plfa-part3-Denotational-35495" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-35722" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35724" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35725" href="../Denotational/#plfa_plfa-part3-Denotational-32555" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-35730" href="../Denotational/#plfa_plfa-part3-Denotational-35495" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-35732" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-35734" href="../Denotational/#plfa_plfa-part3-Denotational-35477" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-35748" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35749" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-35750" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35752" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35753" href="../Denotational/#plfa_plfa-part3-Denotational-35753" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-35755" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35757" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35758" href="../Denotational/#plfa_plfa-part3-Denotational-35758" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-35759" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35761" href="../Denotational/#plfa_plfa-part3-Denotational-35761" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-35765" href="../Denotational/#plfa_plfa-part3-Denotational-35765" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-35770" href="../Denotational/#plfa_plfa-part3-Denotational-35770" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-35773" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-35778" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a> <a id="plfa_plfa-part3-Denotational-35792" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35793" href="../Denotational/#plfa_plfa-part3-Denotational-35761" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-35797" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-35801" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35803" href="../Denotational/#plfa_plfa-part3-Denotational-31447" class="Function">¬Fun⊥</a>
<a id="plfa_plfa-part3-Denotational-35809" href="../Denotational/#plfa_plfa-part3-Denotational-35477" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-35823" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35824" href="../Denotational/#plfa_plfa-part3-Denotational-35824" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-35828" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-35830" href="../Denotational/#plfa_plfa-part3-Denotational-35830" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-35833" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35835" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35836" href="../Denotational/#plfa_plfa-part3-Denotational-35836" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-35838" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35840" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35841" href="../Denotational/#plfa_plfa-part3-Denotational-35841" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-35842" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35844" href="../Denotational/#plfa_plfa-part3-Denotational-35844" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-35847" href="../Denotational/#plfa_plfa-part3-Denotational-35847" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-35852" href="../Denotational/#plfa_plfa-part3-Denotational-35852" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-35855" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35857" href="../Denotational/#plfa_plfa-part3-Denotational-35852" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-35860" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35861" href="../Denotational/#plfa_plfa-part3-Denotational-30901" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-35866" href="../Denotational/#plfa_plfa-part3-Denotational-35847" class="Bound">u′⊆u</a><a id="plfa_plfa-part3-Denotational-35870" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-35872" href="../Denotational/#plfa_plfa-part3-Denotational-35477" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-35886" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35887" href="../Denotational/#plfa_plfa-part3-Denotational-35887" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-35891" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-35893" href="../Denotational/#plfa_plfa-part3-Denotational-35893" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-35896" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35898" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35899" href="../Denotational/#plfa_plfa-part3-Denotational-35899" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-35901" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35903" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35904" href="../Denotational/#plfa_plfa-part3-Denotational-35904" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-35905" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35907" href="../Denotational/#plfa_plfa-part3-Denotational-35907" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-35910" href="../Denotational/#plfa_plfa-part3-Denotational-35910" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-35915" href="../Denotational/#plfa_plfa-part3-Denotational-35915" class="Bound">IH</a>
    <a id="plfa_plfa-part3-Denotational-35922" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-35927" href="../Denotational/#plfa_plfa-part3-Denotational-30556" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-35934" href="../Denotational/#plfa_plfa-part3-Denotational-35910" class="Bound">u′⊆u</a>
<a id="plfa_plfa-part3-Denotational-35939" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-35943" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-35945" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-35947" href="../Denotational/#plfa_plfa-part3-Denotational-35947" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-35953" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-35955" href="../Denotational/#plfa_plfa-part3-Denotational-35955" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-35961" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-35967" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-35972" href="../Denotational/#plfa_plfa-part3-Denotational-35477" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-35986" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35987" class="Bound">u₁′</a><a id="plfa_plfa-part3-Denotational-35990" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35992" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35993" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-35995" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-35997" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-35998" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-35999" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36001" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-36004" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36005" href="../Denotational/#plfa_plfa-part3-Denotational-36005" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-36007" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36009" href="../Denotational/#plfa_plfa-part3-Denotational-36009" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-36011" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36013" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-36016" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36017" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-36022" href="../Denotational/#plfa_plfa-part3-Denotational-36009" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-36023" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-36026" href="../Denotational/#plfa_plfa-part3-Denotational-35947" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-36032" class="Bound">IH</a>
       <a id="plfa_plfa-part3-Denotational-36042" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-36044" href="../Denotational/#plfa_plfa-part3-Denotational-35477" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-36058" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36059" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-36062" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36064" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36065" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-36067" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36069" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36070" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-36071" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36073" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-36076" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36077" href="../Denotational/#plfa_plfa-part3-Denotational-36077" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-36079" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36081" href="../Denotational/#plfa_plfa-part3-Denotational-36081" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-36083" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36085" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-36088" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36089" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-36094" href="../Denotational/#plfa_plfa-part3-Denotational-36081" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-36095" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-36098" href="../Denotational/#plfa_plfa-part3-Denotational-35955" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-36104" class="Bound">IH</a>
<a id="plfa_plfa-part3-Denotational-36107" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-36111" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-36113" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36115" href="../Denotational/#plfa_plfa-part3-Denotational-36115" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-36119" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36121" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36123" href="../Denotational/#plfa_plfa-part3-Denotational-36123" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-36129" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36131" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36133" href="../Denotational/#plfa_plfa-part3-Denotational-36133" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-36140" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36142" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36144" href="../Denotational/#plfa_plfa-part3-Denotational-36144" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-36154" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36156" href="../Denotational/#plfa_plfa-part3-Denotational-36156" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-36166" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36168" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36170" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36172" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-36178" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-36180" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36182" href="../Denotational/#plfa_plfa-part3-Denotational-36182" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-36186" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36188" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36190" href="../Denotational/#plfa_plfa-part3-Denotational-36190" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-36196" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36198" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36200" href="../Denotational/#plfa_plfa-part3-Denotational-36200" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-36207" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36209" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36211" href="../Denotational/#plfa_plfa-part3-Denotational-36211" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-36221" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36223" href="../Denotational/#plfa_plfa-part3-Denotational-36223" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-36233" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36235" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36237" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36239" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36241" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-36249" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36251" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36252" href="../Denotational/#plfa_plfa-part3-Denotational-36115" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-36256" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-36258" href="../Denotational/#plfa_plfa-part3-Denotational-36182" class="Bound">u₃₂</a><a id="plfa_plfa-part3-Denotational-36261" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-36263" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36265" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36267" href="../Denotational/#plfa_plfa-part3-Denotational-36369" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-36272" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-36274" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36276" href="../Denotational/#plfa_plfa-part3-Denotational-36508" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-36283" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a>
      <a id="plfa_plfa-part3-Denotational-36291" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-36293" href="../Denotational/#plfa_plfa-part3-Denotational-5675" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-36297" href="../Denotational/#plfa_plfa-part3-Denotational-36144" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-36307" href="../Denotational/#plfa_plfa-part3-Denotational-36211" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-36317" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a>
        <a id="plfa_plfa-part3-Denotational-36327" href="../Denotational/#plfa_plfa-part3-Denotational-5675" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-36331" href="../Denotational/#plfa_plfa-part3-Denotational-36156" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-36341" href="../Denotational/#plfa_plfa-part3-Denotational-36223" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-36351" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36353" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36355" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-36357" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-36363" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-36369" href="../Denotational/#plfa_plfa-part3-Denotational-36369" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-36374" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-36376" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36377" href="../Denotational/#plfa_plfa-part3-Denotational-36377" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-36380" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-36382" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-36387" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36389" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36391" href="../Denotational/#plfa_plfa-part3-Denotational-36377" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-36394" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-36396" href="../Denotational/#plfa_plfa-part3-Denotational-36115" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-36400" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-36402" href="../Denotational/#plfa_plfa-part3-Denotational-36377" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-36405" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-36407" href="../Denotational/#plfa_plfa-part3-Denotational-36182" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-36411" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36413" href="../Denotational/#plfa_plfa-part3-Denotational-31279" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-36417" href="../Denotational/#plfa_plfa-part3-Denotational-36377" class="Bound">v′</a>
          <a id="plfa_plfa-part3-Denotational-36430" href="../Denotational/#plfa_plfa-part3-Denotational-36369" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-36435" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36436" href="../Denotational/#plfa_plfa-part3-Denotational-36436" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-36438" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36440" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36441" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-36446" href="../Denotational/#plfa_plfa-part3-Denotational-36446" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-36447" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-36449" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-36451" href="../Denotational/#plfa_plfa-part3-Denotational-36123" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-36457" href="../Denotational/#plfa_plfa-part3-Denotational-36446" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-36469" href="../Denotational/#plfa_plfa-part3-Denotational-36369" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-36474" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36475" href="../Denotational/#plfa_plfa-part3-Denotational-36475" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-36477" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36479" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36480" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-36485" href="../Denotational/#plfa_plfa-part3-Denotational-36485" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-36486" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-36488" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-36490" href="../Denotational/#plfa_plfa-part3-Denotational-36190" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-36496" href="../Denotational/#plfa_plfa-part3-Denotational-36485" class="Bound">y</a>
          <a id="plfa_plfa-part3-Denotational-36508" href="../Denotational/#plfa_plfa-part3-Denotational-36508" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-36515" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-36517" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36518" href="../Denotational/#plfa_plfa-part3-Denotational-36518" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-36520" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-36522" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-36527" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36529" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36531" href="../Denotational/#plfa_plfa-part3-Denotational-36518" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-36533" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-36535" href="../Denotational/#plfa_plfa-part3-Denotational-36115" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-36539" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-36541" href="../Denotational/#plfa_plfa-part3-Denotational-36518" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-36543" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-36545" href="../Denotational/#plfa_plfa-part3-Denotational-36182" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-36549" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-36551" href="../Denotational/#plfa_plfa-part3-Denotational-36518" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-36553" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-36555" class="Bound">u₂</a>
          <a id="plfa_plfa-part3-Denotational-36568" href="../Denotational/#plfa_plfa-part3-Denotational-36508" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-36575" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36576" href="../Denotational/#plfa_plfa-part3-Denotational-36576" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-36577" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36579" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36580" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-36585" href="../Denotational/#plfa_plfa-part3-Denotational-36585" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-36586" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-36588" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-36590" href="../Denotational/#plfa_plfa-part3-Denotational-36133" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-36597" href="../Denotational/#plfa_plfa-part3-Denotational-36585" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-36609" href="../Denotational/#plfa_plfa-part3-Denotational-36508" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-36616" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-36617" href="../Denotational/#plfa_plfa-part3-Denotational-36617" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-36618" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-36620" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-36621" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-36626" href="../Denotational/#plfa_plfa-part3-Denotational-36626" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-36627" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-36629" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-36631" href="../Denotational/#plfa_plfa-part3-Denotational-36200" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-36638" href="../Denotational/#plfa_plfa-part3-Denotational-36626" class="Bound">y</a>
</pre><ul><li><p>Suppose <code>u′ ≡ ⊥</code>. Then we have a contradiction because it is not the case that <code>Fun ⊥</code>.</p></li><li><p>Suppose <code>u′ ≡ u₁′ ↦ u₂′</code>. Then <code>u₁′ ↦ u₂′ ∈ u</code> and we can apply the premise (the induction hypothesis from <code>u ⊑ u₂</code>) to obtain that <code>u₁′ ↦ u₂′</code> factors <code>u₂</code> into <code>u₃</code>. This case is complete because <code>⨆dom u′ ≡ u₁′</code> and <code>⨆cod u′ ≡ u₂′</code>.</p></li><li><p>Suppose <code>u′ ≡ u₁′ ⊔ u₂′</code>. Then we have <code>u₁′ ⊆ u</code> and <code>u₂′ ⊆ u</code>. We also have <code>all-funs u₁′</code> and <code>all-funs u₂′</code>, so we can apply the induction hypothesis for both <code>u₁′</code> and <code>u₂′</code>. So there exists values <code>u₃₁</code> and <code>u₃₂</code> such that <code>(⨆dom u₁′) ↦ (⨆cod u₁′)</code> factors <code>u</code> into <code>u₃₁</code> and <code>(⨆dom u₂′) ↦ (⨆cod u₂′)</code> factors <code>u</code> into <code>u₃₂</code>. We will show that <code>(⨆dom u) ↦ (⨆cod u)</code> factors <code>u</code> into <code>u₃₁ ⊔ u₃₂</code>. So we need to show that</p><pre><code>  ⨆dom (u₃₁ ⊔ u₃₂) ⊑ ⨆dom (u₁′ ⊔ u₂′)
  ⨆cod (u₁′ ⊔ u₂′) ⊑ ⨆cod (u₃₁ ⊔ u₃₂)</code></pre><p>But those both follow directly from the factoring of <code>u</code> into <code>u₃₁</code> and <code>u₃₂</code>, using the monotonicity of <code>⊔</code> with respect to <code>⊑</code>.</p></li></ul><h3 id="inversion-of-less-than-for-functions">Inversion of less-than for functions</h3><p>We come to the proof of the main lemma concerning the inversion of less-than for functions. We show that if <code>u₁ ⊑ u₂</code>, then for any <code>v ↦ w ∈ u₁</code>, we can factor <code>u₂</code> into <code>u₃</code> according to <code>v ↦ w</code>. We proceed by induction on the derivation of <code>u₁ ⊑ u₂</code>, and describe each case in the text after the Agda proof.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv"></a><a id="plfa_plfa-part3-Denotational-38008" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38016" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38018" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38020" href="../Denotational/#plfa_plfa-part3-Denotational-38020" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-38023" href="../Denotational/#plfa_plfa-part3-Denotational-38023" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-38026" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38028" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38033" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-38043" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38045" href="../Denotational/#plfa_plfa-part3-Denotational-38020" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-38048" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38050" href="../Denotational/#plfa_plfa-part3-Denotational-38023" class="Bound">u₂</a>
        <a id="plfa_plfa-part3-Denotational-38061" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38063" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38065" href="../Denotational/#plfa_plfa-part3-Denotational-38065" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38067" href="../Denotational/#plfa_plfa-part3-Denotational-38067" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38068" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38070" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38072" href="../Denotational/#plfa_plfa-part3-Denotational-38065" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38074" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38076" href="../Denotational/#plfa_plfa-part3-Denotational-38067" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-38078" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38080" href="../Denotational/#plfa_plfa-part3-Denotational-38020" class="Bound">u₁</a>
          <a id="plfa_plfa-part3-Denotational-38093" class="Comment">-------------------------------------</a>
        <a id="plfa_plfa-part3-Denotational-38139" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38141" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-38144" href="../Denotational/#plfa_plfa-part3-Denotational-38144" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-38147" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-38149" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38155" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-38157" href="../Denotational/#plfa_plfa-part3-Denotational-34117" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-38164" href="../Denotational/#plfa_plfa-part3-Denotational-38023" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-38167" href="../Denotational/#plfa_plfa-part3-Denotational-38144" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-38170" href="../Denotational/#plfa_plfa-part3-Denotational-38065" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38172" href="../Denotational/#plfa_plfa-part3-Denotational-38067" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-38174" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38182" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38183" href="../Denotational/#plfa_plfa-part3-Denotational-3927" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38184" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38186" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38187" href="../Denotational/#plfa_plfa-part3-Denotational-38187" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-38189" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38191" href="../Denotational/#plfa_plfa-part3-Denotational-4303" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-38197" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38198" href="../Denotational/#plfa_plfa-part3-Denotational-38198" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-38199" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38201" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38202" href="../Denotational/#plfa_plfa-part3-Denotational-38202" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38203" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38205" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-38208" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38216" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38217" href="../Denotational/#plfa_plfa-part3-Denotational-38217" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-38221" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38223" href="../Denotational/#plfa_plfa-part3-Denotational-38223" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-38226" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38228" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38229" href="../Denotational/#plfa_plfa-part3-Denotational-38229" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-38231" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38233" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38234" href="../Denotational/#plfa_plfa-part3-Denotational-4328" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-38243" href="../Denotational/#plfa_plfa-part3-Denotational-38243" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-38247" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-38250" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38252" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38253" href="../Denotational/#plfa_plfa-part3-Denotational-38253" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-38254" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38256" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38257" href="../Denotational/#plfa_plfa-part3-Denotational-38257" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38258" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38260" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38261" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-38266" href="../Denotational/#plfa_plfa-part3-Denotational-38266" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38267" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38269" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38271" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38279" href="../Denotational/#plfa_plfa-part3-Denotational-38243" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-38283" href="../Denotational/#plfa_plfa-part3-Denotational-38266" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-38285" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38293" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38294" href="../Denotational/#plfa_plfa-part3-Denotational-38294" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-38298" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38300" href="../Denotational/#plfa_plfa-part3-Denotational-38300" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-38303" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38305" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38306" href="../Denotational/#plfa_plfa-part3-Denotational-38306" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-38308" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38310" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38311" href="../Denotational/#plfa_plfa-part3-Denotational-4328" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-38320" href="../Denotational/#plfa_plfa-part3-Denotational-38320" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-38324" href="../Denotational/#plfa_plfa-part3-Denotational-38324" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-38327" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38329" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38330" href="../Denotational/#plfa_plfa-part3-Denotational-38330" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-38331" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38333" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38334" href="../Denotational/#plfa_plfa-part3-Denotational-38334" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38335" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38337" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38338" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-38343" href="../Denotational/#plfa_plfa-part3-Denotational-38343" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38344" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38346" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38348" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38356" href="../Denotational/#plfa_plfa-part3-Denotational-38324" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-38360" href="../Denotational/#plfa_plfa-part3-Denotational-38343" class="Bound">y</a>
<a id="plfa_plfa-part3-Denotational-38362" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-38369" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38370" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38371" href="../Denotational/#plfa_plfa-part3-Denotational-38371" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-38373" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38374" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38375" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38376" href="../Denotational/#plfa_plfa-part3-Denotational-38376" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-38379" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38380" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-38381" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38382" href="../Denotational/#plfa_plfa-part3-Denotational-38382" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-38385" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38386" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38387" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-38388" href="../Denotational/#plfa_plfa-part3-Denotational-4412" class="CatchallClause InductiveConstructor">⊑-conj-R1</a><a id="plfa_plfa-part3-Denotational-38397" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38398" href="../Denotational/#plfa_plfa-part3-Denotational-38398" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-38400" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-38401" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38402" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38403" href="../Denotational/#plfa_plfa-part3-Denotational-38403" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-38404" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38405" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38406" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38407" href="../Denotational/#plfa_plfa-part3-Denotational-38407" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-38408" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38409" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38410" href="../Denotational/#plfa_plfa-part3-Denotational-38410" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-38416" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38421" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38429" href="../Denotational/#plfa_plfa-part3-Denotational-38398" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-38432" href="../Denotational/#plfa_plfa-part3-Denotational-38410" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-38434" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38438" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38440" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38442" href="../Denotational/#plfa_plfa-part3-Denotational-38442" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-38446" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38448" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38450" href="../Denotational/#plfa_plfa-part3-Denotational-38450" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-38455" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38457" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38459" href="../Denotational/#plfa_plfa-part3-Denotational-38459" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-38467" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38469" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38471" href="../Denotational/#plfa_plfa-part3-Denotational-38471" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-38480" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38482" href="../Denotational/#plfa_plfa-part3-Denotational-38482" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-38491" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38493" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38495" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38497" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38499" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-38507" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38509" href="../Denotational/#plfa_plfa-part3-Denotational-38442" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-38513" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38515" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38517" href="../Denotational/#plfa_plfa-part3-Denotational-38450" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-38522" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38524" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38526" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-38529" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38530" href="../Denotational/#plfa_plfa-part3-Denotational-38530" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38531" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38533" href="../Denotational/#plfa_plfa-part3-Denotational-38533" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-38535" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38537" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-38542" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38543" href="../Denotational/#plfa_plfa-part3-Denotational-38459" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-38551" href="../Denotational/#plfa_plfa-part3-Denotational-38533" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-38552" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-38555" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-38592" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38594" href="../Denotational/#plfa_plfa-part3-Denotational-38471" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-38603" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38605" href="../Denotational/#plfa_plfa-part3-Denotational-38482" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-38614" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38616" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38618" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38620" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-38622" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-38629" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38630" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38631" href="../Denotational/#plfa_plfa-part3-Denotational-38631" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-38633" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38634" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38635" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38636" href="../Denotational/#plfa_plfa-part3-Denotational-38636" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-38639" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38640" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-38641" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38642" href="../Denotational/#plfa_plfa-part3-Denotational-38642" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-38645" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38646" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38647" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-38648" href="../Denotational/#plfa_plfa-part3-Denotational-4485" class="CatchallClause InductiveConstructor">⊑-conj-R2</a><a id="plfa_plfa-part3-Denotational-38657" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38658" href="../Denotational/#plfa_plfa-part3-Denotational-38658" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-38660" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-38661" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38662" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38663" href="../Denotational/#plfa_plfa-part3-Denotational-38663" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-38664" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38665" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38666" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38667" href="../Denotational/#plfa_plfa-part3-Denotational-38667" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-38668" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38669" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38670" href="../Denotational/#plfa_plfa-part3-Denotational-38670" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-38676" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38681" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38689" href="../Denotational/#plfa_plfa-part3-Denotational-38658" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-38692" href="../Denotational/#plfa_plfa-part3-Denotational-38670" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-38694" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38698" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38700" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38702" href="../Denotational/#plfa_plfa-part3-Denotational-38702" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-38706" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38708" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38710" href="../Denotational/#plfa_plfa-part3-Denotational-38710" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-38715" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38717" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38719" href="../Denotational/#plfa_plfa-part3-Denotational-38719" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-38727" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38729" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38731" href="../Denotational/#plfa_plfa-part3-Denotational-38731" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-38740" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38742" href="../Denotational/#plfa_plfa-part3-Denotational-38742" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-38751" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38753" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38755" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38757" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38759" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-38767" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38769" href="../Denotational/#plfa_plfa-part3-Denotational-38702" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-38773" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38775" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38777" href="../Denotational/#plfa_plfa-part3-Denotational-38710" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-38782" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38784" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38786" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-38789" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38790" href="../Denotational/#plfa_plfa-part3-Denotational-38790" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-38791" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38793" href="../Denotational/#plfa_plfa-part3-Denotational-38793" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-38795" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38797" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-38802" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38803" href="../Denotational/#plfa_plfa-part3-Denotational-38719" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-38811" href="../Denotational/#plfa_plfa-part3-Denotational-38793" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-38812" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-38815" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-38852" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38854" href="../Denotational/#plfa_plfa-part3-Denotational-38731" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-38863" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38865" href="../Denotational/#plfa_plfa-part3-Denotational-38742" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-38874" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38876" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38878" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-38880" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-38882" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-38889" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38890" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38891" href="../Denotational/#plfa_plfa-part3-Denotational-38891" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-38893" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38894" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38895" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38896" href="../Denotational/#plfa_plfa-part3-Denotational-38896" class="CatchallClause Bound">u₂</a><a id="plfa_plfa-part3-Denotational-38898" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38899" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38900" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-38901" href="../Denotational/#plfa_plfa-part3-Denotational-4558" class="CatchallClause InductiveConstructor">⊑-trans</a><a id="plfa_plfa-part3-Denotational-38908" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38909" class="CatchallClause Argument">v</a><a id="plfa_plfa-part3-Denotational-38910" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38911" class="CatchallClause Symbol">=</a><a id="plfa_plfa-part3-Denotational-38912" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38913" href="../Denotational/#plfa_plfa-part3-Denotational-38913" class="CatchallClause Bound">u</a><a id="plfa_plfa-part3-Denotational-38914" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38915" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38916" href="../Denotational/#plfa_plfa-part3-Denotational-38916" class="CatchallClause Bound">u₁⊑u</a><a id="plfa_plfa-part3-Denotational-38920" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38921" href="../Denotational/#plfa_plfa-part3-Denotational-38921" class="CatchallClause Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-38925" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-38926" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38927" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38928" href="../Denotational/#plfa_plfa-part3-Denotational-38928" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-38929" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38930" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38931" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-38932" href="../Denotational/#plfa_plfa-part3-Denotational-38932" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-38933" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-38934" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-38935" href="../Denotational/#plfa_plfa-part3-Denotational-38935" class="CatchallClause Bound">v↦w∈u₁</a>
    <a id="plfa_plfa-part3-Denotational-38946" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38951" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-38959" href="../Denotational/#plfa_plfa-part3-Denotational-38916" class="Bound">u₁⊑u</a> <a id="plfa_plfa-part3-Denotational-38964" href="../Denotational/#plfa_plfa-part3-Denotational-38935" class="Bound">v↦w∈u₁</a>
<a id="plfa_plfa-part3-Denotational-38971" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38975" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38977" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38979" href="../Denotational/#plfa_plfa-part3-Denotational-38979" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-38982" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38984" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38986" href="../Denotational/#plfa_plfa-part3-Denotational-38986" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-38990" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-38992" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-38994" href="../Denotational/#plfa_plfa-part3-Denotational-38994" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-38999" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39001" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39003" href="../Denotational/#plfa_plfa-part3-Denotational-39003" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-39011" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39013" href="../Denotational/#plfa_plfa-part3-Denotational-39013" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-39021" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39023" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39025" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39027" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-39033" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-39038" href="../Denotational/#plfa_plfa-part3-Denotational-35477" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-39052" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39053" href="../Denotational/#plfa_plfa-part3-Denotational-38979" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-39055" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39057" href="../Denotational/#plfa_plfa-part3-Denotational-38986" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-39061" href="../Denotational/#plfa_plfa-part3-Denotational-38994" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-39066" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39067" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-39075" class="Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-39079" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-39081" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-39085" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-39087" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39089" href="../Denotational/#plfa_plfa-part3-Denotational-39089" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-39092" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39094" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39096" href="../Denotational/#plfa_plfa-part3-Denotational-39096" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-39100" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39102" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39104" href="../Denotational/#plfa_plfa-part3-Denotational-39104" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-39110" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39112" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39114" href="../Denotational/#plfa_plfa-part3-Denotational-39114" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-39126" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39128" href="../Denotational/#plfa_plfa-part3-Denotational-39128" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-39140" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39142" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39144" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39146" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39148" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-39156" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39158" href="../Denotational/#plfa_plfa-part3-Denotational-39089" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-39161" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39163" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39165" href="../Denotational/#plfa_plfa-part3-Denotational-39096" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-39169" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39171" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39173" href="../Denotational/#plfa_plfa-part3-Denotational-39104" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-39179" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39181" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39183" href="../Denotational/#plfa_plfa-part3-Denotational-4558" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-39191" href="../Denotational/#plfa_plfa-part3-Denotational-39114" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-39203" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-39211" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a>
                                    <a id="plfa_plfa-part3-Denotational-39249" href="../Denotational/#plfa_plfa-part3-Denotational-4558" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-39257" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-39265" href="../Denotational/#plfa_plfa-part3-Denotational-39128" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-39277" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39279" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39281" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39283" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-39285" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-39293" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39294" href="../Denotational/#plfa_plfa-part3-Denotational-39294" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-39298" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39300" href="../Denotational/#plfa_plfa-part3-Denotational-39300" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-39303" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39305" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39306" href="../Denotational/#plfa_plfa-part3-Denotational-39306" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39310" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39312" href="../Denotational/#plfa_plfa-part3-Denotational-39312" class="Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-39315" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39317" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39318" href="../Denotational/#plfa_plfa-part3-Denotational-4629" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-39324" href="../Denotational/#plfa_plfa-part3-Denotational-39324" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-39328" href="../Denotational/#plfa_plfa-part3-Denotational-39328" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-39331" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39333" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-39338" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-39344" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39346" href="../Denotational/#plfa_plfa-part3-Denotational-39306" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39350" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39352" href="../Denotational/#plfa_plfa-part3-Denotational-39312" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-39356" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39358" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39360" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39363" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39364" href="../Denotational/#plfa_plfa-part3-Denotational-39364" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-39365" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39367" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39369" href="../Denotational/#plfa_plfa-part3-Denotational-31305" class="InductiveConstructor">fun</a><a id="plfa_plfa-part3-Denotational-39372" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39374" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39376" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39378" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39381" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39382" href="../Denotational/#plfa_plfa-part3-Denotational-39382" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-39383" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39385" href="../Denotational/#plfa_plfa-part3-Denotational-39385" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-39387" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39389" href="../Denotational/#plfa_plfa-part3-Denotational-39385" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-39390" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39392" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39394" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39396" href="../Denotational/#plfa_plfa-part3-Denotational-39324" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-39400" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39402" href="../Denotational/#plfa_plfa-part3-Denotational-39328" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-39406" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39408" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39410" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39412" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-39414" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-39422" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39423" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39427" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39429" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39430" href="../Denotational/#plfa_plfa-part3-Denotational-39430" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-39434" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39436" href="../Denotational/#plfa_plfa-part3-Denotational-39436" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-39439" class="Symbol">)}</a> <a id="plfa_plfa-part3-Denotational-39442" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39443" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39447" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39449" href="../Denotational/#plfa_plfa-part3-Denotational-39430" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-39453" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39455" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39459" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39461" href="../Denotational/#plfa_plfa-part3-Denotational-39436" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-39464" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39466" href="../Denotational/#plfa_plfa-part3-Denotational-4732" class="InductiveConstructor">⊑-dist</a>
    <a id="plfa_plfa-part3-Denotational-39477" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39478" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-39479" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="DottedPattern Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-39482" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39484" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-39485" class="DottedPattern Symbol">.(</a><a id="plfa_plfa-part3-Denotational-39487" href="../Denotational/#plfa_plfa-part3-Denotational-39430" class="DottedPattern Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-39491" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="DottedPattern InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39493" href="../Denotational/#plfa_plfa-part3-Denotational-39436" class="DottedPattern Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-39496" class="DottedPattern Symbol">)</a><a id="plfa_plfa-part3-Denotational-39497" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39499" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-39504" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-39510" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39512" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39516" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39518" href="../Denotational/#plfa_plfa-part3-Denotational-39430" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-39522" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39524" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39528" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39530" href="../Denotational/#plfa_plfa-part3-Denotational-39436" class="Bound">u₂₃</a> <a id="plfa_plfa-part3-Denotational-39534" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39536" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39538" href="../Denotational/#plfa_plfa-part3-Denotational-39598" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-39540" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39542" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39544" href="../Denotational/#plfa_plfa-part3-Denotational-39697" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-39546" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39548" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39550" href="../Denotational/#plfa_plfa-part3-Denotational-4328" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-39559" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-39566" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-39573" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39575" href="../Denotational/#plfa_plfa-part3-Denotational-5402" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-39582" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39584" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39586" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-39588" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
  <a id="plfa_plfa-part3-Denotational-39592" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-39598" href="../Denotational/#plfa_plfa-part3-Denotational-39598" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-39600" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39602" href="../Denotational/#plfa_plfa-part3-Denotational-31343" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-39611" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39612" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39616" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39618" href="../Denotational/#plfa_plfa-part3-Denotational-39430" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-39622" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39624" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39628" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39630" href="../Denotational/#plfa_plfa-part3-Denotational-39436" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-39633" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-39643" href="../Denotational/#plfa_plfa-part3-Denotational-39598" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-39645" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39646" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-39651" href="../Denotational/#plfa_plfa-part3-Denotational-39651" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39652" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39654" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39656" href="../Denotational/#plfa_plfa-part3-Denotational-31305" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-39660" href="../Denotational/#plfa_plfa-part3-Denotational-39651" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-39670" href="../Denotational/#plfa_plfa-part3-Denotational-39598" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-39672" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39673" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39678" href="../Denotational/#plfa_plfa-part3-Denotational-39678" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-39679" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39681" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39683" href="../Denotational/#plfa_plfa-part3-Denotational-31305" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-39687" href="../Denotational/#plfa_plfa-part3-Denotational-39678" class="Bound">y</a>
        <a id="plfa_plfa-part3-Denotational-39697" href="../Denotational/#plfa_plfa-part3-Denotational-39697" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-39699" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39701" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39702" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39706" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39708" href="../Denotational/#plfa_plfa-part3-Denotational-39430" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-39712" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39714" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39718" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39720" href="../Denotational/#plfa_plfa-part3-Denotational-39436" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-39723" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39725" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39727" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39728" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39732" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39734" href="../Denotational/#plfa_plfa-part3-Denotational-39430" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-39738" href="../Denotational/#plfa_plfa-part3-Denotational-3969" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39740" href="../Denotational/#plfa_plfa-part3-Denotational-39423" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-39744" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39746" href="../Denotational/#plfa_plfa-part3-Denotational-39436" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-39749" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-39759" href="../Denotational/#plfa_plfa-part3-Denotational-39697" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-39761" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39762" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-39767" href="../Denotational/#plfa_plfa-part3-Denotational-39767" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39768" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39770" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39772" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-39777" href="../Denotational/#plfa_plfa-part3-Denotational-39767" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-39787" href="../Denotational/#plfa_plfa-part3-Denotational-39697" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-39789" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39790" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39795" href="../Denotational/#plfa_plfa-part3-Denotational-39795" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-39796" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39798" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39800" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39805" href="../Denotational/#plfa_plfa-part3-Denotational-39795" class="Bound">y</a>
</pre><p>Let <code>v</code> and <code>w</code> be arbitrary values.</p><ul><li><p>Case <code>⊑-bot</code>. So <code>u₁ ≡ ⊥</code>. We have <code>v ↦ w ∈ ⊥</code>, but that is impossible.</p></li><li><p>Case <code>⊑-conj-L</code>.</p><pre><code>  u₁₁ ⊑ u₂   u₁₂ ⊑ u₂
  -------------------
  u₁₁ ⊔ u₁₂ ⊑ u₂</code></pre><p>Given that <code>v ↦ w ∈ u₁₁ ⊔ u₁₂</code>, there are two subcases to consider.</p><ul><li><p>Subcase <code>v ↦ w ∈ u₁₁</code>. We conclude by the induction hypothesis for <code>u₁₁ ⊑ u₂</code>.</p></li><li><p>Subcase <code>v ↦ w ∈ u₁₂</code>. We conclude by the induction hypothesis for <code>u₁₂ ⊑ u₂</code>.</p></li></ul></li><li><p>Case <code>⊑-conj-R1</code>.</p><pre><code>  u₁ ⊑ u₂₁
  --------------
  u₁ ⊑ u₂₁ ⊔ u₂₂</code></pre><p>Given that <code>v ↦ w ∈ u₁</code>, the induction hypothesis for <code>u₁ ⊑ u₂₁</code> gives us that <code>v ↦ w</code> factors <code>u₂₁</code> into <code>u₃₁</code> for some <code>u₃₁</code>. To show that <code>v ↦ w</code> also factors <code>u₂₁ ⊔ u₂₂</code> into <code>u₃₁</code>, we just need to show that <code>u₃₁ ⊆ u₂₁ ⊔ u₂₂</code>, but that follows directly from <code>u₃₁ ⊆ u₂₁</code>.</p></li><li><p>Case <code>⊑-conj-R2</code>. This case follows by reasoning similar to the case for <code>⊑-conj-R1</code>.</p></li><li><p>Case <code>⊑-trans</code>.</p><pre><code>  u₁ ⊑ u   u ⊑ u₂
  ---------------
      u₁ ⊑ u₂</code></pre><p>By the induction hypothesis for <code>u₁ ⊑ u</code>, we know that <code>v ↦ w</code> factors <code>u</code> into <code>u′</code>, for some value <code>u′</code>, so we have <code>all-funs u′</code> and <code>u′ ⊆ u</code>. By the induction hypothesis for <code>u ⊑ u₂</code>, we know that for any <code>v′ ↦ w′ ∈ u</code>, <code>v′ ↦ w′</code> factors <code>u₂</code>. Now we apply the lemma sub-inv-trans, which gives us some <code>u₃</code> such that <code>(⨆dom u′) ↦ (⨆cod u′)</code> factors <code>u₂</code> into <code>u₃</code>. We show that <code>v ↦ w</code> also factors <code>u₂</code> into <code>u₃</code>. From <code>⨆dom u₃ ⊑ ⨆dom u′</code> and <code>⨆dom u′ ⊑ v</code>, we have <code>⨆dom u₃ ⊑ v</code>. From <code>w ⊑ ⨆cod u′</code> and <code>⨆cod u′ ⊑ ⨆cod u₃</code>, we have <code>w ⊑ ⨆cod u₃</code>, and this case is complete.</p></li><li><p>Case <code>⊑-fun</code>.</p><pre><code>  u₂₁ ⊑ u₁₁  u₁₂ ⊑ u₂₂
  ---------------------
  u₁₁ ↦ u₁₂ ⊑ u₂₁ ↦ u₂₂</code></pre><p>Given that <code>v ↦ w ∈ u₁₁ ↦ u₁₂</code>, we have <code>v ≡ u₁₁</code> and <code>w ≡ u₁₂</code>. We show that <code>u₁₁ ↦ u₁₂</code> factors <code>u₂₁ ↦ u₂₂</code> into itself. We need to show that <code>⨆dom (u₂₁ ↦ u₂₂) ⊑ u₁₁</code> and <code>u₁₂ ⊑ ⨆cod (u₂₁ ↦ u₂₂)</code>, but that is equivalent to our premises <code>u₂₁ ⊑ u₁₁</code> and <code>u₁₂ ⊑ u₂₂</code>.</p></li><li><p>Case <code>⊑-dist</code>.</p><pre><code>  ---------------------------------------------
  u₂₁ ↦ (u₂₂ ⊔ u₂₃) ⊑ (u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code></pre><p>Given that <code>v ↦ w ∈ u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code>, we have <code>v ≡ u₂₁</code> and <code>w ≡ u₂₂ ⊔ u₂₃</code>. We show that <code>u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code> factors <code>(u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code> into itself. We have <code>u₂₁ ⊔ u₂₁ ⊑ u₂₁</code>, and also <code>u₂₂ ⊔ u₂₃ ⊑ u₂₂ ⊔ u₂₃</code>, so the proof is complete.</p></li></ul><p>We conclude this section with two corollaries of the sub-inv lemma. First, we have the following property that is convenient to use in later proofs. We specialize the premise to just <code>v ↦ w ⊑ u₁</code> and we modify the conclusion to say that for every <code>v′ ↦ w′ ∈ u₂</code>, we have <code>v′ ⊑ v</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-fun"></a><a id="plfa_plfa-part3-Denotational-42485" href="../Denotational/#plfa_plfa-part3-Denotational-42485" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-42497" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42499" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42501" href="../Denotational/#plfa_plfa-part3-Denotational-42501" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42503" href="../Denotational/#plfa_plfa-part3-Denotational-42503" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42505" href="../Denotational/#plfa_plfa-part3-Denotational-42505" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-42508" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42510" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-42515" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-42521" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42523" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42524" href="../Denotational/#plfa_plfa-part3-Denotational-42501" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42526" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42528" href="../Denotational/#plfa_plfa-part3-Denotational-42503" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42529" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42531" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-42533" href="../Denotational/#plfa_plfa-part3-Denotational-42505" class="Bound">u₁</a>
      <a id="plfa_plfa-part3-Denotational-42542" class="Comment">-----------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-42600" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42602" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-42605" href="../Denotational/#plfa_plfa-part3-Denotational-42605" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-42608" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-42610" href="../Denotational/#plfa_plfa-part3-Denotational-3907" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-42616" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-42618" href="../Denotational/#plfa_plfa-part3-Denotational-31343" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-42627" href="../Denotational/#plfa_plfa-part3-Denotational-42605" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-42630" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-42632" href="../Denotational/#plfa_plfa-part3-Denotational-42605" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-42635" href="../Denotational/#plfa_plfa-part3-Denotational-29667" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42637" href="../Denotational/#plfa_plfa-part3-Denotational-42505" class="Bound">u₁</a>
        <a id="plfa_plfa-part3-Denotational-42648" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-42650" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-42653" href="../Denotational/#plfa_plfa-part3-Denotational-42653" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-42656" href="../Denotational/#plfa_plfa-part3-Denotational-42656" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-42658" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42660" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42662" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42663" href="../Denotational/#plfa_plfa-part3-Denotational-42653" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-42666" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42668" href="../Denotational/#plfa_plfa-part3-Denotational-42656" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-42670" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42672" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-42674" href="../Denotational/#plfa_plfa-part3-Denotational-42605" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-42677" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42679" href="../Denotational/#plfa_plfa-part3-Denotational-42653" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-42682" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-42684" href="../Denotational/#plfa_plfa-part3-Denotational-42501" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-42685" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42687" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-42689" href="../Denotational/#plfa_plfa-part3-Denotational-42503" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42691" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-42693" href="../Denotational/#plfa_plfa-part3-Denotational-32555" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-42698" href="../Denotational/#plfa_plfa-part3-Denotational-42605" class="Bound">u₂</a>
<a id="plfa_plfa-part3-Denotational-42701" href="../Denotational/#plfa_plfa-part3-Denotational-42485" class="Function">sub-inv-fun</a><a id="plfa_plfa-part3-Denotational-42712" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42713" href="../Denotational/#plfa_plfa-part3-Denotational-42713" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-42714" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-42716" href="../Denotational/#plfa_plfa-part3-Denotational-42716" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42717" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-42719" href="../Denotational/#plfa_plfa-part3-Denotational-42719" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-42721" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42723" href="../Denotational/#plfa_plfa-part3-Denotational-42723" class="Bound">abc</a>
    <a id="plfa_plfa-part3-Denotational-42731" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-42736" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-42744" href="../Denotational/#plfa_plfa-part3-Denotational-42723" class="Bound">abc</a> <a id="plfa_plfa-part3-Denotational-42748" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42749" href="../Denotational/#plfa_plfa-part3-Denotational-42713" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-42750" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-42752" href="../Denotational/#plfa_plfa-part3-Denotational-42716" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42753" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42755" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-42760" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-42764" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-42766" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-42768" href="../Denotational/#plfa_plfa-part3-Denotational-42768" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-42771" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-42773" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-42775" href="../Denotational/#plfa_plfa-part3-Denotational-42775" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-42777" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-42779" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-42781" href="../Denotational/#plfa_plfa-part3-Denotational-42781" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-42787" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-42789" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-42791" href="../Denotational/#plfa_plfa-part3-Denotational-42791" class="Bound">db</a> <a id="plfa_plfa-part3-Denotational-42794" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-42796" href="../Denotational/#plfa_plfa-part3-Denotational-42796" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-42799" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-42801" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-42803" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-42805" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-42807" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-42815" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-42817" href="../Denotational/#plfa_plfa-part3-Denotational-42768" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-42820" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-42822" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-42824" href="../Denotational/#plfa_plfa-part3-Denotational-42775" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-42826" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-42828" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-42830" href="../Denotational/#plfa_plfa-part3-Denotational-42781" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-42836" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-42838" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-42840" href="../Denotational/#plfa_plfa-part3-Denotational-42864" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-42842" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-42844" href="../Denotational/#plfa_plfa-part3-Denotational-42796" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-42847" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-42849" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-42851" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-42853" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part3-Denotational-42858" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-42864" href="../Denotational/#plfa_plfa-part3-Denotational-42864" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-42866" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42868" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42870" href="../Denotational/#plfa_plfa-part3-Denotational-42870" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-42872" href="../Denotational/#plfa_plfa-part3-Denotational-42872" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-42873" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42875" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42877" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42878" href="../Denotational/#plfa_plfa-part3-Denotational-42870" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-42880" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42882" href="../Denotational/#plfa_plfa-part3-Denotational-42872" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-42883" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42885" href="../Denotational/#plfa_plfa-part3-Denotational-29417" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-42887" href="../Denotational/#plfa_plfa-part3-Denotational-42768" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-42890" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42892" href="../Denotational/#plfa_plfa-part3-Denotational-42870" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-42894" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-42896" class="Bound">v</a>
         <a id="plfa_plfa-part3-Denotational-42907" href="../Denotational/#plfa_plfa-part3-Denotational-42864" class="Function">G</a><a id="plfa_plfa-part3-Denotational-42908" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42909" href="../Denotational/#plfa_plfa-part3-Denotational-42909" class="Bound">D</a><a id="plfa_plfa-part3-Denotational-42910" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-42912" href="../Denotational/#plfa_plfa-part3-Denotational-42912" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-42913" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42915" href="../Denotational/#plfa_plfa-part3-Denotational-42915" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-42917" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42919" href="../Denotational/#plfa_plfa-part3-Denotational-4558" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-42927" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42928" href="../Denotational/#plfa_plfa-part3-Denotational-30142" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-42932" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42933" href="../Denotational/#plfa_plfa-part3-Denotational-32848" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42942" href="../Denotational/#plfa_plfa-part3-Denotational-42775" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-42944" href="../Denotational/#plfa_plfa-part3-Denotational-42915" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-42945" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-42948" href="../Denotational/#plfa_plfa-part3-Denotational-42791" class="Bound">db</a>
</pre><p>The second corollary is the inversion rule that one would expect for less-than with functions on the left and right-hand sides.</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊑↦-inv"></a><a id="plfa_plfa-part3-Denotational-43093" href="../Denotational/#plfa_plfa-part3-Denotational-43093" class="Function">↦⊑↦-inv</a> <a id="plfa_plfa-part3-Denotational-43101" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43103" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-43105" href="../Denotational/#plfa_plfa-part3-Denotational-43105" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43107" href="../Denotational/#plfa_plfa-part3-Denotational-43107" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43109" href="../Denotational/#plfa_plfa-part3-Denotational-43109" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-43112" href="../Denotational/#plfa_plfa-part3-Denotational-43112" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-43114" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-43124" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43126" href="../Denotational/#plfa_plfa-part3-Denotational-43105" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43128" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43130" href="../Denotational/#plfa_plfa-part3-Denotational-43107" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43132" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43134" href="../Denotational/#plfa_plfa-part3-Denotational-43109" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-43137" href="../Denotational/#plfa_plfa-part3-Denotational-3939" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43139" href="../Denotational/#plfa_plfa-part3-Denotational-43112" class="Bound">w′</a>
          <a id="plfa_plfa-part3-Denotational-43152" class="Comment">-----------------</a>
        <a id="plfa_plfa-part3-Denotational-43178" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43180" href="../Denotational/#plfa_plfa-part3-Denotational-43109" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-43183" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43185" href="../Denotational/#plfa_plfa-part3-Denotational-43105" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43187" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-43189" href="../Denotational/#plfa_plfa-part3-Denotational-43107" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43191" href="../Denotational/#plfa_plfa-part3-Denotational-4268" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43193" href="../Denotational/#plfa_plfa-part3-Denotational-43112" class="Bound">w′</a>
<a id="plfa_plfa-part3-Denotational-43196" href="../Denotational/#plfa_plfa-part3-Denotational-43093" class="Function">↦⊑↦-inv</a><a id="plfa_plfa-part3-Denotational-43203" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43204" href="../Denotational/#plfa_plfa-part3-Denotational-43204" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-43205" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-43207" href="../Denotational/#plfa_plfa-part3-Denotational-43207" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-43208" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-43210" href="../Denotational/#plfa_plfa-part3-Denotational-43210" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-43212" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-43214" href="../Denotational/#plfa_plfa-part3-Denotational-43214" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-43216" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43218" href="../Denotational/#plfa_plfa-part3-Denotational-43218" class="Bound">lt</a>
    <a id="plfa_plfa-part3-Denotational-43225" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43230" href="../Denotational/#plfa_plfa-part3-Denotational-42485" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-43242" href="../Denotational/#plfa_plfa-part3-Denotational-43218" class="Bound">lt</a>
<a id="plfa_plfa-part3-Denotational-43245" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43249" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43251" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43253" href="../Denotational/#plfa_plfa-part3-Denotational-43253" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-43255" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43257" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43259" href="../Denotational/#plfa_plfa-part3-Denotational-43259" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-43261" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43263" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43265" href="../Denotational/#plfa_plfa-part3-Denotational-43265" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-43271" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43273" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43275" href="../Denotational/#plfa_plfa-part3-Denotational-43275" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-43279" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43281" href="../Denotational/#plfa_plfa-part3-Denotational-43281" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-43285" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43287" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43289" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43291" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-43297" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43302" href="../Denotational/#plfa_plfa-part3-Denotational-31661" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-43312" href="../Denotational/#plfa_plfa-part3-Denotational-43259" class="Bound">f</a>
<a id="plfa_plfa-part3-Denotational-43314" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43318" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43320" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43322" href="../Denotational/#plfa_plfa-part3-Denotational-43322" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43324" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43326" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43328" href="../Denotational/#plfa_plfa-part3-Denotational-43328" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43331" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43333" href="../Denotational/#plfa_plfa-part3-Denotational-43333" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-43340" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-43342" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-43348" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43353" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-43359" href="../Denotational/#plfa_plfa-part3-Denotational-43333" class="Bound">u↦u′∈Γ</a>
<a id="plfa_plfa-part3-Denotational-43366" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43370" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43372" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-43377" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-43381" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-43385" href="../Denotational/#plfa_plfa-part3-Denotational-43385" class="Bound">⨆codΓ⊆w′</a> <a id="plfa_plfa-part3-Denotational-43394" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43396" href="../Denotational/#plfa_plfa-part3-Denotational-33424" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43405" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-43411" class="Keyword">in</a>
  <a id="plfa_plfa-part3-Denotational-43416" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-43418" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-43422" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-43429" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-43431" href="../Denotational/#plfa_plfa-part3-Denotational-4558" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-43439" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-43443" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43444" href="../Denotational/#plfa_plfa-part3-Denotational-30142" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-43448" href="../Denotational/#plfa_plfa-part3-Denotational-43385" class="Bound">⨆codΓ⊆w′</a><a id="plfa_plfa-part3-Denotational-43456" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43458" href="../Denotational/#plfa_plfa-part3-Denotational-2693" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="notes">Notes</h2><p>The denotational semantics presented in this chapter is an example of a <em>filter model</em> (<span class="citation" data-cites="Barendregt:1983">H. Barendregt, Coppo, and Dezani-Ciancaglini (1983)</span>). Filter models use type systems with intersection types to precisely characterize runtime behavior (<span class="citation" data-cites="Coppo:1979">Coppo, Dezani-Ciancaglini, and Salle’ (1979)</span>). The notation that we use in this chapter is not that of type systems and intersection types, but the <code>Value</code> data type is isomorphic to types (<code>↦</code> is <code>→</code>, <code>⊔</code> is <code>∧</code>, <code>⊥</code> is <code>⊤</code>), the <code>⊑</code> relation is the inverse of subtyping <code>&lt;:</code>, and the evaluation relation <code>ρ ⊢ M ↓ v</code> is isomorphic to a type system. Write <code>Γ</code> instead of <code>ρ</code>, <code>A</code> instead of <code>v</code>, and replace <code>↓</code> with <code>:</code> and one has a typing judgement <code>Γ ⊢ M : A</code>. By varying the definition of subtyping and using different choices of type atoms, intersection type systems provide semantics for many different untyped λ calculi, from full beta to the lazy and call-by-value calculi (<span class="citation" data-cites="Alessi:2006">Alessi, Barbanera, and Dezani-Ciancaglini (2006)</span>) (<span class="citation" data-cites="Rocca:2004">Ronchi Della Rocca and Paolini (2004)</span>). The denotational semantics in this chapter corresponds to the BCD system (<span class="citation" data-cites="Barendregt:1983">H. Barendregt, Coppo, and Dezani-Ciancaglini (1983)</span>). Part 3 of the book <em>Lambda Calculus with Types</em> describes a framework for intersection type systems that enables results similar to the ones in this chapter, but for the entire family of intersection type systems (<span class="citation" data-cites="Barendregt:2013">H. Barendregt, Dekkers, and Statman (2013)</span>).</p><p>The two ideas of using finite tables to represent functions and of relaxing table lookup to enable self application first appeared in a technical report by <span class="citation" data-cites="Plotkin:1972">Plotkin (1972)</span> and are later described in an article in Theoretical Computer Science (<span class="citation" data-cites="Plotkin:1993">Plotkin (1993)</span>). In that work, the inductive definition of <code>Value</code> is a bit different than the one we use:</p><pre><code>Value = C + ℘f(Value) × ℘f(Value)</code></pre><p>where <code>C</code> is a set of constants and <code>℘f</code> means finite powerset. The pairs in <code>℘f(Value) × ℘f(Value)</code> represent input-output mappings, just as in this chapter. The finite powersets are used to enable a function table to appear in the input and in the output. These differences amount to changing where the recursion appears in the definition of <code>Value</code>. Plotkin’s model is an example of a <em>graph model</em> of the untyped lambda calculus (<span class="citation" data-cites="barendregt84:_lambda_calculus">H. P. Barendregt (1984)</span>). In a graph model, the semantics is presented as a function from programs and environments to (possibly infinite) sets of values. The semantics in this chapter is instead defined as a relation, but set-valued functions are isomorphic to relations. Indeed, we present the semantics as a function in the next chapter and prove that it is equivalent to the relational version.</p><p>The ℘(ω) model of <span class="citation" data-cites="Scott:1976">Scott (1976)</span> and the B(A) model of <span class="citation" data-cites="Engeler:1981">Engeler (1981)</span> are two more examples of graph models. Both use the following inductive definition of <code>Value</code>.</p><pre><code>Value = C + ℘f(Value) × Value</code></pre><p>The use of <code>Value</code> instead of <code>℘f(Value)</code> in the output does not restrict expressiveness compared to Plotkin’s model because the semantics use sets of values and a pair of sets <code>(V, V′)</code> can be represented as a set of pairs <code>{ (V, v′) | v′ ∈ V′ }</code>. In Scott’s ℘(ω), the above values are mapped to and from the natural numbers using a kind of Godel encoding.</p><h2 id="unicode">Unicode</h2><p>This chapter uses the following unicode:</p><pre><code>⊥  U+22A5  UP TACK (\bot)
↦  U+21A6  RIGHTWARDS ARROW FROM BAR (\mapsto)
⊔  U+2294  SQUARE CUP (\lub)
⊑  U+2291  SQUARE IMAGE OF OR EQUAL TO (\sqsubseteq)
⨆ U+2A06  N-ARY SQUARE UNION OPERATOR (\Lub)
⊢  U+22A2  RIGHT TACK (\|- or \vdash)
↓  U+2193  DOWNWARDS ARROW (\d)
ᶜ  U+1D9C  MODIFIER LETTER SMALL C (\^c)
ℰ  U+2130  SCRIPT CAPITAL E (\McE)
≃  U+2243  ASYMPTOTICALLY EQUAL TO (\~- or \simeq)
∈  U+2208  ELEMENT OF (\in)
⊆  U+2286  SUBSET OF OR EQUAL TO (\sub= or \subseteq)</code></pre><h2 class="unnumbered" id="references">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list"><div id="ref-Alessi:2006" class="csl-entry" role="listitem">Alessi, Fabio, Franco Barbanera, and Mariangiola Dezani-Ciancaglini. 2006. <span>“Intersection Types and Lambda Models.”</span> <em>Theoretical Computer Science</em> 355 (2): 108–26.</div><div id="ref-barendregt84:_lambda_calculus" class="csl-entry" role="listitem">Barendregt, H. P. 1984. <em>The Lambda Calculus</em>. Vol. 103. Studies in Logic. Elsevier.</div><div id="ref-Barendregt:1983" class="csl-entry" role="listitem">Barendregt, Henk, Mario Coppo, and Mariangiola Dezani-Ciancaglini. 1983. <span>“A Filter Lambda Model and the Completeness of Type Assignment.”</span> <em>Journal of Symbolic Logic</em> 48 (4): 931–40. <a href="https://doi.org/10.2307/2273659">https://doi.org/10.2307/2273659</a>.</div><div id="ref-Barendregt:2013" class="csl-entry" role="listitem">Barendregt, Henk, Wil Dekkers, and Richard Statman. 2013. <em>Lambda Calculus with Types</em>. Perspectives in Logic. Cambridge University Press.</div><div id="ref-Coppo:1979" class="csl-entry" role="listitem">Coppo, M., M. Dezani-Ciancaglini, and P. Salle’. 1979. <span>“Functional Characterization of Some Semantic Equalities Inside Lambda-Calculus.”</span> In <em>Automata, Languages and Programming: Sixth Colloquium</em>, edited by Hermann A. Maurer, 133–46. Berlin, Heidelberg: Springer Berlin Heidelberg.</div><div id="ref-Engeler:1981" class="csl-entry" role="listitem">Engeler, Erwin. 1981. <span>“Algebras and Combinators.”</span> <em>Algebra Universalis</em> 13 (1): 389–92.</div><div id="ref-Plotkin:1972" class="csl-entry" role="listitem">Plotkin, Gordon D. 1972. <span>“A Set-Theoretical Definition of Application.”</span> MIP-R-95. University of Edinburgh.</div><div id="ref-Plotkin:1993" class="csl-entry" role="listitem">———. 1993. <span>“Set-Theoretical and Other Elementary Models of the λ-Calculus.”</span> <em>Theoretical Computer Science</em> 121 (1): 351–409.</div><div id="ref-Rocca:2004" class="csl-entry" role="listitem">Ronchi Della Rocca, Simona, and Luca Paolini. 2004. <em>The Parametric Lambda Calculus</em>. Springer.</div><div id="ref-Scott:1976" class="csl-entry" role="listitem">Scott, Dana. 1976. <span>“Data Types as Lattices.”</span> <em>SIAM Journal on Computing</em> 5 (3): 522–87.</div></div></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">Prev</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part3/Denotational.lagda.md">Source</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">Next</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">Programming Language Foundations in Agda</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>
<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../../../assets/css/light.css" integrity="sha512-Iet5P6T2OjpPNbRRAfA07eC3B8G+1UJ3G2AfJt2W8DSZoip3L4SeP/NsBQjh6SpoRhSCwBSlybhAjYDEHDEOqw==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../../../assets/css/dark.css" integrity="sha512-QeJAmAllnjIvujXwMJ8C6Wms1c7ULCVBi5jR3JQvhRLTq87Gu6EFDALUBAv98KUfhgrdTOvOcRJhWILyetVq2Q==" title="Dark" id="stylesheet-dark" disabled><title>Programming Language Foundations in Agda – Assignment3</title><script src="../../../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../../../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../../../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../../../">Programming Language Foundations in Agda</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../../../">The Book</a> <a class="page-link" href="../../../Announcements/">Announcements</a> <a class="page-link" href="../../../GettingStarted/">Getting Started</a> <a class="page-link" href="../../../Citing/">Citing</a> <a class="page-link" href="https://agda-zh.github.io/PLFA-zh/">中文</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../../../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/courses/TSPL/2024/Assignment3.lagda.md">Source</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Assignment3: TSPL Assignment 3</h1></header><div class="post-content"><pre class="Agda"><a id="TSPL.2024_Assignment3-95" class="Keyword">module</a> <a id="TSPL.2024_Assignment3-102" href="../../../TSPL/2024/Assignment3/#" class="Module">Assignment3</a> <a id="TSPL.2024_Assignment3-114" class="Keyword">where</a>
</pre><h2 id="your-name-and-email-goes-here">YOUR NAME AND EMAIL GOES HERE</h2><h2 id="introduction">Introduction</h2><p>You must do <em>all</em> the exercises labelled “(recommended)”.</p><p>Exercises labelled “(stretch)” are there to provide an extra challenge. You don’t need to do all of these, but should attempt at least a few.</p><p>Exercises labelled “(practice)” are included for those who want extra practice.</p><p>Submit your homework using Gradescope. Go to the course page under Learn. Select “Assessment”, then select “Assignment Submission”. Please ensure your files execute correctly under Agda!</p><h2 id="good-scholarly-practice.">Good Scholarly Practice.</h2><p>Please remember the University requirement as regards all assessed work. Details about this can be found at:</p><blockquote><p><a href="https://web.inf.ed.ac.uk/infweb/admin/policies/academic-misconduct">https://web.inf.ed.ac.uk/infweb/admin/policies/academic-misconduct</a></p></blockquote><p>You are required to take reasonable measures to protect your assessed work from unauthorised access. For example, if you put any such work on a public repository then you must set access permissions appropriately (generally permitting access only to yourself). Do not publish solutions to the coursework.</p><h2 id="deadline-and-late-policy">Deadline and late policy</h2><p>The deadline and late policy for this assignment are specified on Learn in the “Coursework Planner”. There are no extensions and no ETAs. Coursework is marked best three out of four. Guidance on late submissions is at</p><blockquote><p><a href="https://web.inf.ed.ac.uk/node/4533">https://web.inf.ed.ac.uk/node/4533</a></p></blockquote><h2 id="lists">Lists</h2><pre class="Agda"><a id="TSPL.2024_Assignment3-1571" class="Keyword">module</a> <a id="TSPL.2024_Assignment3-Lists"></a><a id="TSPL.2024_Assignment3-1578" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-1578" class="Module">Lists</a> <a id="TSPL.2024_Assignment3-1584" class="Keyword">where</a>
</pre><h2 id="imports">Imports</h2><pre class="Agda">  <a id="TSPL.2024_Assignment3-1617" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-1624" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="TSPL.2024_Assignment3-1662" class="Symbol">as</a> <a id="TSPL.2024_Assignment3-1665" class="Module">Eq</a>
  <a id="TSPL.2024_Assignment3-1670" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-1675" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="TSPL.2024_Assignment3-1678" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-1684" class="Symbol">(</a><a id="TSPL.2024_Assignment3-1685" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="TSPL.2024_Assignment3-1688" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1690" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="TSPL.2024_Assignment3-1694" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1696" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a><a id="TSPL.2024_Assignment3-1699" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1701" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a><a id="TSPL.2024_Assignment3-1706" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1708" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a><a id="TSPL.2024_Assignment3-1712" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-1716" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-1721" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Eq.≡-Reasoning</a>
  <a id="TSPL.2024_Assignment3-1738" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-1743" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-1750" href="https://agda.github.io/agda-stdlib/v2.1/Data.Bool.html" class="Module">Data.Bool</a> <a id="TSPL.2024_Assignment3-1760" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-1766" class="Symbol">(</a><a id="TSPL.2024_Assignment3-1767" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="TSPL.2024_Assignment3-1771" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1773" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="TSPL.2024_Assignment3-1777" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1779" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="TSPL.2024_Assignment3-1784" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1786" href="https://agda.github.io/agda-stdlib/v2.1/Data.Bool.Base.html#1348" class="Function">T</a><a id="TSPL.2024_Assignment3-1787" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1789" href="https://agda.github.io/agda-stdlib/v2.1/Data.Bool.Base.html#995" class="Function Operator">_∧_</a><a id="TSPL.2024_Assignment3-1792" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1794" href="https://agda.github.io/agda-stdlib/v2.1/Data.Bool.Base.html#1053" class="Function Operator">_∨_</a><a id="TSPL.2024_Assignment3-1797" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1799" href="https://agda.github.io/agda-stdlib/v2.1/Data.Bool.Base.html#941" class="Function">not</a><a id="TSPL.2024_Assignment3-1802" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-1806" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-1811" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-1818" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="TSPL.2024_Assignment3-1827" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-1833" class="Symbol">(</a><a id="TSPL.2024_Assignment3-1834" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="TSPL.2024_Assignment3-1835" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1837" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="TSPL.2024_Assignment3-1841" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1843" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="TSPL.2024_Assignment3-1846" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1848" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="TSPL.2024_Assignment3-1851" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1853" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="TSPL.2024_Assignment3-1856" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1858" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Base.html#4456" class="Primitive Operator">_∸_</a><a id="TSPL.2024_Assignment3-1861" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1863" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Base.html#1691" class="Datatype Operator">_≤_</a><a id="TSPL.2024_Assignment3-1866" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1868" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Base.html#1756" class="InductiveConstructor">s≤s</a><a id="TSPL.2024_Assignment3-1871" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1873" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Base.html#1714" class="InductiveConstructor">z≤n</a><a id="TSPL.2024_Assignment3-1876" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-1880" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-1885" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-1892" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="TSPL.2024_Assignment3-1912" class="Keyword">using</a>
    <a id="TSPL.2024_Assignment3-1922" class="Symbol">(</a><a id="TSPL.2024_Assignment3-1923" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Properties.html#15113" class="Function">+-assoc</a><a id="TSPL.2024_Assignment3-1930" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1932" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Properties.html#15214" class="Function">+-identityˡ</a><a id="TSPL.2024_Assignment3-1943" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1945" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Properties.html#15269" class="Function">+-identityʳ</a><a id="TSPL.2024_Assignment3-1956" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1958" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Properties.html#22674" class="Function">*-assoc</a><a id="TSPL.2024_Assignment3-1965" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1967" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Properties.html#21574" class="Function">*-identityˡ</a><a id="TSPL.2024_Assignment3-1978" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1980" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Properties.html#21638" class="Function">*-identityʳ</a><a id="TSPL.2024_Assignment3-1991" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-1993" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Properties.html#22188" class="Function">*-distribʳ-+</a><a id="TSPL.2024_Assignment3-2005" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-2009" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-2014" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-2021" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="TSPL.2024_Assignment3-2038" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-2044" class="Symbol">(</a><a id="TSPL.2024_Assignment3-2045" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="TSPL.2024_Assignment3-2047" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-2049" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a><a id="TSPL.2024_Assignment3-2052" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-2054" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a><a id="TSPL.2024_Assignment3-2057" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-2059" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a><a id="TSPL.2024_Assignment3-2061" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-2065" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-2070" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-2077" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.html" class="Module">Data.Product</a> <a id="TSPL.2024_Assignment3-2090" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-2096" class="Symbol">(</a><a id="TSPL.2024_Assignment3-2097" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="TSPL.2024_Assignment3-2100" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-2102" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#852" class="Function">∃</a><a id="TSPL.2024_Assignment3-2103" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-2105" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1371" class="Function">∃-syntax</a><a id="TSPL.2024_Assignment3-2113" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-2115" class="Keyword">renaming</a> <a id="TSPL.2024_Assignment3-2124" class="Symbol">(</a><a id="TSPL.2024_Assignment3-2125" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="TSPL.2024_Assignment3-2129" class="Symbol">to</a> <a id="TSPL.2024_Assignment3-2132" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="TSPL.2024_Assignment3-2137" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-2141" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-2146" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-2153" href="https://agda.github.io/agda-stdlib/v2.1/Function.html" class="Module">Function</a> <a id="TSPL.2024_Assignment3-2162" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-2168" class="Symbol">(</a><a id="TSPL.2024_Assignment3-2169" href="https://agda.github.io/agda-stdlib/v2.1/Function.Base.html#1115" class="Function Operator">_∘_</a><a id="TSPL.2024_Assignment3-2172" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-2176" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-2181" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-2188" href="https://agda.github.io/agda-stdlib/v2.1/Level.html" class="Module">Level</a> <a id="TSPL.2024_Assignment3-2194" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-2200" class="Symbol">(</a><a id="TSPL.2024_Assignment3-2201" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#742" class="Postulate">Level</a><a id="TSPL.2024_Assignment3-2206" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-2210" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-2215" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-2222" href="../../../Isomorphism/#" class="Module">plfa.part1.Isomorphism</a> <a id="TSPL.2024_Assignment3-2245" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-2251" class="Symbol">(</a><a id="TSPL.2024_Assignment3-2252" href="../../../Isomorphism/#plfa_plfa-part1-Isomorphism-4308" class="Record Operator">_≃_</a><a id="TSPL.2024_Assignment3-2255" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-2257" href="../../../Isomorphism/#plfa_plfa-part1-Isomorphism-12028" class="Record Operator">_⇔_</a><a id="TSPL.2024_Assignment3-2260" class="Symbol">)</a>
</pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-2274" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-2279" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-2286" href="../../../Lists/#" class="Module">plfa.part1.Lists</a>
    <a id="TSPL.2024_Assignment3-2307" class="Keyword">hiding</a> <a id="TSPL.2024_Assignment3-2314" class="Symbol">(</a><a id="TSPL.2024_Assignment3-2315" href="../../../Lists/#plfa_plfa-part1-Lists-18612" class="Function">downFrom</a><a id="TSPL.2024_Assignment3-2323" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-2325" href="../../../Lists/#plfa_plfa-part1-Lists-15160" class="Datatype">Tree</a><a id="TSPL.2024_Assignment3-2329" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-2331" href="../../../Lists/#plfa_plfa-part1-Lists-15191" class="InductiveConstructor">leaf</a><a id="TSPL.2024_Assignment3-2335" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-2337" href="../../../Lists/#plfa_plfa-part1-Lists-15213" class="InductiveConstructor">node</a><a id="TSPL.2024_Assignment3-2341" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-2343" href="../../../Lists/#plfa_plfa-part1-Lists-29051" class="Datatype">merge</a><a id="TSPL.2024_Assignment3-2348" class="Symbol">)</a>
</pre><h4 id="exercise-reverse--distrib-practice-recommended">Exercise <code>reverse-++-distrib</code> (practice) (recommended)</h4><p>Show that the reverse of one list appended to another is the reverse of the second appended to the reverse of the first:</p><pre><code>reverse (xs ++ ys) ≡ reverse ys ++ reverse xs</code></pre><h4 id="exercise-reverse-involutive-practice-recommended">Exercise <code>reverse-involutive</code> (practice) (recommended)</h4><p>A function is an <em>involution</em> if when applied twice it acts as the identity function. Show that reverse is an involution:</p><pre><code>reverse (reverse xs) ≡ xs</code></pre><h4 id="exercise-map-compose-practice">Exercise <code>map-compose</code> (practice)</h4><p>Prove that the map of a composition is equal to the composition of two maps:</p><pre><code>map (g ∘ f) ≡ map g ∘ map f</code></pre><p>The last step of the proof requires extensionality.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-3021" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-map--distribute-practice">Exercise <code>map-++-distribute</code> (practice)</h4><p>Prove the following relationship between map and append:</p><pre><code>map f (xs ++ ys) ≡ map f xs ++ map f ys</code></pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-3208" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-map-tree-practice">Exercise <code>map-Tree</code> (practice)</h4>Define a type of trees with leaves of type <code>A</code> and internal nodes of type <code>B</code>:<pre class="Agda">  <a id="TSPL.2024_Assignment3-3362" class="Keyword">data</a> <a id="TSPL.2024_Assignment3-Lists.Tree"></a><a id="TSPL.2024_Assignment3-3367" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3367" class="Datatype">Tree</a> <a id="TSPL.2024_Assignment3-3372" class="Symbol">(</a><a id="TSPL.2024_Assignment3-3373" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3373" class="Bound">A</a> <a id="TSPL.2024_Assignment3-3375" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3375" class="Bound">B</a> <a id="TSPL.2024_Assignment3-3377" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-3379" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a><a id="TSPL.2024_Assignment3-3382" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-3384" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-3386" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="TSPL.2024_Assignment3-3390" class="Keyword">where</a>
    <a id="TSPL.2024_Assignment3-Lists.Tree.leaf"></a><a id="TSPL.2024_Assignment3-3400" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3400" class="InductiveConstructor">leaf</a> <a id="TSPL.2024_Assignment3-3405" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-3407" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3373" class="Bound">A</a> <a id="TSPL.2024_Assignment3-3409" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-3411" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3367" class="Datatype">Tree</a> <a id="TSPL.2024_Assignment3-3416" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3373" class="Bound">A</a> <a id="TSPL.2024_Assignment3-3418" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3375" class="Bound">B</a>
    <a id="TSPL.2024_Assignment3-Lists.Tree.node"></a><a id="TSPL.2024_Assignment3-3424" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3424" class="InductiveConstructor">node</a> <a id="TSPL.2024_Assignment3-3429" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-3431" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3367" class="Datatype">Tree</a> <a id="TSPL.2024_Assignment3-3436" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3373" class="Bound">A</a> <a id="TSPL.2024_Assignment3-3438" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3375" class="Bound">B</a> <a id="TSPL.2024_Assignment3-3440" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-3442" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3375" class="Bound">B</a> <a id="TSPL.2024_Assignment3-3444" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-3446" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3367" class="Datatype">Tree</a> <a id="TSPL.2024_Assignment3-3451" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3373" class="Bound">A</a> <a id="TSPL.2024_Assignment3-3453" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3375" class="Bound">B</a> <a id="TSPL.2024_Assignment3-3455" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-3457" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3367" class="Datatype">Tree</a> <a id="TSPL.2024_Assignment3-3462" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3373" class="Bound">A</a> <a id="TSPL.2024_Assignment3-3464" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-3375" class="Bound">B</a>
</pre><p>Define a suitable map operator over trees:</p><pre><code>map-Tree : ∀ {A B C D : Set} → (A → C) → (B → D) → Tree A B → Tree C D</code></pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-3600" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-product-practice-was-recommended">Exercise <code>product</code> (practice) (was recommended)</h4><p>Use fold to define a function to find the product of a list of numbers. For example:</p><pre><code>product [ 1 , 2 , 3 , 4 ] ≡ 24</code></pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-3814" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-foldr--practice-was-recommended">Exercise <code>foldr-++</code> (practice) (was recommended)</h4><p>Show that fold and append are related as follows:</p><pre><code>foldr _⊗_ e (xs ++ ys) ≡ foldr _⊗_ (foldr _⊗_ e ys) xs</code></pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-4018" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-foldr--practice">Exercise <code>foldr-∷</code> (practice)</h4><p>Show</p><pre><code>foldr _∷_ [] xs ≡ xs</code></pre><p>Show as a consequence of <code>foldr-++</code> above that</p><pre><code>xs ++ ys ≡ foldr _∷_ ys xs</code></pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-4205" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-map-is-foldr-practice">Exercise <code>map-is-foldr</code> (practice)</h4><p>Show that map can be defined using fold:</p><pre><code>map f ≡ foldr (λ x xs → f x ∷ xs) []</code></pre><p>The proof requires extensionality.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-4404" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-fold-tree-practice">Exercise <code>fold-Tree</code> (practice)</h4><p>Define a suitable fold function for the type of trees given earlier:</p><pre><code>fold-Tree : ∀ {A B C : Set} → (A → C) → (C → B → C → C) → Tree A B → C</code></pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-4627" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-map-is-fold-tree-practice">Exercise <code>map-is-fold-Tree</code> (practice)</h4><p>Demonstrate an analogue of <code>map-is-foldr</code> for the type of trees.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-4776" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-sum-downfrom-practice-was-stretch">Exercise <code>sum-downFrom</code> (practice) (was stretch)</h4>Define a function that counts down as follows:<pre class="Agda">  <a id="TSPL.2024_Assignment3-Lists.downFrom"></a><a id="TSPL.2024_Assignment3-4916" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-4916" class="Function">downFrom</a> <a id="TSPL.2024_Assignment3-4925" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-4927" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="TSPL.2024_Assignment3-4929" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-4931" href="../../../Lists/#plfa_plfa-part1-Lists-1031" class="Datatype">List</a> <a id="TSPL.2024_Assignment3-4936" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="TSPL.2024_Assignment3-4940" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-4916" class="Function">downFrom</a> <a id="TSPL.2024_Assignment3-4949" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>     <a id="TSPL.2024_Assignment3-4958" class="Symbol">=</a>  <a id="TSPL.2024_Assignment3-4961" href="../../../Lists/#plfa_plfa-part1-Lists-1060" class="InductiveConstructor">[]</a>
  <a id="TSPL.2024_Assignment3-4966" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-4916" class="Function">downFrom</a> <a id="TSPL.2024_Assignment3-4975" class="Symbol">(</a><a id="TSPL.2024_Assignment3-4976" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="TSPL.2024_Assignment3-4980" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-4980" class="Bound">n</a><a id="TSPL.2024_Assignment3-4981" class="Symbol">)</a>  <a id="TSPL.2024_Assignment3-4984" class="Symbol">=</a>  <a id="TSPL.2024_Assignment3-4987" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-4980" class="Bound">n</a> <a id="TSPL.2024_Assignment3-4989" href="../../../Lists/#plfa_plfa-part1-Lists-1075" class="InductiveConstructor Operator">∷</a> <a id="TSPL.2024_Assignment3-4991" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-4916" class="Function">downFrom</a> <a id="TSPL.2024_Assignment3-5000" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-4980" class="Bound">n</a>
</pre>For example:<pre class="Agda">  <a id="TSPL.2024_Assignment3-5029" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-5029" class="Function">_</a> <a id="TSPL.2024_Assignment3-5031" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-5033" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-4916" class="Function">downFrom</a> <a id="TSPL.2024_Assignment3-5042" class="Number">3</a> <a id="TSPL.2024_Assignment3-5044" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="TSPL.2024_Assignment3-5046" href="../../../Lists/#plfa_plfa-part1-Lists-3041" class="InductiveConstructor Operator">[</a> <a id="TSPL.2024_Assignment3-5048" class="Number">2</a> <a id="TSPL.2024_Assignment3-5050" href="../../../Lists/#plfa_plfa-part1-Lists-3041" class="InductiveConstructor Operator">,</a> <a id="TSPL.2024_Assignment3-5052" class="Number">1</a> <a id="TSPL.2024_Assignment3-5054" href="../../../Lists/#plfa_plfa-part1-Lists-3041" class="InductiveConstructor Operator">,</a> <a id="TSPL.2024_Assignment3-5056" class="Number">0</a> <a id="TSPL.2024_Assignment3-5058" href="../../../Lists/#plfa_plfa-part1-Lists-3041" class="InductiveConstructor Operator">]</a>
  <a id="TSPL.2024_Assignment3-5062" class="Symbol">_</a> <a id="TSPL.2024_Assignment3-5064" class="Symbol">=</a> <a id="TSPL.2024_Assignment3-5066" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>Prove that the sum of the numbers <code>(n - 1) + ⋯ + 0</code> is equal to <code>n * (n ∸ 1) / 2</code>:</p><pre><code>sum (downFrom n) * 2 ≡ n * (n ∸ 1)</code></pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-5209" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-foldl-practice">Exercise <code>foldl</code> (practice)</h4><p>Define a function <code>foldl</code> which is analogous to <code>foldr</code>, but where operations associate to the left rather than the right. For example:</p><pre><code>foldr _⊗_ e [ x , y , z ]  =  x ⊗ (y ⊗ (z ⊗ e))
foldl _⊗_ e [ x , y , z ]  =  ((e ⊗ x) ⊗ y) ⊗ z</code></pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-5524" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-foldr-monoid-foldl-practice">Exercise <code>foldr-monoid-foldl</code> (practice)</h4><p>Show that if <code>_⊗_</code> and <code>e</code> form a monoid, then <code>foldr _⊗_ e</code> and <code>foldl _⊗_ e</code> always compute the same result.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-5722" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-any---practice-was-recommended">Exercise <code>Any-++-⇔</code> (practice) (was recommended)</h4><p>Prove a result similar to <code>All-++-⇔</code>, but with <code>Any</code> in place of <code>All</code>, and a suitable replacement for <code>_×_</code>. As a consequence, demonstrate an equivalence relating <code>_∈_</code> and <code>_++_</code>.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-6000" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-all---practice-was-stretch">Exercise <code>All-++-≃</code> (practice) (was stretch)</h4><p>Show that the equivalence <code>All-++-⇔</code> can be extended to an isomorphism.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-6162" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-anyall-practice-was-recommended">Exercise <code>¬Any⇔All¬</code> (practice) (was recommended)</h4><p>Show that <code>Any</code> and <code>All</code> satisfy a version of De Morgan’s Law:</p><pre><code>(¬_ ∘ Any P) xs ⇔ All (¬_ ∘ P) xs</code></pre><p>(Can you see why it is important that here <code>_∘_</code> is generalised to arbitrary levels, as described in the section on <a href="../../../Equality/#unipoly">universe polymorphism</a>?)</p><p>Do we also have the following?</p><pre><code>(¬_ ∘ All P) xs ⇔ Any (¬_ ∘ P) xs</code></pre><p>If so, prove; if not, explain why.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-6631" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-anyall-practice-was-stretch">Exercise <code>¬Any≃All¬</code> (practice) (was stretch)</h4><p>Show that the equivalence <code>¬Any⇔All¬</code> can be extended to an isomorphism. You will need to use extensionality.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-6832" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-all--practice">Exercise <code>All-∀</code> (practice)</h4><p>Show that <code>All P xs</code> is isomorphic to <code>∀ x → x ∈ xs → P x</code>.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-6965" class="Comment">-- You code goes here</a>
</pre><h4 id="exercise-any--practice">Exercise <code>Any-∃</code> (practice)</h4><p>Show that <code>Any P xs</code> is isomorphic to <code>∃[ x ] (x ∈ xs × P x)</code>.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-7101" class="Comment">-- You code goes here</a>
</pre><h4 id="exercise-any-practice-was-stretch">Exercise <code>Any?</code> (practice) (was stretch)</h4><p>Just as <code>All</code> has analogues <code>all</code> and <code>All?</code> which determine whether a predicate holds for every element of a list, so does <code>Any</code> have analogues <code>any</code> and <code>Any?</code> which determine whether a predicate holds for some element of a list. Give their definitions.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-7444" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-split-practice-was-stretch">Exercise <code>split</code> (practice) (was stretch)</h4>The relation <code>merge</code> holds when two lists merge to give a third list.<pre class="Agda">  <a id="TSPL.2024_Assignment3-7601" class="Keyword">data</a> <a id="TSPL.2024_Assignment3-Lists.merge"></a><a id="TSPL.2024_Assignment3-7606" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7606" class="Datatype">merge</a> <a id="TSPL.2024_Assignment3-7612" class="Symbol">{</a><a id="TSPL.2024_Assignment3-7613" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7613" class="Bound">A</a> <a id="TSPL.2024_Assignment3-7615" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-7617" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a><a id="TSPL.2024_Assignment3-7620" class="Symbol">}</a> <a id="TSPL.2024_Assignment3-7622" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-7624" class="Symbol">(</a><a id="TSPL.2024_Assignment3-7625" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7625" class="Bound">xs</a> <a id="TSPL.2024_Assignment3-7628" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7628" class="Bound">ys</a> <a id="TSPL.2024_Assignment3-7631" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7631" class="Bound">zs</a> <a id="TSPL.2024_Assignment3-7634" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-7636" href="../../../Lists/#plfa_plfa-part1-Lists-1031" class="Datatype">List</a> <a id="TSPL.2024_Assignment3-7641" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7613" class="Bound">A</a><a id="TSPL.2024_Assignment3-7642" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-7644" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-7646" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="TSPL.2024_Assignment3-7650" class="Keyword">where</a>

    <a id="TSPL.2024_Assignment3-Lists.merge.[]"></a><a id="TSPL.2024_Assignment3-7661" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7661" class="InductiveConstructor">[]</a> <a id="TSPL.2024_Assignment3-7664" class="Symbol">:</a>
        <a id="TSPL.2024_Assignment3-7674" class="Comment">--------------</a>
        <a id="TSPL.2024_Assignment3-7697" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7606" class="Datatype">merge</a> <a id="TSPL.2024_Assignment3-7703" href="../../../Lists/#plfa_plfa-part1-Lists-1060" class="InductiveConstructor">[]</a> <a id="TSPL.2024_Assignment3-7706" href="../../../Lists/#plfa_plfa-part1-Lists-1060" class="InductiveConstructor">[]</a> <a id="TSPL.2024_Assignment3-7709" href="../../../Lists/#plfa_plfa-part1-Lists-1060" class="InductiveConstructor">[]</a>

    <a id="TSPL.2024_Assignment3-Lists.merge.left-∷"></a><a id="TSPL.2024_Assignment3-7717" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7717" class="InductiveConstructor">left-∷</a> <a id="TSPL.2024_Assignment3-7724" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-7726" class="Symbol">∀</a> <a id="TSPL.2024_Assignment3-7728" class="Symbol">{</a><a id="TSPL.2024_Assignment3-7729" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7729" class="Bound">x</a> <a id="TSPL.2024_Assignment3-7731" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7731" class="Bound">xs</a> <a id="TSPL.2024_Assignment3-7734" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7734" class="Bound">ys</a> <a id="TSPL.2024_Assignment3-7737" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7737" class="Bound">zs</a><a id="TSPL.2024_Assignment3-7739" class="Symbol">}</a>
      <a id="TSPL.2024_Assignment3-7747" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-7749" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7606" class="Datatype">merge</a> <a id="TSPL.2024_Assignment3-7755" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7731" class="Bound">xs</a> <a id="TSPL.2024_Assignment3-7758" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7734" class="Bound">ys</a> <a id="TSPL.2024_Assignment3-7761" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7737" class="Bound">zs</a>
        <a id="TSPL.2024_Assignment3-7772" class="Comment">--------------------------</a>
      <a id="TSPL.2024_Assignment3-7805" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-7807" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7606" class="Datatype">merge</a> <a id="TSPL.2024_Assignment3-7813" class="Symbol">(</a><a id="TSPL.2024_Assignment3-7814" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7729" class="Bound">x</a> <a id="TSPL.2024_Assignment3-7816" href="../../../Lists/#plfa_plfa-part1-Lists-1075" class="InductiveConstructor Operator">∷</a> <a id="TSPL.2024_Assignment3-7818" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7731" class="Bound">xs</a><a id="TSPL.2024_Assignment3-7820" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-7822" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7734" class="Bound">ys</a> <a id="TSPL.2024_Assignment3-7825" class="Symbol">(</a><a id="TSPL.2024_Assignment3-7826" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7729" class="Bound">x</a> <a id="TSPL.2024_Assignment3-7828" href="../../../Lists/#plfa_plfa-part1-Lists-1075" class="InductiveConstructor Operator">∷</a> <a id="TSPL.2024_Assignment3-7830" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7737" class="Bound">zs</a><a id="TSPL.2024_Assignment3-7832" class="Symbol">)</a>

    <a id="TSPL.2024_Assignment3-Lists.merge.right-∷"></a><a id="TSPL.2024_Assignment3-7839" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7839" class="InductiveConstructor">right-∷</a> <a id="TSPL.2024_Assignment3-7847" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-7849" class="Symbol">∀</a> <a id="TSPL.2024_Assignment3-7851" class="Symbol">{</a><a id="TSPL.2024_Assignment3-7852" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7852" class="Bound">y</a> <a id="TSPL.2024_Assignment3-7854" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7854" class="Bound">xs</a> <a id="TSPL.2024_Assignment3-7857" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7857" class="Bound">ys</a> <a id="TSPL.2024_Assignment3-7860" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7860" class="Bound">zs</a><a id="TSPL.2024_Assignment3-7862" class="Symbol">}</a>
      <a id="TSPL.2024_Assignment3-7870" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-7872" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7606" class="Datatype">merge</a> <a id="TSPL.2024_Assignment3-7878" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7854" class="Bound">xs</a> <a id="TSPL.2024_Assignment3-7881" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7857" class="Bound">ys</a> <a id="TSPL.2024_Assignment3-7884" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7860" class="Bound">zs</a>
        <a id="TSPL.2024_Assignment3-7895" class="Comment">--------------------------</a>
      <a id="TSPL.2024_Assignment3-7928" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-7930" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7606" class="Datatype">merge</a> <a id="TSPL.2024_Assignment3-7936" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7854" class="Bound">xs</a> <a id="TSPL.2024_Assignment3-7939" class="Symbol">(</a><a id="TSPL.2024_Assignment3-7940" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7852" class="Bound">y</a> <a id="TSPL.2024_Assignment3-7942" href="../../../Lists/#plfa_plfa-part1-Lists-1075" class="InductiveConstructor Operator">∷</a> <a id="TSPL.2024_Assignment3-7944" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7857" class="Bound">ys</a><a id="TSPL.2024_Assignment3-7946" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-7948" class="Symbol">(</a><a id="TSPL.2024_Assignment3-7949" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7852" class="Bound">y</a> <a id="TSPL.2024_Assignment3-7951" href="../../../Lists/#plfa_plfa-part1-Lists-1075" class="InductiveConstructor Operator">∷</a> <a id="TSPL.2024_Assignment3-7953" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7860" class="Bound">zs</a><a id="TSPL.2024_Assignment3-7955" class="Symbol">)</a>
</pre>For example,<pre class="Agda">  <a id="TSPL.2024_Assignment3-7985" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7985" class="Function">_</a> <a id="TSPL.2024_Assignment3-7987" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-7989" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7606" class="Datatype">merge</a> <a id="TSPL.2024_Assignment3-7995" href="../../../Lists/#plfa_plfa-part1-Lists-3010" class="InductiveConstructor Operator">[</a> <a id="TSPL.2024_Assignment3-7997" class="Number">1</a> <a id="TSPL.2024_Assignment3-7999" href="../../../Lists/#plfa_plfa-part1-Lists-3010" class="InductiveConstructor Operator">,</a> <a id="TSPL.2024_Assignment3-8001" class="Number">4</a> <a id="TSPL.2024_Assignment3-8003" href="../../../Lists/#plfa_plfa-part1-Lists-3010" class="InductiveConstructor Operator">]</a> <a id="TSPL.2024_Assignment3-8005" href="../../../Lists/#plfa_plfa-part1-Lists-3010" class="InductiveConstructor Operator">[</a> <a id="TSPL.2024_Assignment3-8007" class="Number">2</a> <a id="TSPL.2024_Assignment3-8009" href="../../../Lists/#plfa_plfa-part1-Lists-3010" class="InductiveConstructor Operator">,</a> <a id="TSPL.2024_Assignment3-8011" class="Number">3</a> <a id="TSPL.2024_Assignment3-8013" href="../../../Lists/#plfa_plfa-part1-Lists-3010" class="InductiveConstructor Operator">]</a> <a id="TSPL.2024_Assignment3-8015" href="../../../Lists/#plfa_plfa-part1-Lists-3080" class="InductiveConstructor Operator">[</a> <a id="TSPL.2024_Assignment3-8017" class="Number">1</a> <a id="TSPL.2024_Assignment3-8019" href="../../../Lists/#plfa_plfa-part1-Lists-3080" class="InductiveConstructor Operator">,</a> <a id="TSPL.2024_Assignment3-8021" class="Number">2</a> <a id="TSPL.2024_Assignment3-8023" href="../../../Lists/#plfa_plfa-part1-Lists-3080" class="InductiveConstructor Operator">,</a> <a id="TSPL.2024_Assignment3-8025" class="Number">3</a> <a id="TSPL.2024_Assignment3-8027" href="../../../Lists/#plfa_plfa-part1-Lists-3080" class="InductiveConstructor Operator">,</a> <a id="TSPL.2024_Assignment3-8029" class="Number">4</a> <a id="TSPL.2024_Assignment3-8031" href="../../../Lists/#plfa_plfa-part1-Lists-3080" class="InductiveConstructor Operator">]</a>
  <a id="TSPL.2024_Assignment3-8035" class="Symbol">_</a> <a id="TSPL.2024_Assignment3-8037" class="Symbol">=</a> <a id="TSPL.2024_Assignment3-8039" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7717" class="InductiveConstructor">left-∷</a> <a id="TSPL.2024_Assignment3-8046" class="Symbol">(</a><a id="TSPL.2024_Assignment3-8047" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7839" class="InductiveConstructor">right-∷</a> <a id="TSPL.2024_Assignment3-8055" class="Symbol">(</a><a id="TSPL.2024_Assignment3-8056" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7839" class="InductiveConstructor">right-∷</a> <a id="TSPL.2024_Assignment3-8064" class="Symbol">(</a><a id="TSPL.2024_Assignment3-8065" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7717" class="InductiveConstructor">left-∷</a> <a id="TSPL.2024_Assignment3-8072" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-7661" class="InductiveConstructor">[]</a><a id="TSPL.2024_Assignment3-8074" class="Symbol">)))</a>

</pre><p>Given a decidable predicate and a list, we can split the list into two lists that merge to give the original list, where all elements of one list satisfy the predicate, and all elements of the other do not satisfy the predicate.</p><p>Define the following variant of the traditional <code>filter</code> function on lists, which given a decidable predicate and a list returns a list of elements that satisfy the predicate and a list of elements that don’t, with their corresponding proofs.</p><pre><code>split : ∀ {A : Set} {P : A → Set} (P? : Decidable P) (zs : List A)
  → ∃[ xs ] ∃[ ys ] ( merge xs ys zs × All P xs × All (¬_ ∘ P) ys )</code></pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-8712" class="Comment">-- Your code goes here</a>
</pre><h2 id="lambda">Lambda</h2><pre class="Agda"><a id="TSPL.2024_Assignment3-8756" class="Keyword">module</a> <a id="TSPL.2024_Assignment3-Lambda"></a><a id="TSPL.2024_Assignment3-8763" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-8763" class="Module">Lambda</a> <a id="TSPL.2024_Assignment3-8770" class="Keyword">where</a>
</pre><h2 id="imports-1">Imports</h2><pre class="Agda">  <a id="TSPL.2024_Assignment3-8803" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-8808" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-8815" href="https://agda.github.io/agda-stdlib/v2.1/Data.Bool.html" class="Module">Data.Bool</a> <a id="TSPL.2024_Assignment3-8825" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-8831" class="Symbol">(</a><a id="TSPL.2024_Assignment3-8832" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="TSPL.2024_Assignment3-8836" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-8838" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="TSPL.2024_Assignment3-8842" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-8844" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="TSPL.2024_Assignment3-8849" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-8851" href="https://agda.github.io/agda-stdlib/v2.1/Data.Bool.Base.html#1348" class="Function">T</a><a id="TSPL.2024_Assignment3-8852" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-8854" href="https://agda.github.io/agda-stdlib/v2.1/Data.Bool.Base.html#941" class="Function">not</a><a id="TSPL.2024_Assignment3-8857" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-8861" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-8866" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-8873" href="https://agda.github.io/agda-stdlib/v2.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="TSPL.2024_Assignment3-8884" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-8890" class="Symbol">(</a><a id="TSPL.2024_Assignment3-8891" href="https://agda.github.io/agda-stdlib/v2.1/Data.Empty.html#914" class="Function">⊥</a><a id="TSPL.2024_Assignment3-8892" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-8894" href="https://agda.github.io/agda-stdlib/v2.1/Data.Empty.html#1069" class="Function">⊥-elim</a><a id="TSPL.2024_Assignment3-8900" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-8904" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-8909" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-8916" href="https://agda.github.io/agda-stdlib/v2.1/Data.List.html" class="Module">Data.List</a> <a id="TSPL.2024_Assignment3-8926" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-8932" class="Symbol">(</a><a id="TSPL.2024_Assignment3-8933" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.List.html#147" class="Datatype">List</a><a id="TSPL.2024_Assignment3-8937" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-8939" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a><a id="TSPL.2024_Assignment3-8942" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-8944" href="https://agda.github.io/agda-stdlib/v2.1/Data.List.Base.html#7599" class="InductiveConstructor">[]</a><a id="TSPL.2024_Assignment3-8946" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-8950" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-8955" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-8962" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="TSPL.2024_Assignment3-8971" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-8977" class="Symbol">(</a><a id="TSPL.2024_Assignment3-8978" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="TSPL.2024_Assignment3-8979" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-8981" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="TSPL.2024_Assignment3-8985" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-8987" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="TSPL.2024_Assignment3-8990" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-8994" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-8999" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-9006" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.html" class="Module">Data.Product</a> <a id="TSPL.2024_Assignment3-9019" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-9025" class="Symbol">(</a><a id="TSPL.2024_Assignment3-9026" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1371" class="Function">∃-syntax</a><a id="TSPL.2024_Assignment3-9034" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9036" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="TSPL.2024_Assignment3-9039" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-9043" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-9048" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-9055" href="https://agda.github.io/agda-stdlib/v2.1/Data.String.html" class="Module">Data.String</a> <a id="TSPL.2024_Assignment3-9067" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-9073" class="Symbol">(</a><a id="TSPL.2024_Assignment3-9074" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.String.html#335" class="Postulate">String</a><a id="TSPL.2024_Assignment3-9080" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9082" href="https://agda.github.io/agda-stdlib/v2.1/Data.String.Properties.html#2733" class="Function Operator">_≟_</a><a id="TSPL.2024_Assignment3-9085" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-9089" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-9094" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-9101" href="https://agda.github.io/agda-stdlib/v2.1/Data.Unit.html" class="Module">Data.Unit</a> <a id="TSPL.2024_Assignment3-9111" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-9117" class="Symbol">(</a><a id="TSPL.2024_Assignment3-9118" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="TSPL.2024_Assignment3-9120" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-9124" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-9129" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-9136" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="TSPL.2024_Assignment3-9153" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-9159" class="Symbol">(</a><a id="TSPL.2024_Assignment3-9160" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a><a id="TSPL.2024_Assignment3-9163" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9165" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a><a id="TSPL.2024_Assignment3-9168" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9170" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a><a id="TSPL.2024_Assignment3-9172" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9174" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="TSPL.2024_Assignment3-9176" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-9180" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-9185" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-9192" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="TSPL.2024_Assignment3-9219" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-9225" class="Symbol">(</a><a id="TSPL.2024_Assignment3-9226" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#4518" class="Function">False</a><a id="TSPL.2024_Assignment3-9231" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9233" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#5108" class="Function">toWitnessFalse</a><a id="TSPL.2024_Assignment3-9247" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-9251" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-9256" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-9263" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="TSPL.2024_Assignment3-9289" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-9295" class="Symbol">(</a><a id="TSPL.2024_Assignment3-9296" class="Deadcode">¬?</a><a id="TSPL.2024_Assignment3-9298" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-9302" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-9307" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-9314" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="TSPL.2024_Assignment3-9352" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-9358" class="Symbol">(</a><a id="TSPL.2024_Assignment3-9359" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="TSPL.2024_Assignment3-9362" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9364" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">_≢_</a><a id="TSPL.2024_Assignment3-9367" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9369" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="TSPL.2024_Assignment3-9373" class="Symbol">)</a>
</pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-9386" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-9391" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-9398" href="../../../Lambda/#" class="Module">plfa.part2.Lambda</a>
    <a id="TSPL.2024_Assignment3-9420" class="Keyword">hiding</a> <a id="TSPL.2024_Assignment3-9427" class="Symbol">(</a><a id="TSPL.2024_Assignment3-9428" href="../../../Lambda/#plfa_plfa-part2-Lambda-7455" class="Function">var?</a><a id="TSPL.2024_Assignment3-9432" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9434" href="../../../Lambda/#plfa_plfa-part2-Lambda-7522" class="Function Operator">ƛ′_⇒_</a><a id="TSPL.2024_Assignment3-9439" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9441" href="../../../Lambda/#plfa_plfa-part2-Lambda-7599" class="Function Operator">case′_[zero⇒_|suc_⇒_]</a><a id="TSPL.2024_Assignment3-9462" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9464" href="../../../Lambda/#plfa_plfa-part2-Lambda-7749" class="Function Operator">μ′_⇒_</a><a id="TSPL.2024_Assignment3-9469" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-9471" href="../../../Lambda/#plfa_plfa-part2-Lambda-8528" class="Function">plus′</a><a id="TSPL.2024_Assignment3-9476" class="Symbol">)</a>
</pre><h4 id="exercise-mul-recommended">Exercise <code>mul</code> (recommended)</h4><p>Write out the definition of a lambda term that multiplies two natural numbers. Your definition may use <code>plus</code> as defined earlier.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-9660" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-mulᶜ-practice">Exercise <code>mulᶜ</code> (practice)</h4><p>Write out the definition of a lambda term that multiplies two natural numbers represented as Church numerals. Your definition may use <code>plusᶜ</code> as defined earlier (or may not — there are nice definitions both ways).</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-9947" class="Comment">-- Your code goes here</a>
</pre><h4 id="primed">Exercise <code>primed</code> (stretch)</h4>Some people find it annoying to write <code>` &quot;x&quot;</code> instead of <code>x</code>. We can make examples with lambda terms slightly easier to write by adding the following definitions:<pre class="Agda">  <a id="TSPL.2024_Assignment3-Lambda.var?"></a><a id="TSPL.2024_Assignment3-10197" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10197" class="Function">var?</a> <a id="TSPL.2024_Assignment3-10202" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-10204" class="Symbol">(</a><a id="TSPL.2024_Assignment3-10205" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10205" class="Bound">t</a> <a id="TSPL.2024_Assignment3-10207" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-10209" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a><a id="TSPL.2024_Assignment3-10213" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-10215" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10217" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="TSPL.2024_Assignment3-10224" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10197" class="Function">var?</a> <a id="TSPL.2024_Assignment3-10229" class="Symbol">(</a><a id="TSPL.2024_Assignment3-10230" href="../../../Lambda/#plfa_plfa-part2-Lambda-3948" class="InductiveConstructor Operator">`</a> <a id="TSPL.2024_Assignment3-10232" class="Symbol">_)</a>  <a id="TSPL.2024_Assignment3-10236" class="Symbol">=</a>  <a id="TSPL.2024_Assignment3-10239" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="TSPL.2024_Assignment3-10246" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10197" class="CatchallClause Function">var?</a><a id="TSPL.2024_Assignment3-10250" class="CatchallClause"> </a><a id="TSPL.2024_Assignment3-10251" class="CatchallClause Symbol">_</a>      <a id="TSPL.2024_Assignment3-10258" class="Symbol">=</a>  <a id="TSPL.2024_Assignment3-10261" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="TSPL.2024_Assignment3-Lambda.ƛ′_⇒_"></a><a id="TSPL.2024_Assignment3-10270" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10270" class="Function Operator">ƛ′_⇒_</a> <a id="TSPL.2024_Assignment3-10276" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-10278" class="Symbol">(</a><a id="TSPL.2024_Assignment3-10279" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10279" class="Bound">t</a> <a id="TSPL.2024_Assignment3-10281" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-10283" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a><a id="TSPL.2024_Assignment3-10287" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-10289" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10291" class="Symbol">{</a><a id="TSPL.2024_Assignment3-10292" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10292" class="Symbol">_</a> <a id="TSPL.2024_Assignment3-10294" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-10296" href="https://agda.github.io/agda-stdlib/v2.1/Data.Bool.Base.html#1348" class="Function">T</a> <a id="TSPL.2024_Assignment3-10298" class="Symbol">(</a><a id="TSPL.2024_Assignment3-10299" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10197" class="Function">var?</a> <a id="TSPL.2024_Assignment3-10304" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10279" class="Bound">t</a><a id="TSPL.2024_Assignment3-10305" class="Symbol">)}</a> <a id="TSPL.2024_Assignment3-10308" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10310" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a> <a id="TSPL.2024_Assignment3-10315" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10317" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a>
  <a id="TSPL.2024_Assignment3-10324" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10270" class="Function Operator">ƛ′_⇒_</a> <a id="TSPL.2024_Assignment3-10330" class="Symbol">(</a><a id="TSPL.2024_Assignment3-10331" href="../../../Lambda/#plfa_plfa-part2-Lambda-3948" class="InductiveConstructor Operator">`</a> <a id="TSPL.2024_Assignment3-10333" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10333" class="Bound">x</a><a id="TSPL.2024_Assignment3-10334" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-10336" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10336" class="Bound">N</a> <a id="TSPL.2024_Assignment3-10338" class="Symbol">=</a> <a id="TSPL.2024_Assignment3-10340" href="../../../Lambda/#plfa_plfa-part2-Lambda-3987" class="InductiveConstructor Operator">ƛ</a> <a id="TSPL.2024_Assignment3-10342" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10333" class="Bound">x</a> <a id="TSPL.2024_Assignment3-10344" href="../../../Lambda/#plfa_plfa-part2-Lambda-3987" class="InductiveConstructor Operator">⇒</a> <a id="TSPL.2024_Assignment3-10346" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10336" class="Bound">N</a>

  <a id="TSPL.2024_Assignment3-Lambda.case′_[zero⇒_|suc_⇒_]"></a><a id="TSPL.2024_Assignment3-10351" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10351" class="Function Operator">case′_[zero⇒_|suc_⇒_]</a> <a id="TSPL.2024_Assignment3-10373" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-10375" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a> <a id="TSPL.2024_Assignment3-10380" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10382" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a> <a id="TSPL.2024_Assignment3-10387" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10389" class="Symbol">(</a><a id="TSPL.2024_Assignment3-10390" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10390" class="Bound">t</a> <a id="TSPL.2024_Assignment3-10392" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-10394" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a><a id="TSPL.2024_Assignment3-10398" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-10400" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10402" class="Symbol">{</a><a id="TSPL.2024_Assignment3-10403" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10403" class="Symbol">_</a> <a id="TSPL.2024_Assignment3-10405" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-10407" href="https://agda.github.io/agda-stdlib/v2.1/Data.Bool.Base.html#1348" class="Function">T</a> <a id="TSPL.2024_Assignment3-10409" class="Symbol">(</a><a id="TSPL.2024_Assignment3-10410" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10197" class="Function">var?</a> <a id="TSPL.2024_Assignment3-10415" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10390" class="Bound">t</a><a id="TSPL.2024_Assignment3-10416" class="Symbol">)}</a> <a id="TSPL.2024_Assignment3-10419" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10421" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a> <a id="TSPL.2024_Assignment3-10426" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10428" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a>
  <a id="TSPL.2024_Assignment3-10435" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10351" class="Function Operator">case′</a> <a id="TSPL.2024_Assignment3-10441" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10441" class="Bound">L</a> <a id="TSPL.2024_Assignment3-10443" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10351" class="Function Operator">[zero⇒</a> <a id="TSPL.2024_Assignment3-10450" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10450" class="Bound">M</a> <a id="TSPL.2024_Assignment3-10452" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10351" class="Function Operator">|suc</a> <a id="TSPL.2024_Assignment3-10457" class="Symbol">(</a><a id="TSPL.2024_Assignment3-10458" href="../../../Lambda/#plfa_plfa-part2-Lambda-3948" class="InductiveConstructor Operator">`</a> <a id="TSPL.2024_Assignment3-10460" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10460" class="Bound">x</a><a id="TSPL.2024_Assignment3-10461" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-10463" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10351" class="Function Operator">⇒</a> <a id="TSPL.2024_Assignment3-10465" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10465" class="Bound">N</a> <a id="TSPL.2024_Assignment3-10467" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10351" class="Function Operator">]</a>  <a id="TSPL.2024_Assignment3-10470" class="Symbol">=</a>  <a id="TSPL.2024_Assignment3-10473" href="../../../Lambda/#plfa_plfa-part2-Lambda-4156" class="InductiveConstructor Operator">case</a> <a id="TSPL.2024_Assignment3-10478" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10441" class="Bound">L</a> <a id="TSPL.2024_Assignment3-10480" href="../../../Lambda/#plfa_plfa-part2-Lambda-4156" class="InductiveConstructor Operator">[zero⇒</a> <a id="TSPL.2024_Assignment3-10487" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10450" class="Bound">M</a> <a id="TSPL.2024_Assignment3-10489" href="../../../Lambda/#plfa_plfa-part2-Lambda-4156" class="InductiveConstructor Operator">|suc</a> <a id="TSPL.2024_Assignment3-10494" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10460" class="Bound">x</a> <a id="TSPL.2024_Assignment3-10496" href="../../../Lambda/#plfa_plfa-part2-Lambda-4156" class="InductiveConstructor Operator">⇒</a> <a id="TSPL.2024_Assignment3-10498" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10465" class="Bound">N</a> <a id="TSPL.2024_Assignment3-10500" href="../../../Lambda/#plfa_plfa-part2-Lambda-4156" class="InductiveConstructor Operator">]</a>

  <a id="TSPL.2024_Assignment3-Lambda.μ′_⇒_"></a><a id="TSPL.2024_Assignment3-10505" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10505" class="Function Operator">μ′_⇒_</a> <a id="TSPL.2024_Assignment3-10511" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-10513" class="Symbol">(</a><a id="TSPL.2024_Assignment3-10514" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10514" class="Bound">t</a> <a id="TSPL.2024_Assignment3-10516" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-10518" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a><a id="TSPL.2024_Assignment3-10522" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-10524" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10526" class="Symbol">{</a><a id="TSPL.2024_Assignment3-10527" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10527" class="Symbol">_</a> <a id="TSPL.2024_Assignment3-10529" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-10531" href="https://agda.github.io/agda-stdlib/v2.1/Data.Bool.Base.html#1348" class="Function">T</a> <a id="TSPL.2024_Assignment3-10533" class="Symbol">(</a><a id="TSPL.2024_Assignment3-10534" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10197" class="Function">var?</a> <a id="TSPL.2024_Assignment3-10539" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10514" class="Bound">t</a><a id="TSPL.2024_Assignment3-10540" class="Symbol">)}</a> <a id="TSPL.2024_Assignment3-10543" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10545" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a> <a id="TSPL.2024_Assignment3-10550" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-10552" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a>
  <a id="TSPL.2024_Assignment3-10559" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10505" class="Function Operator">μ′</a> <a id="TSPL.2024_Assignment3-10562" class="Symbol">(</a><a id="TSPL.2024_Assignment3-10563" href="../../../Lambda/#plfa_plfa-part2-Lambda-3948" class="InductiveConstructor Operator">`</a> <a id="TSPL.2024_Assignment3-10565" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10565" class="Bound">x</a><a id="TSPL.2024_Assignment3-10566" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-10568" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10505" class="Function Operator">⇒</a> <a id="TSPL.2024_Assignment3-10570" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10570" class="Bound">N</a>  <a id="TSPL.2024_Assignment3-10573" class="Symbol">=</a>  <a id="TSPL.2024_Assignment3-10576" href="../../../Lambda/#plfa_plfa-part2-Lambda-4216" class="InductiveConstructor Operator">μ</a> <a id="TSPL.2024_Assignment3-10578" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10565" class="Bound">x</a> <a id="TSPL.2024_Assignment3-10580" href="../../../Lambda/#plfa_plfa-part2-Lambda-4216" class="InductiveConstructor Operator">⇒</a> <a id="TSPL.2024_Assignment3-10582" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10570" class="Bound">N</a>
</pre><p>Recall that <code>T</code> is a function that maps from the computation world to the evidence world, as <a href="../../../Decidable/#relating-evidence-and-computation">defined</a> in Chapter <a href="../../../Decidable/">Decidable</a>. We ensure to use the primed functions only when the respective term argument is a variable, which we do by providing implicit evidence. For example, if we tried to define an abstraction term that binds anything but a variable:</p><pre><code>_ : Term
_ = ƛ′ two ⇒ two</code></pre><p>Agda would complain it cannot find a value of the bottom type for the implicit argument. Note the implicit argument’s type reduces to <code>⊥</code> when term <code>t</code> is anything but a variable.</p>The definition of <code>plus</code> can now be written as follows:<pre class="Agda">  <a id="TSPL.2024_Assignment3-Lambda.plus′"></a><a id="TSPL.2024_Assignment3-11288" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11288" class="Function">plus′</a> <a id="TSPL.2024_Assignment3-11294" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-11296" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a>
  <a id="TSPL.2024_Assignment3-11303" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11288" class="Function">plus′</a> <a id="TSPL.2024_Assignment3-11309" class="Symbol">=</a> <a id="TSPL.2024_Assignment3-11311" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10505" class="Function Operator">μ′</a> <a id="TSPL.2024_Assignment3-11314" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11431" class="Function">+</a> <a id="TSPL.2024_Assignment3-11316" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10505" class="Function Operator">⇒</a> <a id="TSPL.2024_Assignment3-11318" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10270" class="Function Operator">ƛ′</a> <a id="TSPL.2024_Assignment3-11321" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11447" class="Function">m</a> <a id="TSPL.2024_Assignment3-11323" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10270" class="Function Operator">⇒</a> <a id="TSPL.2024_Assignment3-11325" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10270" class="Function Operator">ƛ′</a> <a id="TSPL.2024_Assignment3-11328" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11463" class="Function">n</a> <a id="TSPL.2024_Assignment3-11330" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10270" class="Function Operator">⇒</a>
            <a id="TSPL.2024_Assignment3-11344" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10351" class="Function Operator">case′</a> <a id="TSPL.2024_Assignment3-11350" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11447" class="Function">m</a>
              <a id="TSPL.2024_Assignment3-11366" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10351" class="Function Operator">[zero⇒</a> <a id="TSPL.2024_Assignment3-11373" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11463" class="Function">n</a>
              <a id="TSPL.2024_Assignment3-11389" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10351" class="Function Operator">|suc</a> <a id="TSPL.2024_Assignment3-11394" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11447" class="Function">m</a> <a id="TSPL.2024_Assignment3-11396" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10351" class="Function Operator">⇒</a> <a id="TSPL.2024_Assignment3-11398" href="../../../Lambda/#plfa_plfa-part2-Lambda-4115" class="InductiveConstructor Operator">`suc</a> <a id="TSPL.2024_Assignment3-11403" class="Symbol">(</a><a id="TSPL.2024_Assignment3-11404" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11431" class="Function">+</a> <a id="TSPL.2024_Assignment3-11406" href="../../../Lambda/#plfa_plfa-part2-Lambda-4033" class="InductiveConstructor Operator">·</a> <a id="TSPL.2024_Assignment3-11408" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11447" class="Function">m</a> <a id="TSPL.2024_Assignment3-11410" href="../../../Lambda/#plfa_plfa-part2-Lambda-4033" class="InductiveConstructor Operator">·</a> <a id="TSPL.2024_Assignment3-11412" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11463" class="Function">n</a><a id="TSPL.2024_Assignment3-11413" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-11415" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-10351" class="Function Operator">]</a>
    <a id="TSPL.2024_Assignment3-11421" class="Keyword">where</a>
    <a id="TSPL.2024_Assignment3-11431" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11431" class="Function">+</a>  <a id="TSPL.2024_Assignment3-11434" class="Symbol">=</a>  <a id="TSPL.2024_Assignment3-11437" href="../../../Lambda/#plfa_plfa-part2-Lambda-3948" class="InductiveConstructor Operator">`</a> <a id="TSPL.2024_Assignment3-11439" class="String">&quot;+&quot;</a>
    <a id="TSPL.2024_Assignment3-11447" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11447" class="Function">m</a>  <a id="TSPL.2024_Assignment3-11450" class="Symbol">=</a>  <a id="TSPL.2024_Assignment3-11453" href="../../../Lambda/#plfa_plfa-part2-Lambda-3948" class="InductiveConstructor Operator">`</a> <a id="TSPL.2024_Assignment3-11455" class="String">&quot;m&quot;</a>
    <a id="TSPL.2024_Assignment3-11463" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-11463" class="Function">n</a>  <a id="TSPL.2024_Assignment3-11466" class="Symbol">=</a>  <a id="TSPL.2024_Assignment3-11469" href="../../../Lambda/#plfa_plfa-part2-Lambda-3948" class="InductiveConstructor Operator">`</a> <a id="TSPL.2024_Assignment3-11471" class="String">&quot;n&quot;</a>
</pre><p>Write out the definition of multiplication in the same style.</p><h4 id="exercise-___-stretch">Exercise <code>_[_:=_]′</code> (stretch)</h4><p>The definition of substitution above has three clauses (<code>ƛ</code>, <code>case</code>, and <code>μ</code>) that invoke a <code>with</code> clause to deal with bound variables. Rewrite the definition to factor the common part of these three clauses into a single function, defined by mutual recursion with substitution.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-11869" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-practice">Exercise <code>—↠≲—↠′</code> (practice)</h4><p>Show that the first notion of reflexive and transitive closure above embeds into the second. Why are they not isomorphic?</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-12066" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-plus-example-practice">Exercise <code>plus-example</code> (practice)</h4><p>Write out the reduction sequence demonstrating that one plus one is two.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-12219" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-context--practice">Exercise <code>Context-≃</code> (practice)</h4><p>Show that <code>Context</code> is isomorphic to <code>List (Id × Type)</code>. For instance, the isomorphism relates the context</p><pre><code>∅ , &quot;s&quot; ⦂ `ℕ ⇒ `ℕ , &quot;z&quot; ⦂ `ℕ</code></pre><p>to the list</p><pre><code>[ ⟨ &quot;z&quot; , `ℕ ⟩ , ⟨ &quot;s&quot; , `ℕ ⇒ `ℕ ⟩ ]</code></pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-12493" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-mul-recommended-1">Exercise <code>⊢mul</code> (recommended)</h4><p>Using the term <code>mul</code> you defined earlier, write out the derivation showing that it is well typed.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-12666" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-mulᶜ-practice-1">Exercise <code>⊢mulᶜ</code> (practice)</h4><p>Using the term <code>mulᶜ</code> you defined earlier, write out the derivation showing that it is well typed.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-12839" class="Comment">-- Your code goes here</a>
</pre><h2 id="properties">Properties</h2><pre class="Agda"><a id="TSPL.2024_Assignment3-12888" class="Keyword">module</a> <a id="TSPL.2024_Assignment3-Properties"></a><a id="TSPL.2024_Assignment3-12895" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-12895" class="Module">Properties</a> <a id="TSPL.2024_Assignment3-12906" class="Keyword">where</a>
</pre><h2 id="imports-2">Imports</h2><pre class="Agda">  <a id="TSPL.2024_Assignment3-12939" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-12944" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-12951" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
    <a id="TSPL.2024_Assignment3-12993" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-12999" class="Symbol">(</a><a id="TSPL.2024_Assignment3-13000" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="TSPL.2024_Assignment3-13003" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13005" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">_≢_</a><a id="TSPL.2024_Assignment3-13008" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13010" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="TSPL.2024_Assignment3-13014" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13016" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a><a id="TSPL.2024_Assignment3-13019" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13021" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a><a id="TSPL.2024_Assignment3-13025" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13027" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a><a id="TSPL.2024_Assignment3-13032" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-13036" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-13041" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-13048" href="https://agda.github.io/agda-stdlib/v2.1/Data.String.html" class="Module">Data.String</a> <a id="TSPL.2024_Assignment3-13060" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-13066" class="Symbol">(</a><a id="TSPL.2024_Assignment3-13067" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.String.html#335" class="Postulate">String</a><a id="TSPL.2024_Assignment3-13073" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13075" href="https://agda.github.io/agda-stdlib/v2.1/Data.String.Properties.html#2733" class="Function Operator">_≟_</a><a id="TSPL.2024_Assignment3-13078" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-13082" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-13087" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-13094" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="TSPL.2024_Assignment3-13103" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-13109" class="Symbol">(</a><a id="TSPL.2024_Assignment3-13110" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="TSPL.2024_Assignment3-13111" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13113" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="TSPL.2024_Assignment3-13117" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13119" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="TSPL.2024_Assignment3-13122" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-13126" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-13131" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-13138" href="https://agda.github.io/agda-stdlib/v2.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="TSPL.2024_Assignment3-13149" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-13155" class="Symbol">(</a><a id="TSPL.2024_Assignment3-13156" href="https://agda.github.io/agda-stdlib/v2.1/Data.Empty.html#914" class="Function">⊥</a><a id="TSPL.2024_Assignment3-13157" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13159" href="https://agda.github.io/agda-stdlib/v2.1/Data.Empty.html#1069" class="Function">⊥-elim</a><a id="TSPL.2024_Assignment3-13165" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-13169" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-13174" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-13181" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.html" class="Module">Data.Product</a>
    <a id="TSPL.2024_Assignment3-13198" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-13204" class="Symbol">(</a><a id="TSPL.2024_Assignment3-13205" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="TSPL.2024_Assignment3-13208" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13210" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#636" class="Field">proj₁</a><a id="TSPL.2024_Assignment3-13215" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13217" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#650" class="Field">proj₂</a><a id="TSPL.2024_Assignment3-13222" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13224" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#852" class="Function">∃</a><a id="TSPL.2024_Assignment3-13225" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13227" href="https://agda.github.io/agda-stdlib/v2.1/Data.Product.Base.html#1371" class="Function">∃-syntax</a><a id="TSPL.2024_Assignment3-13235" class="Symbol">)</a>
    <a id="TSPL.2024_Assignment3-13241" class="Keyword">renaming</a> <a id="TSPL.2024_Assignment3-13250" class="Symbol">(</a><a id="TSPL.2024_Assignment3-13251" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="TSPL.2024_Assignment3-13255" class="Symbol">to</a> <a id="TSPL.2024_Assignment3-13258" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="TSPL.2024_Assignment3-13263" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-13267" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-13272" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-13279" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.html" class="Module">Data.Sum</a> <a id="TSPL.2024_Assignment3-13288" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-13294" class="Symbol">(</a><a id="TSPL.2024_Assignment3-13295" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#625" class="Datatype Operator">_⊎_</a><a id="TSPL.2024_Assignment3-13298" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13300" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a><a id="TSPL.2024_Assignment3-13304" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13306" href="https://agda.github.io/agda-stdlib/v2.1/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a><a id="TSPL.2024_Assignment3-13310" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-13314" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-13319" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-13326" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="TSPL.2024_Assignment3-13343" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-13349" class="Symbol">(</a><a id="TSPL.2024_Assignment3-13350" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="TSPL.2024_Assignment3-13352" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13354" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a><a id="TSPL.2024_Assignment3-13357" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13359" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a><a id="TSPL.2024_Assignment3-13362" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13364" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a><a id="TSPL.2024_Assignment3-13366" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-13370" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-13375" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-13382" href="https://agda.github.io/agda-stdlib/v2.1/Function.html" class="Module">Function</a> <a id="TSPL.2024_Assignment3-13391" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-13397" class="Symbol">(</a><a id="TSPL.2024_Assignment3-13398" href="https://agda.github.io/agda-stdlib/v2.1/Function.Base.html#1115" class="Function Operator">_∘_</a><a id="TSPL.2024_Assignment3-13401" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-13405" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-13410" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-13417" href="../../../Isomorphism/#" class="Module">plfa.part1.Isomorphism</a>
  <a id="TSPL.2024_Assignment3-13442" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-13447" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-13454" href="../../../Lambda/#" class="Module">plfa.part2.Lambda</a>
</pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-13484" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-13489" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-13496" href="../../../Properties/#" class="Module">plfa.part2.Properties</a>
    <a id="TSPL.2024_Assignment3-13522" class="Keyword">hiding</a> <a id="TSPL.2024_Assignment3-13529" class="Symbol">(</a><a id="TSPL.2024_Assignment3-13530" href="../../../Properties/#plfa_plfa-part2-Properties-10142" class="Postulate">value?</a><a id="TSPL.2024_Assignment3-13536" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13538" href="../../../Properties/#plfa_plfa-part2-Properties-4787" class="Datatype Operator">Canonical_⦂_</a><a id="TSPL.2024_Assignment3-13550" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13552" href="../../../Properties/#plfa_plfa-part2-Properties-40389" class="Postulate">unstuck</a><a id="TSPL.2024_Assignment3-13559" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13561" href="../../../Properties/#plfa_plfa-part2-Properties-40593" class="Postulate">preserves</a><a id="TSPL.2024_Assignment3-13570" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-13572" href="../../../Properties/#plfa_plfa-part2-Properties-40834" class="Postulate">wttdgs</a><a id="TSPL.2024_Assignment3-13578" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-13582" class="Comment">-- open Lambda using (mul; ⊢mul)</a>
</pre><h4 id="exercise-canonical--practice">Exercise <code>Canonical-≃</code> (practice)</h4>Well-typed values must take one of a small number of <em>canonical forms</em>, which provide an analogue of the <code>Value</code> relation that relates values to their types. A lambda expression must have a function type, and a zero or successor expression must be a natural. Further, the body of a function must be well typed in a context containing only its bound variable, and the argument of successor must itself be canonical:<pre class="Agda">  <a id="TSPL.2024_Assignment3-14086" class="Keyword">infix</a>  <a id="TSPL.2024_Assignment3-14093" class="Number">4</a> <a id="TSPL.2024_Assignment3-14095" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14116" class="Datatype Operator">Canonical_⦂_</a>

  <a id="TSPL.2024_Assignment3-14111" class="Keyword">data</a> <a id="TSPL.2024_Assignment3-Properties.Canonical_⦂_"></a><a id="TSPL.2024_Assignment3-14116" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14116" class="Datatype Operator">Canonical_⦂_</a> <a id="TSPL.2024_Assignment3-14129" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-14131" href="../../../Lambda/#plfa_plfa-part2-Lambda-3929" class="Datatype">Term</a> <a id="TSPL.2024_Assignment3-14136" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-14138" href="../../../Lambda/#plfa_plfa-part2-Lambda-30514" class="Datatype">Type</a> <a id="TSPL.2024_Assignment3-14143" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-14145" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="TSPL.2024_Assignment3-14149" class="Keyword">where</a>

    <a id="TSPL.2024_Assignment3-Properties.Canonical_⦂_.C-ƛ"></a><a id="TSPL.2024_Assignment3-14160" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14160" class="InductiveConstructor">C-ƛ</a> <a id="TSPL.2024_Assignment3-14164" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-14166" class="Symbol">∀</a> <a id="TSPL.2024_Assignment3-14168" class="Symbol">{</a><a id="TSPL.2024_Assignment3-14169" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14169" class="Bound">x</a> <a id="TSPL.2024_Assignment3-14171" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14171" class="Bound">A</a> <a id="TSPL.2024_Assignment3-14173" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14173" class="Bound">N</a> <a id="TSPL.2024_Assignment3-14175" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14175" class="Bound">B</a><a id="TSPL.2024_Assignment3-14176" class="Symbol">}</a>
      <a id="TSPL.2024_Assignment3-14184" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-14186" href="../../../Lambda/#plfa_plfa-part2-Lambda-32204" class="InductiveConstructor">∅</a> <a id="TSPL.2024_Assignment3-14188" href="../../../Lambda/#plfa_plfa-part2-Lambda-32222" class="InductiveConstructor Operator">,</a> <a id="TSPL.2024_Assignment3-14190" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14169" class="Bound">x</a> <a id="TSPL.2024_Assignment3-14192" href="../../../Lambda/#plfa_plfa-part2-Lambda-32222" class="InductiveConstructor Operator">⦂</a> <a id="TSPL.2024_Assignment3-14194" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14171" class="Bound">A</a> <a id="TSPL.2024_Assignment3-14196" href="../../../Lambda/#plfa_plfa-part2-Lambda-35130" class="Datatype Operator">⊢</a> <a id="TSPL.2024_Assignment3-14198" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14173" class="Bound">N</a> <a id="TSPL.2024_Assignment3-14200" href="../../../Lambda/#plfa_plfa-part2-Lambda-35130" class="Datatype Operator">⦂</a> <a id="TSPL.2024_Assignment3-14202" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14175" class="Bound">B</a>
        <a id="TSPL.2024_Assignment3-14212" class="Comment">-----------------------------</a>
      <a id="TSPL.2024_Assignment3-14248" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-14250" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14116" class="Datatype Operator">Canonical</a> <a id="TSPL.2024_Assignment3-14260" class="Symbol">(</a><a id="TSPL.2024_Assignment3-14261" href="../../../Lambda/#plfa_plfa-part2-Lambda-3987" class="InductiveConstructor Operator">ƛ</a> <a id="TSPL.2024_Assignment3-14263" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14169" class="Bound">x</a> <a id="TSPL.2024_Assignment3-14265" href="../../../Lambda/#plfa_plfa-part2-Lambda-3987" class="InductiveConstructor Operator">⇒</a> <a id="TSPL.2024_Assignment3-14267" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14173" class="Bound">N</a><a id="TSPL.2024_Assignment3-14268" class="Symbol">)</a> <a id="TSPL.2024_Assignment3-14270" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14116" class="Datatype Operator">⦂</a> <a id="TSPL.2024_Assignment3-14272" class="Symbol">(</a><a id="TSPL.2024_Assignment3-14273" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14171" class="Bound">A</a> <a id="TSPL.2024_Assignment3-14275" href="../../../Lambda/#plfa_plfa-part2-Lambda-30533" class="InductiveConstructor Operator">⇒</a> <a id="TSPL.2024_Assignment3-14277" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14175" class="Bound">B</a><a id="TSPL.2024_Assignment3-14278" class="Symbol">)</a>

    <a id="TSPL.2024_Assignment3-Properties.Canonical_⦂_.C-zero"></a><a id="TSPL.2024_Assignment3-14285" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14285" class="InductiveConstructor">C-zero</a> <a id="TSPL.2024_Assignment3-14292" class="Symbol">:</a>
        <a id="TSPL.2024_Assignment3-14302" class="Comment">--------------------</a>
        <a id="TSPL.2024_Assignment3-14331" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14116" class="Datatype Operator">Canonical</a> <a id="TSPL.2024_Assignment3-14341" href="../../../Lambda/#plfa_plfa-part2-Lambda-4081" class="InductiveConstructor">`zero</a> <a id="TSPL.2024_Assignment3-14347" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14116" class="Datatype Operator">⦂</a> <a id="TSPL.2024_Assignment3-14349" href="../../../Lambda/#plfa_plfa-part2-Lambda-30560" class="InductiveConstructor">`ℕ</a>

    <a id="TSPL.2024_Assignment3-Properties.Canonical_⦂_.C-suc"></a><a id="TSPL.2024_Assignment3-14357" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14357" class="InductiveConstructor">C-suc</a> <a id="TSPL.2024_Assignment3-14363" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-14365" class="Symbol">∀</a> <a id="TSPL.2024_Assignment3-14367" class="Symbol">{</a><a id="TSPL.2024_Assignment3-14368" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14368" class="Bound">V</a><a id="TSPL.2024_Assignment3-14369" class="Symbol">}</a>
      <a id="TSPL.2024_Assignment3-14377" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-14379" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14116" class="Datatype Operator">Canonical</a> <a id="TSPL.2024_Assignment3-14389" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14368" class="Bound">V</a> <a id="TSPL.2024_Assignment3-14391" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14116" class="Datatype Operator">⦂</a> <a id="TSPL.2024_Assignment3-14393" href="../../../Lambda/#plfa_plfa-part2-Lambda-30560" class="InductiveConstructor">`ℕ</a>
        <a id="TSPL.2024_Assignment3-14404" class="Comment">---------------------</a>
      <a id="TSPL.2024_Assignment3-14432" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-14434" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14116" class="Datatype Operator">Canonical</a> <a id="TSPL.2024_Assignment3-14444" href="../../../Lambda/#plfa_plfa-part2-Lambda-4115" class="InductiveConstructor Operator">`suc</a> <a id="TSPL.2024_Assignment3-14449" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14368" class="Bound">V</a> <a id="TSPL.2024_Assignment3-14451" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-14116" class="Datatype Operator">⦂</a> <a id="TSPL.2024_Assignment3-14453" href="../../../Lambda/#plfa_plfa-part2-Lambda-30560" class="InductiveConstructor">`ℕ</a>
</pre><p>Show that <code>Canonical V ⦂ A</code> is isomorphic to <code>(∅ ⊢ V ⦂ A) × (Value V)</code>, that is, the canonical forms are exactly the well-typed values.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-14604" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-progress--practice">Exercise <code>Progress-≃</code> (practice)</h4><p>Show that <code>Progress M</code> is isomorphic to <code>Value M ⊎ ∃[ N ](M —→ N)</code>.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-14750" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-progress-practice">Exercise <code>progress′</code> (practice)</h4><p>Write out the proof of <code>progress′</code> in full, and compare it to the proof of <code>progress</code> above.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-14920" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-value-practice">Exercise <code>value?</code> (practice)</h4>Combine <code>progress</code> and <code>—→¬V</code> to write a program that decides whether a well-typed term is a value:<pre class="Agda">  <a id="TSPL.2024_Assignment3-15093" class="Keyword">postulate</a>
    <a id="TSPL.2024_Assignment3-Properties.value?"></a><a id="TSPL.2024_Assignment3-15107" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-15107" class="Postulate">value?</a> <a id="TSPL.2024_Assignment3-15114" class="Symbol">:</a> <a id="TSPL.2024_Assignment3-15116" class="Symbol">∀</a> <a id="TSPL.2024_Assignment3-15118" class="Symbol">{</a><a id="TSPL.2024_Assignment3-15119" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-15119" class="Bound">A</a> <a id="TSPL.2024_Assignment3-15121" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-15121" class="Bound">M</a><a id="TSPL.2024_Assignment3-15122" class="Symbol">}</a> <a id="TSPL.2024_Assignment3-15124" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-15126" href="../../../Lambda/#plfa_plfa-part2-Lambda-32204" class="InductiveConstructor">∅</a> <a id="TSPL.2024_Assignment3-15128" href="../../../Lambda/#plfa_plfa-part2-Lambda-35130" class="Datatype Operator">⊢</a> <a id="TSPL.2024_Assignment3-15130" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-15121" class="Bound">M</a> <a id="TSPL.2024_Assignment3-15132" href="../../../Lambda/#plfa_plfa-part2-Lambda-35130" class="Datatype Operator">⦂</a> <a id="TSPL.2024_Assignment3-15134" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-15119" class="Bound">A</a> <a id="TSPL.2024_Assignment3-15136" class="Symbol">→</a> <a id="TSPL.2024_Assignment3-15138" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="TSPL.2024_Assignment3-15142" class="Symbol">(</a><a id="TSPL.2024_Assignment3-15143" href="../../../Lambda/#plfa_plfa-part2-Lambda-12235" class="Datatype">Value</a> <a id="TSPL.2024_Assignment3-15149" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-15121" class="Bound">M</a><a id="TSPL.2024_Assignment3-15150" class="Symbol">)</a>
</pre><h4 id="exercise-subst-stretch">Exercise <code>subst′</code> (stretch)</h4><p>Rewrite <code>subst</code> to work with the modified definition <code>_[_:=_]′</code> from the exercise in the previous chapter. As before, this should factor dealing with bound variables into a single function, defined by mutual recursion with the proof that substitution preserves types.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-15471" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-mul-eval-recommended">Exercise <code>mul-eval</code> (recommended)</h4><p>Using the evaluator, confirm that two times two is four.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-15608" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-progress-preservation-practice">Exercise: <code>progress-preservation</code> (practice)</h4><p>Without peeking at their statements above, write down the progress and preservation theorems for the simply typed lambda-calculus.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-15830" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-subject_expansion-practice">Exercise <code>subject_expansion</code> (practice)</h4><p>We say that <code>M</code> <em>reduces</em> to <code>N</code> if <code>M —→ N</code>, but we can also describe the same situation by saying that <code>N</code> <em>expands</em> to <code>M</code>. The preservation property is sometimes called <em>subject reduction</em>. Its opposite is <em>subject expansion</em>, which holds if <code>M —→ N</code> and <code>∅ ⊢ N ⦂ A</code> imply <code>∅ ⊢ M ⦂ A</code>. Find two counter-examples to subject expansion, one with case expressions and one not involving case expressions.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-16320" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-stuck-practice">Exercise <code>stuck</code> (practice)</h4><p>Give an example of an ill-typed term that does get stuck.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-16452" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-unstuck-recommended">Exercise <code>unstuck</code> (recommended)</h4><p>Provide proofs of the three postulates, <code>unstuck</code>, <code>preserves</code>, and <code>wttdgs</code> above.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-16614" class="Comment">-- Your code goes here</a>
</pre><h2 id="debruijn">DeBruijn</h2><pre class="Agda"><a id="TSPL.2024_Assignment3-16660" class="Keyword">module</a> <a id="TSPL.2024_Assignment3-DeBruijn"></a><a id="TSPL.2024_Assignment3-16667" href="../../../TSPL/2024/Assignment3/#TSPL.2024_Assignment3-16667" class="Module">DeBruijn</a> <a id="TSPL.2024_Assignment3-16676" class="Keyword">where</a>
</pre><h2 id="imports-3">Imports</h2><pre class="Agda">  <a id="TSPL.2024_Assignment3-16709" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-16716" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="TSPL.2024_Assignment3-16754" class="Symbol">as</a> <a id="TSPL.2024_Assignment3-16757" class="Module">Eq</a>
  <a id="TSPL.2024_Assignment3-16762" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-16767" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="TSPL.2024_Assignment3-16770" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-16776" class="Symbol">(</a><a id="TSPL.2024_Assignment3-16777" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="TSPL.2024_Assignment3-16780" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-16782" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="TSPL.2024_Assignment3-16786" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-16790" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-16795" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-16802" href="https://agda.github.io/agda-stdlib/v2.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="TSPL.2024_Assignment3-16813" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-16819" class="Symbol">(</a><a id="TSPL.2024_Assignment3-16820" href="https://agda.github.io/agda-stdlib/v2.1/Data.Empty.html#914" class="Function">⊥</a><a id="TSPL.2024_Assignment3-16821" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-16823" href="https://agda.github.io/agda-stdlib/v2.1/Data.Empty.html#1069" class="Function">⊥-elim</a><a id="TSPL.2024_Assignment3-16829" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-16833" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-16838" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-16845" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="TSPL.2024_Assignment3-16854" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-16860" class="Symbol">(</a><a id="TSPL.2024_Assignment3-16861" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="TSPL.2024_Assignment3-16862" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-16864" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="TSPL.2024_Assignment3-16868" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-16870" href="https://agda.github.io/agda-stdlib/v2.1/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="TSPL.2024_Assignment3-16873" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-16875" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Base.html#1801" class="Function Operator">_&lt;_</a><a id="TSPL.2024_Assignment3-16878" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-16880" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Properties.html#6709" class="Function Operator">_≤?_</a><a id="TSPL.2024_Assignment3-16884" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-16886" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Base.html#1714" class="InductiveConstructor">z≤n</a><a id="TSPL.2024_Assignment3-16889" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-16891" href="https://agda.github.io/agda-stdlib/v2.1/Data.Nat.Base.html#1756" class="InductiveConstructor">s≤s</a><a id="TSPL.2024_Assignment3-16894" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-16898" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-16903" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-16910" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="TSPL.2024_Assignment3-16927" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-16933" class="Symbol">(</a><a id="TSPL.2024_Assignment3-16934" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="TSPL.2024_Assignment3-16936" class="Symbol">)</a>
  <a id="TSPL.2024_Assignment3-16940" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-16945" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-16952" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="TSPL.2024_Assignment3-16979" class="Keyword">using</a> <a id="TSPL.2024_Assignment3-16985" class="Symbol">(</a><a id="TSPL.2024_Assignment3-16986" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#4481" class="Function">True</a><a id="TSPL.2024_Assignment3-16990" class="Symbol">;</a> <a id="TSPL.2024_Assignment3-16992" href="https://agda.github.io/agda-stdlib/v2.1/Relation.Nullary.Decidable.Core.html#4771" class="Function">toWitness</a><a id="TSPL.2024_Assignment3-17001" class="Symbol">)</a>
</pre><pre class="Agda">  <a id="TSPL.2024_Assignment3-17014" class="Keyword">open</a> <a id="TSPL.2024_Assignment3-17019" class="Keyword">import</a> <a id="TSPL.2024_Assignment3-17026" href="../../../DeBruijn/#" class="Module">plfa.part2.DeBruijn</a>
    <a id="TSPL.2024_Assignment3-17050" class="Keyword">hiding</a> <a id="TSPL.2024_Assignment3-17057" class="Symbol">()</a>
</pre><h4 id="exercise-mul-recommended-2">Exercise <code>mul</code> (recommended)</h4><p>Write out the definition of a lambda term that multiplies two natural numbers, now adapted to the intrinsically-typed de Bruijn representation.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-17255" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-v-practice">Exercise <code>V¬—→</code> (practice)</h4><p>Following the previous development, show values do not reduce, and its corollary, terms that reduce are not values.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-17444" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-mul-example-recommended">Exercise <code>mul-example</code> (recommended)</h4><p>Using the evaluator, confirm that two times two is four.</p><pre class="Agda">  <a id="TSPL.2024_Assignment3-17583" class="Comment">-- Your code goes here</a>
</pre></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/courses/TSPL/2024/Assignment3.lagda.md">Source</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../../../"></data><div class="wrapper"><h2 class="footer-heading">Programming Language Foundations in Agda</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>